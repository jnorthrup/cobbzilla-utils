<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>kkkkkkkobzillla-utils: src/main/java/org/cobbzilla/util/handlebars/HandlebarsUtil.java Source File</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../resize.js"></script>
<script type="text/javascript" src="../../navtreedata.js"></script>
<script type="text/javascript" src="../../navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">kkkkkkkobzillla-utils
   &#160;<span id="projectnumber">1.0</span>
   </div>
   <div id="projectbrief">kkkkkkkobzillla-utils</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "../../search",false,'Search');
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('../../',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('dd/d5c/HandlebarsUtil_8java_source.html','../../');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">HandlebarsUtil.java</div>  </div>
</div><!--header-->
<div class="contents">
<a href="../../dd/d5c/HandlebarsUtil_8java.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="keyword">package </span>org.cobbzilla.util.handlebars;</div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;</div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="keyword">import</span> com.fasterxml.jackson.core.io.JsonStringEncoder;</div><div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="keyword">import</span> com.fasterxml.jackson.databind.JsonNode;</div><div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="keyword">import</span> com.fasterxml.jackson.databind.node.ArrayNode;</div><div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="keyword">import</span> com.github.jknack.handlebars.Handlebars;</div><div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="keyword">import</span> com.github.jknack.handlebars.HandlebarsException;</div><div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="keyword">import</span> com.github.jknack.handlebars.Helper;</div><div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="keyword">import</span> com.github.jknack.handlebars.Options;</div><div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<span class="keyword">import</span> com.github.jknack.handlebars.io.AbstractTemplateLoader;</div><div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="keyword">import</span> com.github.jknack.handlebars.io.StringTemplateSource;</div><div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;<span class="keyword">import</span> com.github.jknack.handlebars.io.TemplateSource;</div><div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;<span class="keyword">import</span> <a class="code" href="../../d4/d7d/namespacelombok.html">lombok</a>.AllArgsConstructor;</div><div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;<span class="keyword">import</span> <a class="code" href="../../d4/d7d/namespacelombok.html">lombok</a>.Cleanup;</div><div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;<span class="keyword">import</span> <a class="code" href="../../d4/d7d/namespacelombok.html">lombok</a>.Getter;</div><div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;<span class="keyword">import</span> <a class="code" href="../../d4/d7d/namespacelombok.html">lombok</a>.Setter;</div><div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;<span class="keyword">import</span> <a class="code" href="../../d4/d7d/namespacelombok.html">lombok</a>.extern.slf4j.Slf4j;</div><div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;<span class="keyword">import</span> <a class="code" href="../../db/d96/namespaceorg.html">org</a>.apache.commons.collections.iterators.ArrayIterator;</div><div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;<span class="keyword">import</span> <a class="code" href="../../db/d96/namespaceorg.html">org</a>.apache.commons.lang3.StringUtils;</div><div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;<span class="keyword">import</span> <a class="code" href="../../db/d96/namespaceorg.html">org</a>.apache.pdfbox.io.IOUtils;</div><div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;<span class="keyword">import</span> <a class="code" href="../../db/d96/namespaceorg.html">org</a>.<a class="code" href="../../d8/d2e/namespaceorg_1_1cobbzilla.html">cobbzilla</a>.<a class="code" href="../../db/d8e/namespaceorg_1_1cobbzilla_1_1util.html">util</a>.<a class="code" href="../../dd/dd4/namespaceorg_1_1cobbzilla_1_1util_1_1collection.html">collection</a>.<a class="code" href="../../dd/dda/classorg_1_1cobbzilla_1_1util_1_1collection_1_1SingletonList.html">SingletonList</a>;</div><div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;<span class="keyword">import</span> <a class="code" href="../../db/d96/namespaceorg.html">org</a>.<a class="code" href="../../d8/d2e/namespaceorg_1_1cobbzilla.html">cobbzilla</a>.<a class="code" href="../../db/d8e/namespaceorg_1_1cobbzilla_1_1util.html">util</a>.<a class="code" href="../../d1/da3/namespaceorg_1_1cobbzilla_1_1util_1_1http.html">http</a>.<a class="code" href="../../de/d2b/classorg_1_1cobbzilla_1_1util_1_1http_1_1HttpContentTypes.html">HttpContentTypes</a>;</div><div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;<span class="keyword">import</span> <a class="code" href="../../db/d96/namespaceorg.html">org</a>.<a class="code" href="../../d8/d2e/namespaceorg_1_1cobbzilla.html">cobbzilla</a>.<a class="code" href="../../db/d8e/namespaceorg_1_1cobbzilla_1_1util.html">util</a>.<a class="code" href="../../d7/da3/namespaceorg_1_1cobbzilla_1_1util_1_1io.html">io</a>.<a class="code" href="../../d0/df1/interfaceorg_1_1cobbzilla_1_1util_1_1io_1_1FileResolver.html">FileResolver</a>;</div><div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;<span class="keyword">import</span> <a class="code" href="../../db/d96/namespaceorg.html">org</a>.<a class="code" href="../../d8/d2e/namespaceorg_1_1cobbzilla.html">cobbzilla</a>.<a class="code" href="../../db/d8e/namespaceorg_1_1cobbzilla_1_1util.html">util</a>.<a class="code" href="../../d7/da3/namespaceorg_1_1cobbzilla_1_1util_1_1io.html">io</a>.<a class="code" href="../../df/dac/classorg_1_1cobbzilla_1_1util_1_1io_1_1FileUtil.html">FileUtil</a>;</div><div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;<span class="keyword">import</span> <a class="code" href="../../db/d96/namespaceorg.html">org</a>.<a class="code" href="../../d8/d2e/namespaceorg_1_1cobbzilla.html">cobbzilla</a>.<a class="code" href="../../db/d8e/namespaceorg_1_1cobbzilla_1_1util.html">util</a>.<a class="code" href="../../d7/da3/namespaceorg_1_1cobbzilla_1_1util_1_1io.html">io</a>.<a class="code" href="../../d2/d5d/classorg_1_1cobbzilla_1_1util_1_1io_1_1PathListFileResolver.html">PathListFileResolver</a>;</div><div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;<span class="keyword">import</span> <a class="code" href="../../db/d96/namespaceorg.html">org</a>.<a class="code" href="../../d8/d2e/namespaceorg_1_1cobbzilla.html">cobbzilla</a>.<a class="code" href="../../db/d8e/namespaceorg_1_1cobbzilla_1_1util.html">util</a>.<a class="code" href="../../da/d1e/namespaceorg_1_1cobbzilla_1_1util_1_1javascript.html">javascript</a>.<a class="code" href="../../d4/d50/interfaceorg_1_1cobbzilla_1_1util_1_1javascript_1_1JsEngineFactory.html">JsEngineFactory</a>;</div><div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;<span class="keyword">import</span> <a class="code" href="../../db/d96/namespaceorg.html">org</a>.<a class="code" href="../../d8/d2e/namespaceorg_1_1cobbzilla.html">cobbzilla</a>.<a class="code" href="../../db/d8e/namespaceorg_1_1cobbzilla_1_1util.html">util</a>.<a class="code" href="../../dd/d2e/namespaceorg_1_1cobbzilla_1_1util_1_1reflect.html">reflect</a>.<a class="code" href="../../de/d45/classorg_1_1cobbzilla_1_1util_1_1reflect_1_1ReflectionUtil.html">ReflectionUtil</a>;</div><div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;<span class="keyword">import</span> <a class="code" href="../../db/d96/namespaceorg.html">org</a>.<a class="code" href="../../d8/d2e/namespaceorg_1_1cobbzilla.html">cobbzilla</a>.<a class="code" href="../../db/d8e/namespaceorg_1_1cobbzilla_1_1util.html">util</a>.<a class="code" href="../../d7/dda/namespaceorg_1_1cobbzilla_1_1util_1_1string.html">string</a>.<a class="code" href="../../d9/dbd/classorg_1_1cobbzilla_1_1util_1_1string_1_1LocaleUtil.html">LocaleUtil</a>;</div><div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;<span class="keyword">import</span> <a class="code" href="../../db/d96/namespaceorg.html">org</a>.<a class="code" href="../../d8/d2e/namespaceorg_1_1cobbzilla.html">cobbzilla</a>.<a class="code" href="../../db/d8e/namespaceorg_1_1cobbzilla_1_1util.html">util</a>.<a class="code" href="../../d7/dda/namespaceorg_1_1cobbzilla_1_1util_1_1string.html">string</a>.<a class="code" href="../../db/d9f/classorg_1_1cobbzilla_1_1util_1_1string_1_1StringUtil.html">StringUtil</a>;</div><div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;<span class="keyword">import</span> <a class="code" href="../../db/d96/namespaceorg.html">org</a>.<a class="code" href="../../d8/d2e/namespaceorg_1_1cobbzilla.html">cobbzilla</a>.<a class="code" href="../../db/d8e/namespaceorg_1_1cobbzilla_1_1util.html">util</a>.<a class="code" href="../../d9/d2b/namespaceorg_1_1cobbzilla_1_1util_1_1time.html">time</a>.<a class="code" href="../../d2/dea/classorg_1_1cobbzilla_1_1util_1_1time_1_1TimeUtil.html">TimeUtil</a>;</div><div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;<span class="keyword">import</span> <a class="code" href="../../db/d96/namespaceorg.html">org</a>.joda.time.DateTime;</div><div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;<span class="keyword">import</span> <a class="code" href="../../db/d96/namespaceorg.html">org</a>.joda.time.DateTimeZone;</div><div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;<span class="keyword">import</span> <a class="code" href="../../db/d96/namespaceorg.html">org</a>.joda.time.Period;</div><div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;<span class="keyword">import</span> <a class="code" href="../../db/d96/namespaceorg.html">org</a>.joda.time.format.DateTimeFormat;</div><div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;<span class="keyword">import</span> <a class="code" href="../../db/d96/namespaceorg.html">org</a>.joda.time.format.DateTimeFormatter;</div><div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;</div><div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;<span class="keyword">import</span> java.io.File;</div><div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;<span class="keyword">import</span> java.io.FileNotFoundException;</div><div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;<span class="keyword">import</span> java.io.IOException;</div><div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;<span class="keyword">import</span> java.io.StringWriter;</div><div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;<span class="keyword">import</span> java.lang.reflect.Method;</div><div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;<span class="keyword">import</span> java.math.BigDecimal;</div><div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;<span class="keyword">import</span> java.math.MathContext;</div><div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;<span class="keyword">import</span> java.util.*;</div><div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;<span class="keyword">import</span> java.util.concurrent.ExecutorService;</div><div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;<span class="keyword">import</span> java.util.concurrent.atomic.AtomicReference;</div><div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;</div><div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;<span class="keyword">import</span> <span class="keyword">static</span> java.util.regex.Pattern.quote;</div><div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;<span class="keyword">import</span> <span class="keyword">static</span> <a class="code" href="../../db/d96/namespaceorg.html">org</a>.<a class="code" href="../../d8/d2e/namespaceorg_1_1cobbzilla.html">cobbzilla</a>.<a class="code" href="../../db/d8e/namespaceorg_1_1cobbzilla_1_1util.html">util</a>.<a class="code" href="../../d0/de3/namespaceorg_1_1cobbzilla_1_1util_1_1daemon.html">daemon</a>.<a class="code" href="../../d2/d3b/classorg_1_1cobbzilla_1_1util_1_1daemon_1_1DaemonThreadFactory.html">DaemonThreadFactory</a>.<a class="code" href="../../d2/d3b/classorg_1_1cobbzilla_1_1util_1_1daemon_1_1DaemonThreadFactory_a5629ba25f4599a5be90e823ad7ee4ceb.html#a5629ba25f4599a5be90e823ad7ee4ceb">fixedPool</a>;</div><div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;<span class="keyword">import</span> <span class="keyword">static</span> <a class="code" href="../../db/d96/namespaceorg.html">org</a>.<a class="code" href="../../d8/d2e/namespaceorg_1_1cobbzilla.html">cobbzilla</a>.<a class="code" href="../../db/d8e/namespaceorg_1_1cobbzilla_1_1util.html">util</a>.<a class="code" href="../../d0/de3/namespaceorg_1_1cobbzilla_1_1util_1_1daemon.html">daemon</a>.<a class="code" href="../../d4/de3/classorg_1_1cobbzilla_1_1util_1_1daemon_1_1ZillaRuntime.html">ZillaRuntime</a>.*;</div><div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;<span class="keyword">import</span> <span class="keyword">static</span> <a class="code" href="../../db/d96/namespaceorg.html">org</a>.<a class="code" href="../../d8/d2e/namespaceorg_1_1cobbzilla.html">cobbzilla</a>.<a class="code" href="../../db/d8e/namespaceorg_1_1cobbzilla_1_1util.html">util</a>.<a class="code" href="../../d7/da3/namespaceorg_1_1cobbzilla_1_1util_1_1io.html">io</a>.<a class="code" href="../../dc/d81/classorg_1_1cobbzilla_1_1util_1_1io_1_1StreamUtil.html">StreamUtil</a>.<a class="code" href="../../dc/d81/classorg_1_1cobbzilla_1_1util_1_1io_1_1StreamUtil_aa82a9bc20749f971c1ec04a4025ef34d.html#aa82a9bc20749f971c1ec04a4025ef34d">loadResourceAsStream</a>;</div><div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;<span class="keyword">import</span> <span class="keyword">static</span> <a class="code" href="../../db/d96/namespaceorg.html">org</a>.<a class="code" href="../../d8/d2e/namespaceorg_1_1cobbzilla.html">cobbzilla</a>.<a class="code" href="../../db/d8e/namespaceorg_1_1cobbzilla_1_1util.html">util</a>.<a class="code" href="../../d7/da3/namespaceorg_1_1cobbzilla_1_1util_1_1io.html">io</a>.<a class="code" href="../../dc/d81/classorg_1_1cobbzilla_1_1util_1_1io_1_1StreamUtil.html">StreamUtil</a>.<a class="code" href="../../dc/d81/classorg_1_1cobbzilla_1_1util_1_1io_1_1StreamUtil_affb0a215e484683e608965f1f54c675e.html#affb0a215e484683e608965f1f54c675e">stream2string</a>;</div><div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;<span class="keyword">import</span> <span class="keyword">static</span> <a class="code" href="../../db/d96/namespaceorg.html">org</a>.<a class="code" href="../../d8/d2e/namespaceorg_1_1cobbzilla.html">cobbzilla</a>.<a class="code" href="../../db/d8e/namespaceorg_1_1cobbzilla_1_1util.html">util</a>.<a class="code" href="../../d5/d8d/namespaceorg_1_1cobbzilla_1_1util_1_1json.html">json</a>.<a class="code" href="../../dc/d2c/classorg_1_1cobbzilla_1_1util_1_1json_1_1JsonUtil.html">JsonUtil</a>.<a class="code" href="../../dc/d2c/classorg_1_1cobbzilla_1_1util_1_1json_1_1JsonUtil_a4181f7525f80c694d58881fca5fe097f.html#a4181f7525f80c694d58881fca5fe097f">json</a>;</div><div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;<span class="keyword">import</span> <span class="keyword">static</span> <a class="code" href="../../db/d96/namespaceorg.html">org</a>.<a class="code" href="../../d8/d2e/namespaceorg_1_1cobbzilla.html">cobbzilla</a>.<a class="code" href="../../db/d8e/namespaceorg_1_1cobbzilla_1_1util.html">util</a>.<a class="code" href="../../da/db0/namespaceorg_1_1cobbzilla_1_1util_1_1security.html">security</a>.<a class="code" href="../../d6/dbf/classorg_1_1cobbzilla_1_1util_1_1security_1_1ShaUtil.html">ShaUtil</a>.<a class="code" href="../../d6/dbf/classorg_1_1cobbzilla_1_1util_1_1security_1_1ShaUtil_a36156b8bd14a480cac3fc2b98c2dad46.html#a36156b8bd14a480cac3fc2b98c2dad46">sha256_hex</a>;</div><div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;<span class="keyword">import</span> <span class="keyword">static</span> <a class="code" href="../../db/d96/namespaceorg.html">org</a>.<a class="code" href="../../d8/d2e/namespaceorg_1_1cobbzilla.html">cobbzilla</a>.<a class="code" href="../../db/d8e/namespaceorg_1_1cobbzilla_1_1util.html">util</a>.<a class="code" href="../../d7/dda/namespaceorg_1_1cobbzilla_1_1util_1_1string.html">string</a>.<a class="code" href="../../df/da0/classorg_1_1cobbzilla_1_1util_1_1string_1_1Base64.html">Base64</a>.<a class="code" href="../../df/da0/classorg_1_1cobbzilla_1_1util_1_1string_1_1Base64_abb94a9b460b25c09a5c1d2f593d6c173.html#abb94a9b460b25c09a5c1d2f593d6c173">encodeBytes</a>;</div><div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;<span class="keyword">import</span> <span class="keyword">static</span> <a class="code" href="../../db/d96/namespaceorg.html">org</a>.<a class="code" href="../../d8/d2e/namespaceorg_1_1cobbzilla.html">cobbzilla</a>.<a class="code" href="../../db/d8e/namespaceorg_1_1cobbzilla_1_1util.html">util</a>.<a class="code" href="../../d7/dda/namespaceorg_1_1cobbzilla_1_1util_1_1string.html">string</a>.<a class="code" href="../../df/da0/classorg_1_1cobbzilla_1_1util_1_1string_1_1Base64.html">Base64</a>.<a class="code" href="../../df/da0/classorg_1_1cobbzilla_1_1util_1_1string_1_1Base64_a50e405f442016eb3f0488cc820bf78ec.html#a50e405f442016eb3f0488cc820bf78ec">encodeFromFile</a>;</div><div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;<span class="keyword">import</span> <span class="keyword">static</span> <a class="code" href="../../db/d96/namespaceorg.html">org</a>.<a class="code" href="../../d8/d2e/namespaceorg_1_1cobbzilla.html">cobbzilla</a>.<a class="code" href="../../db/d8e/namespaceorg_1_1cobbzilla_1_1util.html">util</a>.<a class="code" href="../../d7/dda/namespaceorg_1_1cobbzilla_1_1util_1_1string.html">string</a>.<a class="code" href="../../db/d9f/classorg_1_1cobbzilla_1_1util_1_1string_1_1StringUtil.html">StringUtil</a>.*;</div><div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;</div><div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;@AllArgsConstructor @Slf4j</div><div class="line"><a name="l00060"></a><span class="lineno"><a class="line" href="../../d0/d1b/classorg_1_1cobbzilla_1_1util_1_1handlebars_1_1HandlebarsUtil.html">   60</a></span>&#160;<span class="keyword">public</span> <span class="keyword">class </span><a class="code" href="../../d0/d1b/classorg_1_1cobbzilla_1_1util_1_1handlebars_1_1HandlebarsUtil.html">HandlebarsUtil</a> <span class="keyword">extends</span> AbstractTemplateLoader {</div><div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;</div><div class="line"><a name="l00062"></a><span class="lineno"><a class="line" href="../../d0/d1b/classorg_1_1cobbzilla_1_1util_1_1handlebars_1_1HandlebarsUtil_a9bd557f77e10749d366972656c700eac.html#a9bd557f77e10749d366972656c700eac">   62</a></span>&#160;    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="keywordtype">char</span> <a class="code" href="../../d0/d1b/classorg_1_1cobbzilla_1_1util_1_1handlebars_1_1HandlebarsUtil_a9bd557f77e10749d366972656c700eac.html#a9bd557f77e10749d366972656c700eac">HB_START_CHAR</a> = <span class="charliteral">&#39;{&#39;</span>;</div><div class="line"><a name="l00063"></a><span class="lineno"><a class="line" href="../../d0/d1b/classorg_1_1cobbzilla_1_1util_1_1handlebars_1_1HandlebarsUtil_a8de4a0b12af4f49ea973a3847bb87b06.html#a8de4a0b12af4f49ea973a3847bb87b06">   63</a></span>&#160;    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="keywordtype">char</span> <a class="code" href="../../d0/d1b/classorg_1_1cobbzilla_1_1util_1_1handlebars_1_1HandlebarsUtil_a8de4a0b12af4f49ea973a3847bb87b06.html#a8de4a0b12af4f49ea973a3847bb87b06">HB_END_CHAR</a> = <span class="charliteral">&#39;}&#39;</span>;</div><div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;</div><div class="line"><a name="l00065"></a><span class="lineno"><a class="line" href="../../d0/d1b/classorg_1_1cobbzilla_1_1util_1_1handlebars_1_1HandlebarsUtil_a39d5f6853b3e131817c393968d0b4252.html#a39d5f6853b3e131817c393968d0b4252">   65</a></span>&#160;    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">final</span> String <a class="code" href="../../d0/d1b/classorg_1_1cobbzilla_1_1util_1_1handlebars_1_1HandlebarsUtil_a39d5f6853b3e131817c393968d0b4252.html#a39d5f6853b3e131817c393968d0b4252">HB_START</a> = StringUtils.repeat(HB_START_CHAR, 2);</div><div class="line"><a name="l00066"></a><span class="lineno"><a class="line" href="../../d0/d1b/classorg_1_1cobbzilla_1_1util_1_1handlebars_1_1HandlebarsUtil_ab600a88e6f30bda96284ddf6d6345717.html#ab600a88e6f30bda96284ddf6d6345717">   66</a></span>&#160;    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">final</span> String <a class="code" href="../../d0/d1b/classorg_1_1cobbzilla_1_1util_1_1handlebars_1_1HandlebarsUtil_ab600a88e6f30bda96284ddf6d6345717.html#ab600a88e6f30bda96284ddf6d6345717">HB_END</a> = StringUtils.repeat(HB_END_CHAR, 2);</div><div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;</div><div class="line"><a name="l00068"></a><span class="lineno"><a class="line" href="../../d0/d1b/classorg_1_1cobbzilla_1_1util_1_1handlebars_1_1HandlebarsUtil_ab8d105743184c951ee6cb5beb368ddda.html#ab8d105743184c951ee6cb5beb368ddda">   68</a></span>&#160;    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">final</span> String <a class="code" href="../../d0/d1b/classorg_1_1cobbzilla_1_1util_1_1handlebars_1_1HandlebarsUtil_ab8d105743184c951ee6cb5beb368ddda.html#ab8d105743184c951ee6cb5beb368ddda">HB_LSTART</a> = StringUtils.repeat(HB_START_CHAR, 3);</div><div class="line"><a name="l00069"></a><span class="lineno"><a class="line" href="../../d0/d1b/classorg_1_1cobbzilla_1_1util_1_1handlebars_1_1HandlebarsUtil_a09346df479cc3c543909317139d288b7.html#a09346df479cc3c543909317139d288b7">   69</a></span>&#160;    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">final</span> String <a class="code" href="../../d0/d1b/classorg_1_1cobbzilla_1_1util_1_1handlebars_1_1HandlebarsUtil_a09346df479cc3c543909317139d288b7.html#a09346df479cc3c543909317139d288b7">HB_LEND</a> = StringUtils.repeat(HB_END_CHAR, 3);</div><div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;</div><div class="line"><a name="l00071"></a><span class="lineno"><a class="line" href="../../d0/d1b/classorg_1_1cobbzilla_1_1util_1_1handlebars_1_1HandlebarsUtil_aaf13c6b099114031805b4a0cf1f8542e.html#aaf13c6b099114031805b4a0cf1f8542e">   71</a></span>&#160;    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">final</span> String <a class="code" href="../../d0/d1b/classorg_1_1cobbzilla_1_1util_1_1handlebars_1_1HandlebarsUtil_aaf13c6b099114031805b4a0cf1f8542e.html#aaf13c6b099114031805b4a0cf1f8542e">DEFAULT_FLOAT_FORMAT</a> = <span class="stringliteral">&quot;%1$,.3f&quot;</span>;</div><div class="line"><a name="l00072"></a><span class="lineno"><a class="line" href="../../d0/d1b/classorg_1_1cobbzilla_1_1util_1_1handlebars_1_1HandlebarsUtil_a67f12802636c6a50c3b48c949a3029d8.html#a67f12802636c6a50c3b48c949a3029d8">   72</a></span>&#160;    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">final</span> JsonStringEncoder <a class="code" href="../../d0/d1b/classorg_1_1cobbzilla_1_1util_1_1handlebars_1_1HandlebarsUtil_a67f12802636c6a50c3b48c949a3029d8.html#a67f12802636c6a50c3b48c949a3029d8">JSON_STRING_ENCODER</a> = <span class="keyword">new</span> JsonStringEncoder();</div><div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;</div><div class="line"><a name="l00074"></a><span class="lineno"><a class="line" href="../../d0/d1b/classorg_1_1cobbzilla_1_1util_1_1handlebars_1_1HandlebarsUtil_a7a460cd2b25866fd011c18197dc3cc32.html#a7a460cd2b25866fd011c18197dc3cc32">   74</a></span>&#160;    <span class="keyword">private</span> String <a class="code" href="../../d0/d1b/classorg_1_1cobbzilla_1_1util_1_1handlebars_1_1HandlebarsUtil_a7a460cd2b25866fd011c18197dc3cc32.html#a7a460cd2b25866fd011c18197dc3cc32">sourceName</a> = <span class="stringliteral">&quot;unknown&quot;</span>;</div><div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;</div><div class="line"><a name="l00076"></a><span class="lineno"><a class="line" href="../../d0/d1b/classorg_1_1cobbzilla_1_1util_1_1handlebars_1_1HandlebarsUtil_a3798bc5bdea2ec45b6d6fe4e84e2caab.html#a3798bc5bdea2ec45b6d6fe4e84e2caab">   76</a></span>&#160;    <span class="keyword">public</span> <span class="keyword">static</span> Map&lt;String, Object&gt; <a class="code" href="../../d0/d1b/classorg_1_1cobbzilla_1_1util_1_1handlebars_1_1HandlebarsUtil_a3798bc5bdea2ec45b6d6fe4e84e2caab.html#a3798bc5bdea2ec45b6d6fe4e84e2caab">apply</a>(Handlebars handlebars, Map&lt;String, Object&gt; map, Map&lt;String, Object&gt; ctx) {</div><div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="../../d0/d1b/classorg_1_1cobbzilla_1_1util_1_1handlebars_1_1HandlebarsUtil_a3798bc5bdea2ec45b6d6fe4e84e2caab.html#a3798bc5bdea2ec45b6d6fe4e84e2caab">apply</a>(handlebars, map, ctx, HB_START_CHAR, HB_END_CHAR);</div><div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;    }</div><div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;</div><div class="line"><a name="l00080"></a><span class="lineno"><a class="line" href="../../d0/d1b/classorg_1_1cobbzilla_1_1util_1_1handlebars_1_1HandlebarsUtil_a405e99f7eda22dfd8e2bf756280a1813.html#a405e99f7eda22dfd8e2bf756280a1813">   80</a></span>&#160;    <span class="keyword">public</span> <span class="keyword">static</span> Map&lt;String, Object&gt; <a class="code" href="../../d0/d1b/classorg_1_1cobbzilla_1_1util_1_1handlebars_1_1HandlebarsUtil_a405e99f7eda22dfd8e2bf756280a1813.html#a405e99f7eda22dfd8e2bf756280a1813">apply</a>(Handlebars handlebars, Map&lt;String, Object&gt; map, Map&lt;String, Object&gt; ctx, <span class="keywordtype">char</span> altStart, <span class="keywordtype">char</span> altEnd) {</div><div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;        <span class="keywordflow">if</span> (empty(map)) <span class="keywordflow">return</span> map;</div><div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;        <span class="keyword">final</span> Map&lt;String, Object&gt; merged = <span class="keyword">new</span> LinkedHashMap&lt;&gt;();</div><div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;        <span class="keyword">final</span> String hbStart = StringUtils.repeat(altStart, 2);</div><div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;        <span class="keyword">final</span> String hbEnd = StringUtils.repeat(altEnd, 2);</div><div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;        <span class="keywordflow">for</span> (Map.Entry&lt;String, Object&gt; entry : map.entrySet()) {</div><div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;            <span class="keyword">final</span> Object value = entry.getValue();</div><div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;            <span class="keywordflow">if</span> (value instanceof String) {</div><div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;                <span class="keyword">final</span> String val = (String) value;</div><div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;                <span class="keywordflow">if</span> (val.contains(hbStart) &amp;&amp; val.contains(hbEnd)) {</div><div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;                    merged.put(entry.getKey(), <a class="code" href="../../d0/d1b/classorg_1_1cobbzilla_1_1util_1_1handlebars_1_1HandlebarsUtil_a3798bc5bdea2ec45b6d6fe4e84e2caab.html#a3798bc5bdea2ec45b6d6fe4e84e2caab">apply</a>(handlebars, value.toString(), ctx, altStart, altEnd));</div><div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;                } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;                    merged.put(entry.getKey(), entry.getValue());</div><div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;                }</div><div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;</div><div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;            } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (value instanceof Map) {</div><div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;                <span class="comment">// recurse</span></div><div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;                merged.put(entry.getKey(), <a class="code" href="../../d0/d1b/classorg_1_1cobbzilla_1_1util_1_1handlebars_1_1HandlebarsUtil_a3798bc5bdea2ec45b6d6fe4e84e2caab.html#a3798bc5bdea2ec45b6d6fe4e84e2caab">apply</a>(handlebars, (Map&lt;String, Object&gt;) value, ctx, altStart, altEnd));</div><div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;</div><div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;            } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;                log.info(<span class="stringliteral">&quot;apply: &quot;</span>);</div><div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;                merged.put(entry.getKey(), entry.getValue());</div><div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;            }</div><div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;        }</div><div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;        <span class="keywordflow">return</span> merged;</div><div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;    }</div><div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;</div><div class="line"><a name="l00107"></a><span class="lineno"><a class="line" href="../../d0/d1b/classorg_1_1cobbzilla_1_1util_1_1handlebars_1_1HandlebarsUtil_a9eca2afc1daf767952c4a54605f9a701.html#a9eca2afc1daf767952c4a54605f9a701">  107</a></span>&#160;    <span class="keyword">public</span> <span class="keyword">static</span> String <a class="code" href="../../d0/d1b/classorg_1_1cobbzilla_1_1util_1_1handlebars_1_1HandlebarsUtil_a9eca2afc1daf767952c4a54605f9a701.html#a9eca2afc1daf767952c4a54605f9a701">apply</a>(Handlebars handlebars, String value, Map&lt;String, Object&gt; ctx) {</div><div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="../../d0/d1b/classorg_1_1cobbzilla_1_1util_1_1handlebars_1_1HandlebarsUtil_a3798bc5bdea2ec45b6d6fe4e84e2caab.html#a3798bc5bdea2ec45b6d6fe4e84e2caab">apply</a>(handlebars, value, ctx, (<span class="keywordtype">char</span>) 0, (<span class="keywordtype">char</span>) 0);</div><div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;    }</div><div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;</div><div class="line"><a name="l00111"></a><span class="lineno"><a class="line" href="../../d0/d1b/classorg_1_1cobbzilla_1_1util_1_1handlebars_1_1HandlebarsUtil_a3f346d5733bca31ba87db38b328aa2eb.html#a3f346d5733bca31ba87db38b328aa2eb">  111</a></span>&#160;    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">final</span> String <a class="code" href="../../d0/d1b/classorg_1_1cobbzilla_1_1util_1_1handlebars_1_1HandlebarsUtil_a3f346d5733bca31ba87db38b328aa2eb.html#a3f346d5733bca31ba87db38b328aa2eb">DUMMY_START3</a> = <span class="stringliteral">&quot;~~~___~~~&quot;</span>;</div><div class="line"><a name="l00112"></a><span class="lineno"><a class="line" href="../../d0/d1b/classorg_1_1cobbzilla_1_1util_1_1handlebars_1_1HandlebarsUtil_a708676f7a280ae91dab3de25dcc5860d.html#a708676f7a280ae91dab3de25dcc5860d">  112</a></span>&#160;    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">final</span> String <a class="code" href="../../d0/d1b/classorg_1_1cobbzilla_1_1util_1_1handlebars_1_1HandlebarsUtil_a708676f7a280ae91dab3de25dcc5860d.html#a708676f7a280ae91dab3de25dcc5860d">DUMMY_START2</a> = <span class="stringliteral">&quot;~~__~~&quot;</span>;</div><div class="line"><a name="l00113"></a><span class="lineno"><a class="line" href="../../d0/d1b/classorg_1_1cobbzilla_1_1util_1_1handlebars_1_1HandlebarsUtil_a37943187d6ed7fb50870a5c2c9b36cfd.html#a37943187d6ed7fb50870a5c2c9b36cfd">  113</a></span>&#160;    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">final</span> String <a class="code" href="../../d0/d1b/classorg_1_1cobbzilla_1_1util_1_1handlebars_1_1HandlebarsUtil_a37943187d6ed7fb50870a5c2c9b36cfd.html#a37943187d6ed7fb50870a5c2c9b36cfd">DUMMY_END3</a> = <span class="stringliteral">&quot;___~~~___&quot;</span>;</div><div class="line"><a name="l00114"></a><span class="lineno"><a class="line" href="../../d0/d1b/classorg_1_1cobbzilla_1_1util_1_1handlebars_1_1HandlebarsUtil_a1c3eadbdefed5e1e1a02589af8224eec.html#a1c3eadbdefed5e1e1a02589af8224eec">  114</a></span>&#160;    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">final</span> String <a class="code" href="../../d0/d1b/classorg_1_1cobbzilla_1_1util_1_1handlebars_1_1HandlebarsUtil_a1c3eadbdefed5e1e1a02589af8224eec.html#a1c3eadbdefed5e1e1a02589af8224eec">DUMMY_END2</a> = <span class="stringliteral">&quot;__~~__&quot;</span>;</div><div class="line"><a name="l00115"></a><span class="lineno"><a class="line" href="../../d0/d1b/classorg_1_1cobbzilla_1_1util_1_1handlebars_1_1HandlebarsUtil_ac7bccb06debdf8bb5577e792dc3d25ec.html#ac7bccb06debdf8bb5577e792dc3d25ec">  115</a></span>&#160;    <span class="keyword">public</span> <span class="keyword">static</span> String <a class="code" href="../../d0/d1b/classorg_1_1cobbzilla_1_1util_1_1handlebars_1_1HandlebarsUtil_ac7bccb06debdf8bb5577e792dc3d25ec.html#ac7bccb06debdf8bb5577e792dc3d25ec">apply</a>(Handlebars handlebars, String value, Map&lt;String, Object&gt; ctx, <span class="keywordtype">char</span> altStart, <span class="keywordtype">char</span> altEnd) {</div><div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;        <span class="keywordflow">if</span> (altStart != 0 &amp;&amp; altEnd != 0 &amp;&amp; (altStart != HB_START_CHAR &amp;&amp; altEnd != HB_END_CHAR)) {</div><div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;            <span class="keyword">final</span> String s3 = StringUtils.repeat(altStart, 3);</div><div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;            <span class="keyword">final</span> String s2 = StringUtils.repeat(altStart, 2);</div><div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;            <span class="keyword">final</span> String e3 = StringUtils.repeat(altEnd, 3);</div><div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;            <span class="keyword">final</span> String e2 = StringUtils.repeat(altEnd, 2);</div><div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;            <span class="comment">// escape existing handlebars delimiters with dummy placeholders (we&#39;ll put them back later)</span></div><div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;            value = value.replaceAll(quote(HB_LSTART), DUMMY_START3).replaceAll(HB_LEND, DUMMY_END3)</div><div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;                    .replaceAll(quote(HB_START), DUMMY_START2).replaceAll(HB_END, DUMMY_END2)</div><div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;                    <span class="comment">// replace our custom start/end delimiters with handlebars standard ones</span></div><div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;                    .replaceAll(quote(s3), HB_LSTART).replaceAll(quote(e3), HB_LEND)</div><div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;                    .replaceAll(quote(s2), HB_START).replaceAll(quote(e2), HB_END);</div><div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;            <span class="comment">// run handlebars, then put the real handlebars stuff back (removing the dummy placeholders)</span></div><div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;            value = <a class="code" href="../../d0/d1b/classorg_1_1cobbzilla_1_1util_1_1handlebars_1_1HandlebarsUtil_a3798bc5bdea2ec45b6d6fe4e84e2caab.html#a3798bc5bdea2ec45b6d6fe4e84e2caab">apply</a>(handlebars, value, ctx)</div><div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;                    .replaceAll(DUMMY_START3, HB_LSTART).replaceAll(DUMMY_END3, HB_LEND)</div><div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;                    .replaceAll(DUMMY_START2, <a class="code" href="../../d0/d1b/classorg_1_1cobbzilla_1_1util_1_1handlebars_1_1HandlebarsUtil.html">HandlebarsUtil</a>.<a class="code" href="../../d0/d1b/classorg_1_1cobbzilla_1_1util_1_1handlebars_1_1HandlebarsUtil_a39d5f6853b3e131817c393968d0b4252.html#a39d5f6853b3e131817c393968d0b4252">HB_START</a>).replaceAll(DUMMY_END2, HB_END);</div><div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;            <span class="keywordflow">return</span> value;</div><div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;        }</div><div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;        <span class="keywordflow">try</span> {</div><div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;            @Cleanup <span class="keyword">final</span> StringWriter writer = <span class="keyword">new</span> StringWriter(value.length());</div><div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;            handlebars.compile(value).apply(ctx, writer);</div><div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;            <span class="keywordflow">return</span> writer.toString();</div><div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;        } <span class="keywordflow">catch</span> (HandlebarsException e) {</div><div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;            <span class="keyword">final</span> Throwable cause = e.getCause();</div><div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;            <span class="keywordflow">if</span> (cause != null &amp;&amp; ((cause instanceof FileNotFoundException) || (cause instanceof <a class="code" href="../../d5/d15/classorg_1_1cobbzilla_1_1util_1_1handlebars_1_1RequiredVariableUndefinedException.html">RequiredVariableUndefinedException</a>))) {</div><div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;                log.error(e.getMessage()+<span class="stringliteral">&quot;: \&quot;&quot;</span>+value+<span class="stringliteral">&quot;\&quot;&quot;</span>);</div><div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;                <span class="keywordflow">throw</span> e;</div><div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;            }</div><div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;            <span class="keywordflow">return</span> die(<span class="stringliteral">&quot;apply(&quot;</span>+value+<span class="stringliteral">&quot;): &quot;</span>+e, e);</div><div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;        } <span class="keywordflow">catch</span> (Exception e) {</div><div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;            <span class="keywordflow">return</span> die(<span class="stringliteral">&quot;apply(&quot;</span>+value+<span class="stringliteral">&quot;): &quot;</span>+e, e);</div><div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;        } <span class="keywordflow">catch</span> (Error e) {</div><div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;            log.warn(<span class="stringliteral">&quot;apply: &quot;</span>+e, e);</div><div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;            <span class="keywordflow">throw</span> e;</div><div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;        }</div><div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;    }</div><div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;</div><div class="line"><a name="l00163"></a><span class="lineno"><a class="line" href="../../d0/d1b/classorg_1_1cobbzilla_1_1util_1_1handlebars_1_1HandlebarsUtil_a41e0478c31a1168fb6a8ba75ad22efd0.html#a41e0478c31a1168fb6a8ba75ad22efd0">  163</a></span>&#160;    <span class="keyword">public</span> static &lt;T&gt; T <a class="code" href="../../d0/d1b/classorg_1_1cobbzilla_1_1util_1_1handlebars_1_1HandlebarsUtil_a41e0478c31a1168fb6a8ba75ad22efd0.html#a41e0478c31a1168fb6a8ba75ad22efd0">applyReflectively</a>(Handlebars handlebars, T thing, Map&lt;String, Object&gt; ctx) {</div><div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="../../d0/d1b/classorg_1_1cobbzilla_1_1util_1_1handlebars_1_1HandlebarsUtil_a41e0478c31a1168fb6a8ba75ad22efd0.html#a41e0478c31a1168fb6a8ba75ad22efd0">applyReflectively</a>(handlebars, thing, ctx, HB_START_CHAR, HB_END_CHAR);</div><div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;    }</div><div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;</div><div class="line"><a name="l00167"></a><span class="lineno"><a class="line" href="../../d0/d1b/classorg_1_1cobbzilla_1_1util_1_1handlebars_1_1HandlebarsUtil_a2393863473800a4ed3e7541ee95c8869.html#a2393863473800a4ed3e7541ee95c8869">  167</a></span>&#160;    <span class="keyword">public</span> static &lt;T&gt; T <a class="code" href="../../d0/d1b/classorg_1_1cobbzilla_1_1util_1_1handlebars_1_1HandlebarsUtil_a2393863473800a4ed3e7541ee95c8869.html#a2393863473800a4ed3e7541ee95c8869">applyReflectively</a>(Handlebars handlebars, T thing, Map&lt;String, Object&gt; ctx, <span class="keywordtype">char</span> altStart, <span class="keywordtype">char</span> altEnd) {</div><div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;        <span class="keywordflow">for</span> (Method getterCandidate : thing.getClass().getMethods()) {</div><div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;</div><div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;            <span class="keywordflow">if</span> (!getterCandidate.getName().startsWith(<span class="stringliteral">&quot;get&quot;</span>)) <span class="keywordflow">continue</span>;</div><div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;            <span class="keywordflow">if</span> (!<a class="code" href="../../d0/d1b/classorg_1_1cobbzilla_1_1util_1_1handlebars_1_1HandlebarsUtil_a0d908831ccb66b40f33553cc94c59aed.html#a0d908831ccb66b40f33553cc94c59aed">canApplyReflectively</a>(getterCandidate.getReturnType())) <span class="keywordflow">continue</span>;</div><div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;</div><div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;            <span class="keyword">final</span> String setterName = <a class="code" href="../../de/d45/classorg_1_1cobbzilla_1_1util_1_1reflect_1_1ReflectionUtil.html">ReflectionUtil</a>.<a class="code" href="../../de/d45/classorg_1_1cobbzilla_1_1util_1_1reflect_1_1ReflectionUtil_a7009ec7b051c37c7269c707996664b21.html#a7009ec7b051c37c7269c707996664b21">setterForGetter</a>(getterCandidate.getName());</div><div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;            <span class="keywordflow">for</span> (Method setterCandidate : thing.getClass().getMethods()) {</div><div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;                <span class="keywordflow">if</span> (!setterCandidate.getName().equals(setterName)</div><div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;                        || setterCandidate.getParameterTypes().length != 1</div><div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;                        || !setterCandidate.getParameterTypes()[0].isAssignableFrom(getterCandidate.getReturnType())) {</div><div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;                    <span class="keywordflow">continue</span>;</div><div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;                }</div><div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;                <span class="keywordflow">try</span> {</div><div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;                    <span class="keyword">final</span> Object value = getterCandidate.invoke(thing, (Object[]) null);</div><div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;                    <span class="keywordflow">if</span> (value == null) <span class="keywordflow">break</span>;</div><div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;                    <span class="keywordflow">if</span> (value instanceof String) {</div><div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;                        <span class="keywordflow">if</span> (value.toString().contains(<span class="stringliteral">&quot;&quot;</span> + altStart + altStart)) {</div><div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;                            setterCandidate.invoke(thing, <a class="code" href="../../d0/d1b/classorg_1_1cobbzilla_1_1util_1_1handlebars_1_1HandlebarsUtil_a3798bc5bdea2ec45b6d6fe4e84e2caab.html#a3798bc5bdea2ec45b6d6fe4e84e2caab">apply</a>(handlebars, (String) value, ctx, altStart, altEnd));</div><div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;                        }</div><div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;</div><div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;                    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (value instanceof JsonNode) {</div><div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;                        setterCandidate.invoke(thing, json(<a class="code" href="../../d0/d1b/classorg_1_1cobbzilla_1_1util_1_1handlebars_1_1HandlebarsUtil_a3798bc5bdea2ec45b6d6fe4e84e2caab.html#a3798bc5bdea2ec45b6d6fe4e84e2caab">apply</a>(handlebars, json(value), ctx, altStart, altEnd), JsonNode.class));</div><div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;</div><div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;                    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (value instanceof Map) {</div><div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;                        setterCandidate.invoke(thing, <a class="code" href="../../d0/d1b/classorg_1_1cobbzilla_1_1util_1_1handlebars_1_1HandlebarsUtil_a3798bc5bdea2ec45b6d6fe4e84e2caab.html#a3798bc5bdea2ec45b6d6fe4e84e2caab">apply</a>(handlebars, (Map&lt;String, Object&gt;) value, ctx, altStart, altEnd));</div><div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;</div><div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;<span class="comment">//                    } else if (Object[].class.isAssignableFrom(value.getClass())) {</span></div><div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;<span class="comment">//                        final Object[] array = (Object[]) value;</span></div><div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;<span class="comment">//                        final Object[] rendered = new Object[array.length];</span></div><div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;<span class="comment">//                        for (int i=0; i&lt;array.length; i++) {</span></div><div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;<span class="comment">//                            rendered[i] = applyReflectively(handlebars, array[i], ctx, altStart, altEnd);</span></div><div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;<span class="comment">//                        }</span></div><div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;<span class="comment">//                        try {</span></div><div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;<span class="comment">//                            setterCandidate.invoke(thing, rendered);</span></div><div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;<span class="comment">//                        } catch (Exception e) {</span></div><div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;<span class="comment">//                            die(e);</span></div><div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;<span class="comment">//                        }</span></div><div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;<span class="comment">//</span></div><div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;                    } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;                        <span class="comment">// recurse</span></div><div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;                        setterCandidate.invoke(thing, <a class="code" href="../../d0/d1b/classorg_1_1cobbzilla_1_1util_1_1handlebars_1_1HandlebarsUtil_a41e0478c31a1168fb6a8ba75ad22efd0.html#a41e0478c31a1168fb6a8ba75ad22efd0">applyReflectively</a>(handlebars, value, ctx, altStart, altEnd));</div><div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;                    }</div><div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;                } <span class="keywordflow">catch</span> (HandlebarsException e) {</div><div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;                    <span class="keywordflow">throw</span> e;</div><div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;</div><div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;                } <span class="keywordflow">catch</span> (Exception e) {</div><div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;                    <span class="comment">// no setter for getter</span></div><div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;                    log.warn(<span class="stringliteral">&quot;applyReflectively: &quot;</span> + e);</div><div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;                }</div><div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;            }</div><div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;        }</div><div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;        <span class="keywordflow">return</span> thing;</div><div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;    }</div><div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;</div><div class="line"><a name="l00222"></a><span class="lineno"><a class="line" href="../../d0/d1b/classorg_1_1cobbzilla_1_1util_1_1handlebars_1_1HandlebarsUtil_a0d908831ccb66b40f33553cc94c59aed.html#a0d908831ccb66b40f33553cc94c59aed">  222</a></span>&#160;    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keywordtype">boolean</span> <a class="code" href="../../d0/d1b/classorg_1_1cobbzilla_1_1util_1_1handlebars_1_1HandlebarsUtil_a0d908831ccb66b40f33553cc94c59aed.html#a0d908831ccb66b40f33553cc94c59aed">canApplyReflectively</a>(Class&lt;?&gt; returnType) {</div><div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;        <span class="keywordflow">if</span> (returnType.equals(String.class)) <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;        <span class="keywordflow">try</span> {</div><div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;            <span class="keywordflow">return</span> !(returnType.isPrimitive() || (returnType.getPackage() != null &amp;&amp; returnType.getPackage().getName().equals(<span class="stringliteral">&quot;java.lang&quot;</span>)));</div><div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;        } <span class="keywordflow">catch</span> (NullPointerException npe) {</div><div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;            log.warn(<span class="stringliteral">&quot;canApplyReflectively(&quot;</span>+returnType+<span class="stringliteral">&quot;): &quot;</span>+npe);</div><div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;        }</div><div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;    }</div><div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;</div><div class="line"><a name="l00232"></a><span class="lineno"><a class="line" href="../../d0/d1b/classorg_1_1cobbzilla_1_1util_1_1handlebars_1_1HandlebarsUtil_a103bd77ec507efe7f2597c648fdd448a.html#a103bd77ec507efe7f2597c648fdd448a">  232</a></span>&#160;    @Override <span class="keyword">public</span> TemplateSource <a class="code" href="../../d0/d1b/classorg_1_1cobbzilla_1_1util_1_1handlebars_1_1HandlebarsUtil_a103bd77ec507efe7f2597c648fdd448a.html#a103bd77ec507efe7f2597c648fdd448a">sourceAt</a>(String source) <span class="keywordflow">throws</span> IOException {</div><div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">new</span> StringTemplateSource(sourceName, source);</div><div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;    }</div><div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;</div><div class="line"><a name="l00236"></a><span class="lineno"><a class="line" href="../../d0/d1b/classorg_1_1cobbzilla_1_1util_1_1handlebars_1_1HandlebarsUtil_a3ce0c8388c4503dd6b12c65dbafd6567.html#a3ce0c8388c4503dd6b12c65dbafd6567">  236</a></span>&#160;    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">final</span> CharSequence <a class="code" href="../../d0/d1b/classorg_1_1cobbzilla_1_1util_1_1handlebars_1_1HandlebarsUtil_a3ce0c8388c4503dd6b12c65dbafd6567.html#a3ce0c8388c4503dd6b12c65dbafd6567">EMPTY_SAFE_STRING</a> = <span class="stringliteral">&quot;&quot;</span>;</div><div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;</div><div class="line"><a name="l00238"></a><span class="lineno"><a class="line" href="../../d0/d1b/classorg_1_1cobbzilla_1_1util_1_1handlebars_1_1HandlebarsUtil_a3187b25f7582153e9354a2ecb3b6eebf.html#a3187b25f7582153e9354a2ecb3b6eebf">  238</a></span>&#160;    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> AtomicReference&lt;ContextMessageSender&gt; <a class="code" href="../../d0/d1b/classorg_1_1cobbzilla_1_1util_1_1handlebars_1_1HandlebarsUtil_a3187b25f7582153e9354a2ecb3b6eebf.html#a3187b25f7582153e9354a2ecb3b6eebf">messageSender</a> = <span class="keyword">new</span> AtomicReference&lt;&gt;();</div><div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;</div><div class="line"><a name="l00240"></a><span class="lineno"><a class="line" href="../../d0/d1b/classorg_1_1cobbzilla_1_1util_1_1handlebars_1_1HandlebarsUtil_af46ac52c350d17d472d2679cee374325.html#af46ac52c350d17d472d2679cee374325">  240</a></span>&#160;    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="../../d0/d1b/classorg_1_1cobbzilla_1_1util_1_1handlebars_1_1HandlebarsUtil_af46ac52c350d17d472d2679cee374325.html#af46ac52c350d17d472d2679cee374325">setMessageSender</a>(<a class="code" href="../../df/d45/interfaceorg_1_1cobbzilla_1_1util_1_1handlebars_1_1ContextMessageSender.html">ContextMessageSender</a> sender) {</div><div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;        <span class="keyword">synchronized</span> (<a class="code" href="../../d0/d1b/classorg_1_1cobbzilla_1_1util_1_1handlebars_1_1HandlebarsUtil_a3187b25f7582153e9354a2ecb3b6eebf.html#a3187b25f7582153e9354a2ecb3b6eebf">messageSender</a>) {</div><div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;            <span class="keyword">final</span> <a class="code" href="../../df/d45/interfaceorg_1_1cobbzilla_1_1util_1_1handlebars_1_1ContextMessageSender.html">ContextMessageSender</a> current = messageSender.get();</div><div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;            <span class="keywordflow">if</span> (current != null &amp;&amp; current != sender &amp;&amp; !current.equals(sender)) die(<span class="stringliteral">&quot;setMessageSender: already set to &quot;</span>+current);</div><div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;            messageSender.set(sender);</div><div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;        }</div><div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;    }</div><div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;</div><div class="line"><a name="l00248"></a><span class="lineno"><a class="line" href="../../d0/d1b/classorg_1_1cobbzilla_1_1util_1_1handlebars_1_1HandlebarsUtil_af8f3012d152b38e5472c15975a8921e2.html#af8f3012d152b38e5472c15975a8921e2">  248</a></span>&#160;    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="../../d0/d1b/classorg_1_1cobbzilla_1_1util_1_1handlebars_1_1HandlebarsUtil_af8f3012d152b38e5472c15975a8921e2.html#af8f3012d152b38e5472c15975a8921e2">registerUtilityHelpers</a> (<span class="keyword">final</span> Handlebars hb) {</div><div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;        hb.registerHelper(<span class="stringliteral">&quot;exists&quot;</span>, (src, options) -&gt; empty(src) ? null : options.apply(options.fn));</div><div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;</div><div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;        hb.registerHelper(<span class="stringliteral">&quot;not_exists&quot;</span>, (src, options) -&gt; !empty(src) ? null : options.apply(options.fn));</div><div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;</div><div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;        hb.registerHelper(<span class="stringliteral">&quot;sha256&quot;</span>, (src, options) -&gt; {</div><div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;            <span class="keywordflow">if</span> (empty(src)) <span class="keywordflow">return</span> <span class="stringliteral">&quot;&quot;</span>;</div><div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;            src = <a class="code" href="../../d0/d1b/classorg_1_1cobbzilla_1_1util_1_1handlebars_1_1HandlebarsUtil_a3798bc5bdea2ec45b6d6fe4e84e2caab.html#a3798bc5bdea2ec45b6d6fe4e84e2caab">apply</a>(hb, src.toString(), (Map&lt;String, Object&gt;) options.context.model());</div><div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;            src = sha256_hex(src.toString());</div><div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;            <span class="keywordflow">return</span> <span class="keyword">new</span> Handlebars.SafeString(src.toString());</div><div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;        });</div><div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;</div><div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;        hb.registerHelper(<span class="stringliteral">&quot;format_float&quot;</span>, (val, options) -&gt; {</div><div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;            <span class="keywordflow">if</span> (empty(val)) <span class="keywordflow">return</span> <span class="stringliteral">&quot;&quot;</span>;</div><div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;            <span class="keywordflow">if</span> (options.params.length &gt; 2) <span class="keywordflow">return</span> die(<span class="stringliteral">&quot;format_float: too many parameters. Usage: {{format_float expr [format] [locale]}}&quot;</span>);</div><div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;            <span class="keyword">final</span> String format = options.params.length &gt; 0 &amp;&amp; !empty(options.param(0)) ? options.param(0) : <a class="code" href="../../d0/d1b/classorg_1_1cobbzilla_1_1util_1_1handlebars_1_1HandlebarsUtil_aaf13c6b099114031805b4a0cf1f8542e.html#aaf13c6b099114031805b4a0cf1f8542e">DEFAULT_FLOAT_FORMAT</a>;</div><div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;            <span class="keyword">final</span> Locale locale = <a class="code" href="../../d9/dbd/classorg_1_1cobbzilla_1_1util_1_1string_1_1LocaleUtil.html">LocaleUtil</a>.<a class="code" href="../../d9/dbd/classorg_1_1cobbzilla_1_1util_1_1string_1_1LocaleUtil_a40753fffe36bbb1d2875e7346a63a959.html#a40753fffe36bbb1d2875e7346a63a959">fromString</a>(options.params.length &gt; 1 &amp;&amp; !empty(options.param(1)) ? options.param(1) : null);</div><div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;</div><div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;            val = <a class="code" href="../../d0/d1b/classorg_1_1cobbzilla_1_1util_1_1handlebars_1_1HandlebarsUtil_a3798bc5bdea2ec45b6d6fe4e84e2caab.html#a3798bc5bdea2ec45b6d6fe4e84e2caab">apply</a>(hb, val.toString(), (Map&lt;String, Object&gt;) options.context.model());</div><div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;            val = String.format(locale, format, Double.valueOf(val.toString()));</div><div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;            <span class="keywordflow">return</span> <span class="keyword">new</span> Handlebars.SafeString(val.toString());</div><div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;        });</div><div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;</div><div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;        hb.registerHelper(<span class="stringliteral">&quot;json&quot;</span>, (src, options) -&gt; {</div><div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;            <span class="keywordflow">if</span> (empty(src)) <span class="keywordflow">return</span> <span class="stringliteral">&quot;&quot;</span>;</div><div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;            <span class="keywordflow">return</span> <span class="keyword">new</span> Handlebars.SafeString(json(src));</div><div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;        });</div><div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;</div><div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;        hb.registerHelper(<span class="stringliteral">&quot;escaped_json&quot;</span>, (src, options) -&gt; {</div><div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;            <span class="keywordflow">if</span> (empty(src)) <span class="keywordflow">return</span> <span class="stringliteral">&quot;&quot;</span>;</div><div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;            <span class="keywordflow">return</span> <span class="keyword">new</span> Handlebars.SafeString(<span class="keyword">new</span> String(JSON_STRING_ENCODER.quoteAsString(json(src))));</div><div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;        });</div><div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;</div><div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;        hb.registerHelper(<span class="stringliteral">&quot;context&quot;</span>, (src, options) -&gt; {</div><div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;            <span class="keywordflow">if</span> (empty(src)) <span class="keywordflow">return</span> <span class="stringliteral">&quot;&quot;</span>;</div><div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;            <span class="keywordflow">if</span> (options.params.length &gt; 0) <span class="keywordflow">return</span> die(<span class="stringliteral">&quot;context: too many parameters. Usage: {{context [recipient]}}&quot;</span>);</div><div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;            <span class="keyword">final</span> String ctxString = options.context.toString();</div><div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;            <span class="keyword">final</span> String recipient = src.toString();</div><div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;            <span class="keyword">final</span> String subject = options.params.length &gt; 1 ? options.param(0) : null;</div><div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;            <a class="code" href="../../d0/d1b/classorg_1_1cobbzilla_1_1util_1_1handlebars_1_1HandlebarsUtil_a78f4d1a6e7b34cb35b98e6d22eceb926.html#a78f4d1a6e7b34cb35b98e6d22eceb926">sendContext</a>(recipient, subject, ctxString,<a class="code" href="../../de/d2b/classorg_1_1cobbzilla_1_1util_1_1http_1_1HttpContentTypes.html">HttpContentTypes</a>.<a class="code" href="../../de/d2b/classorg_1_1cobbzilla_1_1util_1_1http_1_1HttpContentTypes_a87e41df7909e9a6c4f08ef419196e8ef.html#a87e41df7909e9a6c4f08ef419196e8ef">TEXT_PLAIN</a>);</div><div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;            <span class="keywordflow">return</span> <span class="keyword">new</span> Handlebars.SafeString(ctxString);</div><div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;        });</div><div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;</div><div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;        hb.registerHelper(<span class="stringliteral">&quot;context_json&quot;</span>, (src, options) -&gt; {</div><div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;            <span class="keywordflow">if</span> (empty(src)) <span class="keywordflow">return</span> <span class="stringliteral">&quot;&quot;</span>;</div><div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;            <span class="keywordflow">try</span> {</div><div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;                <span class="keywordflow">if</span> (options.params.length &gt; 0) <span class="keywordflow">return</span> die(<span class="stringliteral">&quot;context: too many parameters. Usage: {{context [recipient]}}&quot;</span>);</div><div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;                <span class="keyword">final</span> String json = json(options.context.model());</div><div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;                <span class="keyword">final</span> String recipient = src.toString();</div><div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;                <span class="keyword">final</span> String subject = options.params.length &gt; 1 ? options.param(0) : null;</div><div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;                <a class="code" href="../../d0/d1b/classorg_1_1cobbzilla_1_1util_1_1handlebars_1_1HandlebarsUtil_a78f4d1a6e7b34cb35b98e6d22eceb926.html#a78f4d1a6e7b34cb35b98e6d22eceb926">sendContext</a>(recipient, subject, json, <a class="code" href="../../de/d2b/classorg_1_1cobbzilla_1_1util_1_1http_1_1HttpContentTypes.html">HttpContentTypes</a>.<a class="code" href="../../de/d2b/classorg_1_1cobbzilla_1_1util_1_1http_1_1HttpContentTypes_a4671f523e4147458e29b75d162f09654.html#a4671f523e4147458e29b75d162f09654">APPLICATION_JSON</a>);</div><div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;                <span class="keywordflow">return</span> <span class="keyword">new</span> Handlebars.SafeString(json);</div><div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;            } <span class="keywordflow">catch</span> (Exception e) {</div><div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;                <span class="keywordflow">return</span> <span class="keyword">new</span> Handlebars.SafeString(<span class="stringliteral">&quot;Error calling json(options.context): &quot;</span>+e.getClass()+<span class="stringliteral">&quot;: &quot;</span>+e.getMessage());</div><div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;            }</div><div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;        });</div><div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;</div><div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;        hb.registerHelper(<span class="stringliteral">&quot;required&quot;</span>, (src, options) -&gt; {</div><div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;            <span class="keywordflow">if</span> (src == null) <span class="keywordflow">throw</span> <span class="keyword">new</span> <a class="code" href="../../d5/d15/classorg_1_1cobbzilla_1_1util_1_1handlebars_1_1RequiredVariableUndefinedException.html">RequiredVariableUndefinedException</a>(<span class="stringliteral">&quot;required: undefined variable&quot;</span>);</div><div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;            <span class="keywordflow">return</span> <span class="keyword">new</span> Handlebars.SafeString(src.toString());</div><div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;        });</div><div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;</div><div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;        hb.registerHelper(<span class="stringliteral">&quot;safe_name&quot;</span>, (src, options) -&gt; {</div><div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;            <span class="keywordflow">if</span> (empty(src)) <span class="keywordflow">return</span> <span class="stringliteral">&quot;&quot;</span>;</div><div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;            <span class="keywordflow">return</span> <span class="keyword">new</span> Handlebars.SafeString(safeSnakeName(src.toString()));</div><div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;        });</div><div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;</div><div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;        hb.registerHelper(<span class="stringliteral">&quot;urlEncode&quot;</span>, (src, options) -&gt; {</div><div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;            <span class="keywordflow">if</span> (empty(src)) <span class="keywordflow">return</span> <span class="stringliteral">&quot;&quot;</span>;</div><div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;            src = <a class="code" href="../../d0/d1b/classorg_1_1cobbzilla_1_1util_1_1handlebars_1_1HandlebarsUtil_a3798bc5bdea2ec45b6d6fe4e84e2caab.html#a3798bc5bdea2ec45b6d6fe4e84e2caab">apply</a>(hb, src.toString(), (Map&lt;String, Object&gt;) options.context.model());</div><div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;            src = urlEncode(src.toString());</div><div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;            <span class="keywordflow">return</span> <span class="keyword">new</span> Handlebars.SafeString(src.toString());</div><div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;        });</div><div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;</div><div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;        hb.registerHelper(<span class="stringliteral">&quot;lastElement&quot;</span>, (thing, options) -&gt; {</div><div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;            <span class="keywordflow">if</span> (thing == null) <span class="keywordflow">return</span> null;</div><div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;            <span class="keyword">final</span> Iterator iter = <a class="code" href="../../d0/d1b/classorg_1_1cobbzilla_1_1util_1_1handlebars_1_1HandlebarsUtil_a5035699148caf065b77752a27fadeb17.html#a5035699148caf065b77752a27fadeb17">getIterator</a>(thing);</div><div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;            <span class="keyword">final</span> String path = options.param(0);</div><div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;            Object lastElement = null;</div><div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;            <span class="keywordflow">while</span> (iter.hasNext()) {</div><div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;                lastElement = iter.next();</div><div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;            }</div><div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;            <span class="keyword">final</span> Object val = <a class="code" href="../../de/d45/classorg_1_1cobbzilla_1_1util_1_1reflect_1_1ReflectionUtil.html">ReflectionUtil</a>.<a class="code" href="../../de/d45/classorg_1_1cobbzilla_1_1util_1_1reflect_1_1ReflectionUtil_a875bf838f367197bc1b9c5d46e5122bd.html#a875bf838f367197bc1b9c5d46e5122bd">get</a>(lastElement, path);</div><div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;            <span class="keywordflow">if</span> (val != null) <span class="keywordflow">return</span> <span class="keyword">new</span> Handlebars.SafeString(<span class="stringliteral">&quot;&quot;</span>+val);</div><div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="../../d0/d1b/classorg_1_1cobbzilla_1_1util_1_1handlebars_1_1HandlebarsUtil_a3ce0c8388c4503dd6b12c65dbafd6567.html#a3ce0c8388c4503dd6b12c65dbafd6567">EMPTY_SAFE_STRING</a>;</div><div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;        });</div><div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;</div><div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;        hb.registerHelper(<span class="stringliteral">&quot;find&quot;</span>, (thing, options) -&gt; {</div><div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;            <span class="keywordflow">if</span> (thing == null) <span class="keywordflow">return</span> null;</div><div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;            <span class="keyword">final</span> Iterator iter = <a class="code" href="../../d0/d1b/classorg_1_1cobbzilla_1_1util_1_1handlebars_1_1HandlebarsUtil_a5035699148caf065b77752a27fadeb17.html#a5035699148caf065b77752a27fadeb17">getIterator</a>(thing);</div><div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;            <span class="keyword">final</span> String path = options.param(0);</div><div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;            <span class="keyword">final</span> String arg = options.param(1);</div><div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;            <span class="keyword">final</span> String output = options.param(2);</div><div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;            <span class="keywordflow">while</span> (iter.hasNext()) {</div><div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;                <span class="keyword">final</span> Object item = iter.next();</div><div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;                <span class="keywordflow">try</span> {</div><div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;                    <span class="keyword">final</span> Object val = <a class="code" href="../../de/d45/classorg_1_1cobbzilla_1_1util_1_1reflect_1_1ReflectionUtil.html">ReflectionUtil</a>.<a class="code" href="../../de/d45/classorg_1_1cobbzilla_1_1util_1_1reflect_1_1ReflectionUtil_a875bf838f367197bc1b9c5d46e5122bd.html#a875bf838f367197bc1b9c5d46e5122bd">get</a>(item, path);</div><div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;                    <span class="keywordflow">if</span> (val != null &amp;&amp; String.valueOf(val).equals(arg)) {</div><div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;                        <span class="keywordflow">return</span> <span class="keyword">new</span> Handlebars.SafeString(<span class="stringliteral">&quot;&quot;</span>+<a class="code" href="../../de/d45/classorg_1_1cobbzilla_1_1util_1_1reflect_1_1ReflectionUtil.html">ReflectionUtil</a>.<a class="code" href="../../de/d45/classorg_1_1cobbzilla_1_1util_1_1reflect_1_1ReflectionUtil_a875bf838f367197bc1b9c5d46e5122bd.html#a875bf838f367197bc1b9c5d46e5122bd">get</a>(item, output));</div><div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;                    }</div><div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;                } <span class="keywordflow">catch</span> (Exception e) {</div><div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;                    log.warn(<span class="stringliteral">&quot;find: &quot;</span>+e);</div><div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;                }</div><div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;            }</div><div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="../../d0/d1b/classorg_1_1cobbzilla_1_1util_1_1handlebars_1_1HandlebarsUtil_a3ce0c8388c4503dd6b12c65dbafd6567.html#a3ce0c8388c4503dd6b12c65dbafd6567">EMPTY_SAFE_STRING</a>;</div><div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;        });</div><div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;</div><div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;        hb.registerHelper(<span class="stringliteral">&quot;compare&quot;</span>, (val1, options) -&gt; {</div><div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;            <span class="keyword">final</span> String <span class="keyword">operator</span> = options.param(0);</div><div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;            <span class="keyword">final</span> Object val2 = <a class="code" href="../../d0/d1b/classorg_1_1cobbzilla_1_1util_1_1handlebars_1_1HandlebarsUtil_ad9314f960e003e5d6806c11a18c44f34.html#ad9314f960e003e5d6806c11a18c44f34">getComparisonArgParam</a>(options);</div><div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;            <span class="keyword">final</span> Comparable v1 = <a class="code" href="../../d0/d1b/classorg_1_1cobbzilla_1_1util_1_1handlebars_1_1HandlebarsUtil_aeef00b3b32a68b992e75bf0d6f9bbd20.html#aeef00b3b32a68b992e75bf0d6f9bbd20">cval</a>(val1);</div><div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;            <span class="keyword">final</span> Object v2 = <a class="code" href="../../d0/d1b/classorg_1_1cobbzilla_1_1util_1_1handlebars_1_1HandlebarsUtil_aeef00b3b32a68b992e75bf0d6f9bbd20.html#aeef00b3b32a68b992e75bf0d6f9bbd20">cval</a>(val2);</div><div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;            <span class="keywordflow">return</span> (v1 == null &amp;&amp; v2 == null) || (v1 != null &amp;&amp; <a class="code" href="../../d0/d1b/classorg_1_1cobbzilla_1_1util_1_1handlebars_1_1HandlebarsUtil_a6a356277e4c72467b4ea71f7a9af3311.html#a6a356277e4c72467b4ea71f7a9af3311">compare</a>(<span class="keyword">operator</span>, v1, v2)) ? options.fn(options) : options.inverse(options);</div><div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;        });</div><div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;</div><div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;        hb.registerHelper(<span class="stringliteral">&quot;string_compare&quot;</span>, (val1, options) -&gt; {</div><div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;            <span class="keyword">final</span> String <span class="keyword">operator</span> = options.param(0);</div><div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;            <span class="keyword">final</span> Object val2 = <a class="code" href="../../d0/d1b/classorg_1_1cobbzilla_1_1util_1_1handlebars_1_1HandlebarsUtil_ad9314f960e003e5d6806c11a18c44f34.html#ad9314f960e003e5d6806c11a18c44f34">getComparisonArgParam</a>(options);</div><div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;            <span class="keyword">final</span> String v1 = val1 == null ? null : val1.toString();</div><div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;            <span class="keyword">final</span> String v2 = val2 == null ? null : val2.toString();</div><div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="../../d0/d1b/classorg_1_1cobbzilla_1_1util_1_1handlebars_1_1HandlebarsUtil_a6a356277e4c72467b4ea71f7a9af3311.html#a6a356277e4c72467b4ea71f7a9af3311">compare</a>(<span class="keyword">operator</span>, v1, v2) ? options.fn(options) : options.inverse(options);</div><div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;        });</div><div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;</div><div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;        hb.registerHelper(<span class="stringliteral">&quot;long_compare&quot;</span>, (val1, options) -&gt; {</div><div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;            <span class="keyword">final</span> String <span class="keyword">operator</span> = options.param(0);</div><div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;            <span class="keyword">final</span> Object val2 = <a class="code" href="../../d0/d1b/classorg_1_1cobbzilla_1_1util_1_1handlebars_1_1HandlebarsUtil_ad9314f960e003e5d6806c11a18c44f34.html#ad9314f960e003e5d6806c11a18c44f34">getComparisonArgParam</a>(options);</div><div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;            <span class="keyword">final</span> Long v1 = val1 == null ? null : Long.valueOf(val1.toString());</div><div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;            <span class="keyword">final</span> Long v2 = val2 == null ? null : Long.valueOf(val2.toString());</div><div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="../../d0/d1b/classorg_1_1cobbzilla_1_1util_1_1handlebars_1_1HandlebarsUtil_a6a356277e4c72467b4ea71f7a9af3311.html#a6a356277e4c72467b4ea71f7a9af3311">compare</a>(<span class="keyword">operator</span>, v1, v2) ? options.fn(options) : options.inverse(options);</div><div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;        });</div><div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;</div><div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;        hb.registerHelper(<span class="stringliteral">&quot;double_compare&quot;</span>, (val1, options) -&gt; {</div><div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;            <span class="keyword">final</span> String <span class="keyword">operator</span> = options.param(0);</div><div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;            <span class="keyword">final</span> Object val2 = <a class="code" href="../../d0/d1b/classorg_1_1cobbzilla_1_1util_1_1handlebars_1_1HandlebarsUtil_ad9314f960e003e5d6806c11a18c44f34.html#ad9314f960e003e5d6806c11a18c44f34">getComparisonArgParam</a>(options);</div><div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;            <span class="keyword">final</span> Double v1 = val1 == null ? null : Double.valueOf(val1.toString());</div><div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;            <span class="keyword">final</span> Double v2 = val2 == null ? null : Double.valueOf(val2.toString());</div><div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="../../d0/d1b/classorg_1_1cobbzilla_1_1util_1_1handlebars_1_1HandlebarsUtil_a6a356277e4c72467b4ea71f7a9af3311.html#a6a356277e4c72467b4ea71f7a9af3311">compare</a>(<span class="keyword">operator</span>, v1, v2) ? options.fn(options) : options.inverse(options);</div><div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;        });</div><div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;</div><div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;        hb.registerHelper(<span class="stringliteral">&quot;big_compare&quot;</span>, (val1, options) -&gt; {</div><div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;            <span class="keyword">final</span> String <span class="keyword">operator</span> = options.param(0);</div><div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;            <span class="keyword">final</span> Object val2 = <a class="code" href="../../d0/d1b/classorg_1_1cobbzilla_1_1util_1_1handlebars_1_1HandlebarsUtil_ad9314f960e003e5d6806c11a18c44f34.html#ad9314f960e003e5d6806c11a18c44f34">getComparisonArgParam</a>(options);</div><div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;            <span class="keyword">final</span> BigDecimal v1 = val1 == null ? null : big(val1.toString());</div><div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;            <span class="keyword">final</span> BigDecimal v2 = val2 == null ? null : big(val2.toString());</div><div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="../../d0/d1b/classorg_1_1cobbzilla_1_1util_1_1handlebars_1_1HandlebarsUtil_a6a356277e4c72467b4ea71f7a9af3311.html#a6a356277e4c72467b4ea71f7a9af3311">compare</a>(<span class="keyword">operator</span>, v1, v2) ? options.fn(options) : options.inverse(options);</div><div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;        });</div><div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;</div><div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;        hb.registerHelper(<span class="stringliteral">&quot;expr&quot;</span>, (val1, options) -&gt; {</div><div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;            <span class="keyword">final</span> String <span class="keyword">operator</span> = options.param(0);</div><div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;            <span class="keyword">final</span> String format = options.params.length &gt; 2 ? options.param(2) : null;</div><div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;            <span class="keyword">final</span> Object val2 = <a class="code" href="../../d0/d1b/classorg_1_1cobbzilla_1_1util_1_1handlebars_1_1HandlebarsUtil_ad9314f960e003e5d6806c11a18c44f34.html#ad9314f960e003e5d6806c11a18c44f34">getComparisonArgParam</a>(options);</div><div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;            <span class="keyword">final</span> String v1 = val1.toString();</div><div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;            <span class="keyword">final</span> String v2 = val2.toString();</div><div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;</div><div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;            <span class="keyword">final</span> BigDecimal result;</div><div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;            <span class="keywordflow">switch</span> (<span class="keyword">operator</span>) {</div><div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;                <span class="keywordflow">case</span> <span class="stringliteral">&quot;+&quot;</span>: result = big(v1).add(big(v2)); <span class="keywordflow">break</span>;</div><div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;                <span class="keywordflow">case</span> <span class="stringliteral">&quot;-&quot;</span>: result = big(v1).subtract(big(v2)); <span class="keywordflow">break</span>;</div><div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;                <span class="keywordflow">case</span> <span class="stringliteral">&quot;*&quot;</span>: result = big(v1).multiply(big(v2)); <span class="keywordflow">break</span>;</div><div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;                <span class="keywordflow">case</span> <span class="stringliteral">&quot;/&quot;</span>: result = big(v1).divide(big(v2), MathContext.DECIMAL128); <span class="keywordflow">break</span>;</div><div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;                <span class="keywordflow">case</span> <span class="stringliteral">&quot;%&quot;</span>: result = big(v1).remainder(big(v2)).abs(); <span class="keywordflow">break</span>;</div><div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;                <span class="keywordflow">case</span> <span class="stringliteral">&quot;^&quot;</span>: result = big(v1).pow(big(v2).intValue()); <span class="keywordflow">break</span>;</div><div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;                <span class="keywordflow">default</span>: <span class="keywordflow">return</span> die(<span class="stringliteral">&quot;expr: invalid operator: &quot;</span>+<span class="keyword">operator</span>);</div><div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;            }</div><div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;</div><div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;            <span class="comment">// can&#39;t use trigraph (?:) operator here, if we do then for some reason rval always ends up as a double</span></div><div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;            <span class="keyword">final</span> Number rval;</div><div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;            <span class="keywordflow">if</span> (v1.contains(<span class="stringliteral">&quot;.&quot;</span>) || v2.contains(<span class="stringliteral">&quot;.&quot;</span>) || <span class="keyword">operator</span>.equals(<span class="stringliteral">&quot;/&quot;</span>)) {</div><div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;                rval = result.doubleValue();</div><div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;            } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;                rval = result.intValue();</div><div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;            }</div><div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;            <span class="keywordflow">if</span> (format != null) {</div><div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;                <span class="keyword">final</span> Locale locale = <a class="code" href="../../d9/dbd/classorg_1_1cobbzilla_1_1util_1_1string_1_1LocaleUtil.html">LocaleUtil</a>.<a class="code" href="../../d9/dbd/classorg_1_1cobbzilla_1_1util_1_1string_1_1LocaleUtil_a40753fffe36bbb1d2875e7346a63a959.html#a40753fffe36bbb1d2875e7346a63a959">fromString</a>(options.params.length &gt; 3 &amp;&amp; !empty(options.param(3)) ? options.param(3) : null);</div><div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160;                <span class="keywordflow">return</span> <span class="keyword">new</span> Handlebars.SafeString(String.format(locale, format, rval));</div><div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160;            } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160;                <span class="keywordflow">return</span> <span class="keyword">new</span> Handlebars.SafeString(rval.toString());</div><div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160;            }</div><div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160;        });</div><div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;</div><div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;        hb.registerHelper(<span class="stringliteral">&quot;truncate&quot;</span>, (Helper&lt;Integer&gt;) (max, options) -&gt; {</div><div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;            <span class="keyword">final</span> String val = options.param(0, <span class="stringliteral">&quot; &quot;</span>);</div><div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;            <span class="keywordflow">if</span> (empty(val)) <span class="keywordflow">return</span> <span class="stringliteral">&quot;&quot;</span>;</div><div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160;            <span class="keywordflow">if</span> (max == -1 || max &gt;= val.length()) <span class="keywordflow">return</span> val;</div><div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160;            <span class="keywordflow">return</span> <span class="keyword">new</span> Handlebars.SafeString(val.substring(0, max));</div><div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;        });</div><div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160;</div><div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;        hb.registerHelper(<span class="stringliteral">&quot;truncate_and_url_encode&quot;</span>, (Helper&lt;Integer&gt;) (max, options) -&gt; {</div><div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160;            <span class="keyword">final</span> String val = options.param(0, <span class="stringliteral">&quot; &quot;</span>);</div><div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;            <span class="keywordflow">if</span> (empty(val)) <span class="keywordflow">return</span> <span class="stringliteral">&quot;&quot;</span>;</div><div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160;            <span class="keywordflow">if</span> (max == -1 || max &gt;= val.length()) <span class="keywordflow">return</span> simpleUrlEncode(val);</div><div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160;            <span class="keywordflow">return</span> <span class="keyword">new</span> Handlebars.SafeString(simpleUrlEncode(val.substring(0, max)));</div><div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160;        });</div><div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160;</div><div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160;        hb.registerHelper(<span class="stringliteral">&quot;truncate_and_double_url_encode&quot;</span>, (Helper&lt;Integer&gt;) (max, options) -&gt; {</div><div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160;            <span class="keyword">final</span> String val = options.param(0, <span class="stringliteral">&quot; &quot;</span>);</div><div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160;            <span class="keywordflow">if</span> (empty(val)) <span class="keywordflow">return</span> <span class="stringliteral">&quot;&quot;</span>;</div><div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160;            <span class="keywordflow">if</span> (max == -1 || max &gt;= val.length()) <span class="keywordflow">return</span> simpleUrlEncode(simpleUrlEncode(val));</div><div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160;            <span class="keywordflow">return</span> <span class="keyword">new</span> Handlebars.SafeString(simpleUrlEncode(simpleUrlEncode(val.substring(0, max))));</div><div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160;        });</div><div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160;</div><div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160;        hb.registerHelper(<span class="stringliteral">&quot;length&quot;</span>, (thing, options) -&gt; {</div><div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160;            <span class="keywordflow">if</span> (empty(thing)) <span class="keywordflow">return</span> <span class="stringliteral">&quot;0&quot;</span>;</div><div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160;            <span class="keywordflow">if</span> (thing.getClass().isArray()) <span class="keywordflow">return</span> <span class="stringliteral">&quot;&quot;</span>+((Object[]) thing).length;</div><div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160;            <span class="keywordflow">if</span> (thing instanceof Collection) <span class="keywordflow">return</span> <span class="stringliteral">&quot;&quot;</span>+((Collection) thing).size();</div><div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160;            <span class="keywordflow">if</span> (thing instanceof ArrayNode) <span class="keywordflow">return</span> <span class="stringliteral">&quot;&quot;</span>+((ArrayNode) thing).size();</div><div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160;            <span class="keywordflow">return</span> <span class="stringliteral">&quot;&quot;</span>;</div><div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160;        });</div><div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160;</div><div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160;        hb.registerHelper(<span class="stringliteral">&quot;first_nonempty&quot;</span>, (thing, options) -&gt; {</div><div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160;            <span class="keywordflow">if</span> (!empty(thing)) <span class="keywordflow">return</span> <span class="keyword">new</span> Handlebars.SafeString(thing.toString());</div><div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160;            <span class="keywordflow">for</span> (<span class="keyword">final</span> Object param : options.params) {</div><div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160;                <span class="keywordflow">if</span> (!empty(param)) <span class="keywordflow">return</span> <span class="keyword">new</span> Handlebars.SafeString(param.toString());</div><div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160;            }</div><div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="../../d0/d1b/classorg_1_1cobbzilla_1_1util_1_1handlebars_1_1HandlebarsUtil_a3ce0c8388c4503dd6b12c65dbafd6567.html#a3ce0c8388c4503dd6b12c65dbafd6567">EMPTY_SAFE_STRING</a>;</div><div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160;        });</div><div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160;    }</div><div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160;</div><div class="line"><a name="l00466"></a><span class="lineno"><a class="line" href="../../d0/d1b/classorg_1_1cobbzilla_1_1util_1_1handlebars_1_1HandlebarsUtil_ad9314f960e003e5d6806c11a18c44f34.html#ad9314f960e003e5d6806c11a18c44f34">  466</a></span>&#160;    <span class="keyword">public</span> <span class="keyword">static</span> Object <a class="code" href="../../d0/d1b/classorg_1_1cobbzilla_1_1util_1_1handlebars_1_1HandlebarsUtil_ad9314f960e003e5d6806c11a18c44f34.html#ad9314f960e003e5d6806c11a18c44f34">getComparisonArgParam</a>(Options options) {</div><div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160;        <span class="keywordflow">if</span> (options.params.length &lt;= 1) <span class="keywordflow">return</span> die(<span class="stringliteral">&quot;getComparisonArgParam: missing argument&quot;</span>);</div><div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160;        <span class="keywordflow">return</span> options.param(1);</div><div class="line"><a name="l00469"></a><span class="lineno">  469</span>&#160;    }</div><div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160;</div><div class="line"><a name="l00471"></a><span class="lineno"><a class="line" href="../../d0/d1b/classorg_1_1cobbzilla_1_1util_1_1handlebars_1_1HandlebarsUtil_aa560d5318e8ff90c2367b23fc1a16da9.html#aa560d5318e8ff90c2367b23fc1a16da9">  471</a></span>&#160;    <span class="keyword">public</span> <span class="keyword">static</span> String <a class="code" href="../../d0/d1b/classorg_1_1cobbzilla_1_1util_1_1handlebars_1_1HandlebarsUtil_aa560d5318e8ff90c2367b23fc1a16da9.html#aa560d5318e8ff90c2367b23fc1a16da9">getEmailRecipient</a>(Handlebars hb, Options options, <span class="keywordtype">int</span> index) {</div><div class="line"><a name="l00472"></a><span class="lineno">  472</span>&#160;        <span class="keywordflow">return</span> options.params.length &gt; index &amp;&amp; !empty(options.param(index))</div><div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160;                            ? <a class="code" href="../../d0/d1b/classorg_1_1cobbzilla_1_1util_1_1handlebars_1_1HandlebarsUtil_a3798bc5bdea2ec45b6d6fe4e84e2caab.html#a3798bc5bdea2ec45b6d6fe4e84e2caab">apply</a>(hb, options.param(index).toString(), (Map&lt;String, Object&gt;) options.context.model())</div><div class="line"><a name="l00474"></a><span class="lineno">  474</span>&#160;                            : null;</div><div class="line"><a name="l00475"></a><span class="lineno">  475</span>&#160;    }</div><div class="line"><a name="l00476"></a><span class="lineno">  476</span>&#160;</div><div class="line"><a name="l00477"></a><span class="lineno"><a class="line" href="../../d0/d1b/classorg_1_1cobbzilla_1_1util_1_1handlebars_1_1HandlebarsUtil_a64523a2941cf0dcd1e6cb989c61a9e71.html#a64523a2941cf0dcd1e6cb989c61a9e71">  477</a></span>&#160;    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> ExecutorService <a class="code" href="../../d0/d1b/classorg_1_1cobbzilla_1_1util_1_1handlebars_1_1HandlebarsUtil_a64523a2941cf0dcd1e6cb989c61a9e71.html#a64523a2941cf0dcd1e6cb989c61a9e71">contextSender</a> = fixedPool(10);</div><div class="line"><a name="l00478"></a><span class="lineno">  478</span>&#160;</div><div class="line"><a name="l00479"></a><span class="lineno"><a class="line" href="../../d0/d1b/classorg_1_1cobbzilla_1_1util_1_1handlebars_1_1HandlebarsUtil_a78f4d1a6e7b34cb35b98e6d22eceb926.html#a78f4d1a6e7b34cb35b98e6d22eceb926">  479</a></span>&#160;    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="../../d0/d1b/classorg_1_1cobbzilla_1_1util_1_1handlebars_1_1HandlebarsUtil_a78f4d1a6e7b34cb35b98e6d22eceb926.html#a78f4d1a6e7b34cb35b98e6d22eceb926">sendContext</a>(String recipient, String subject, String message, String contentType) {</div><div class="line"><a name="l00480"></a><span class="lineno">  480</span>&#160;        contextSender.submit(() -&gt; {</div><div class="line"><a name="l00481"></a><span class="lineno">  481</span>&#160;            <span class="keywordflow">if</span> (!empty(recipient) &amp;&amp; !empty(message)) {</div><div class="line"><a name="l00482"></a><span class="lineno">  482</span>&#160;                <span class="keyword">synchronized</span> (<a class="code" href="../../d0/d1b/classorg_1_1cobbzilla_1_1util_1_1handlebars_1_1HandlebarsUtil_a3187b25f7582153e9354a2ecb3b6eebf.html#a3187b25f7582153e9354a2ecb3b6eebf">messageSender</a>) {</div><div class="line"><a name="l00483"></a><span class="lineno">  483</span>&#160;                    <span class="keyword">final</span> <a class="code" href="../../df/d45/interfaceorg_1_1cobbzilla_1_1util_1_1handlebars_1_1ContextMessageSender.html">ContextMessageSender</a> sender = messageSender.get();</div><div class="line"><a name="l00484"></a><span class="lineno">  484</span>&#160;                    <span class="keywordflow">if</span> (sender != null) {</div><div class="line"><a name="l00485"></a><span class="lineno">  485</span>&#160;                        <span class="keywordflow">try</span> {</div><div class="line"><a name="l00486"></a><span class="lineno">  486</span>&#160;                            sender.<a class="code" href="../../df/d45/interfaceorg_1_1cobbzilla_1_1util_1_1handlebars_1_1ContextMessageSender_af815765cad9125c3ef17f3f5f0d6fa42.html#af815765cad9125c3ef17f3f5f0d6fa42">send</a>(recipient, subject, message, contentType);</div><div class="line"><a name="l00487"></a><span class="lineno">  487</span>&#160;                        } <span class="keywordflow">catch</span> (Exception e) {</div><div class="line"><a name="l00488"></a><span class="lineno">  488</span>&#160;                            log.error(<span class="stringliteral">&quot;context: error sending message: &quot;</span> + e, e);</div><div class="line"><a name="l00489"></a><span class="lineno">  489</span>&#160;                        }</div><div class="line"><a name="l00490"></a><span class="lineno">  490</span>&#160;                    }</div><div class="line"><a name="l00491"></a><span class="lineno">  491</span>&#160;                }</div><div class="line"><a name="l00492"></a><span class="lineno">  492</span>&#160;            }</div><div class="line"><a name="l00493"></a><span class="lineno">  493</span>&#160;        });</div><div class="line"><a name="l00494"></a><span class="lineno">  494</span>&#160;    }</div><div class="line"><a name="l00495"></a><span class="lineno">  495</span>&#160;</div><div class="line"><a name="l00496"></a><span class="lineno"><a class="line" href="../../d0/d1b/classorg_1_1cobbzilla_1_1util_1_1handlebars_1_1HandlebarsUtil_a5035699148caf065b77752a27fadeb17.html#a5035699148caf065b77752a27fadeb17">  496</a></span>&#160;    <span class="keyword">private</span> <span class="keyword">static</span> Iterator <a class="code" href="../../d0/d1b/classorg_1_1cobbzilla_1_1util_1_1handlebars_1_1HandlebarsUtil_a5035699148caf065b77752a27fadeb17.html#a5035699148caf065b77752a27fadeb17">getIterator</a>(Object thing) {</div><div class="line"><a name="l00497"></a><span class="lineno">  497</span>&#160;        <span class="keywordflow">if</span> (thing instanceof Collection) {</div><div class="line"><a name="l00498"></a><span class="lineno">  498</span>&#160;            <span class="keywordflow">return</span> ((Collection) thing).iterator();</div><div class="line"><a name="l00499"></a><span class="lineno">  499</span>&#160;        } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (thing instanceof Map) {</div><div class="line"><a name="l00500"></a><span class="lineno">  500</span>&#160;            <span class="keywordflow">return</span> ((Map) thing).values().iterator();</div><div class="line"><a name="l00501"></a><span class="lineno">  501</span>&#160;        } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (Object[].<span class="keyword">class</span>.isAssignableFrom(thing.getClass())) {</div><div class="line"><a name="l00502"></a><span class="lineno">  502</span>&#160;            <span class="keywordflow">return</span> <span class="keyword">new</span> ArrayIterator(thing);</div><div class="line"><a name="l00503"></a><span class="lineno">  503</span>&#160;        } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00504"></a><span class="lineno">  504</span>&#160;            <span class="keywordflow">return</span> die(<span class="stringliteral">&quot;find: invalid argument type &quot;</span>+thing.getClass().getName());</div><div class="line"><a name="l00505"></a><span class="lineno">  505</span>&#160;        }</div><div class="line"><a name="l00506"></a><span class="lineno">  506</span>&#160;    }</div><div class="line"><a name="l00507"></a><span class="lineno">  507</span>&#160;</div><div class="line"><a name="l00508"></a><span class="lineno"><a class="line" href="../../d0/d1b/classorg_1_1cobbzilla_1_1util_1_1handlebars_1_1HandlebarsUtil_aeef00b3b32a68b992e75bf0d6f9bbd20.html#aeef00b3b32a68b992e75bf0d6f9bbd20">  508</a></span>&#160;    <span class="keyword">private</span> <span class="keyword">static</span> Comparable <a class="code" href="../../d0/d1b/classorg_1_1cobbzilla_1_1util_1_1handlebars_1_1HandlebarsUtil_aeef00b3b32a68b992e75bf0d6f9bbd20.html#aeef00b3b32a68b992e75bf0d6f9bbd20">cval</a>(Object v) {</div><div class="line"><a name="l00509"></a><span class="lineno">  509</span>&#160;        <span class="keywordflow">if</span> (v == null) <span class="keywordflow">return</span> null;</div><div class="line"><a name="l00510"></a><span class="lineno">  510</span>&#160;        <span class="keywordflow">if</span> (v instanceof Number) <span class="keywordflow">return</span> (Comparable) v;</div><div class="line"><a name="l00511"></a><span class="lineno">  511</span>&#160;        <span class="keywordflow">if</span> (v instanceof String) {</div><div class="line"><a name="l00512"></a><span class="lineno">  512</span>&#160;            <span class="keyword">final</span> String s = v.toString();</div><div class="line"><a name="l00513"></a><span class="lineno">  513</span>&#160;            <span class="keywordflow">try</span> {</div><div class="line"><a name="l00514"></a><span class="lineno">  514</span>&#160;                <span class="keywordflow">return</span> Long.parseLong(s);</div><div class="line"><a name="l00515"></a><span class="lineno">  515</span>&#160;            } <span class="keywordflow">catch</span> (Exception e) {</div><div class="line"><a name="l00516"></a><span class="lineno">  516</span>&#160;                <span class="keywordflow">try</span> {</div><div class="line"><a name="l00517"></a><span class="lineno">  517</span>&#160;                    <span class="keywordflow">return</span> big(s);</div><div class="line"><a name="l00518"></a><span class="lineno">  518</span>&#160;                } <span class="keywordflow">catch</span> (Exception e2) {</div><div class="line"><a name="l00519"></a><span class="lineno">  519</span>&#160;                    <span class="keywordflow">return</span> s;</div><div class="line"><a name="l00520"></a><span class="lineno">  520</span>&#160;                }</div><div class="line"><a name="l00521"></a><span class="lineno">  521</span>&#160;            }</div><div class="line"><a name="l00522"></a><span class="lineno">  522</span>&#160;        } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00523"></a><span class="lineno">  523</span>&#160;            <span class="keywordflow">return</span> die(<span class="stringliteral">&quot;don&#39;t know to compare objects of class &quot;</span>+v.getClass());</div><div class="line"><a name="l00524"></a><span class="lineno">  524</span>&#160;        }</div><div class="line"><a name="l00525"></a><span class="lineno">  525</span>&#160;    }</div><div class="line"><a name="l00526"></a><span class="lineno">  526</span>&#160;</div><div class="line"><a name="l00527"></a><span class="lineno"><a class="line" href="../../d0/d1b/classorg_1_1cobbzilla_1_1util_1_1handlebars_1_1HandlebarsUtil_a6a356277e4c72467b4ea71f7a9af3311.html#a6a356277e4c72467b4ea71f7a9af3311">  527</a></span>&#160;    <span class="keyword">public</span> static &lt;T&gt; <span class="keywordtype">boolean</span> <a class="code" href="../../d0/d1b/classorg_1_1cobbzilla_1_1util_1_1handlebars_1_1HandlebarsUtil_a6a356277e4c72467b4ea71f7a9af3311.html#a6a356277e4c72467b4ea71f7a9af3311">compare</a>(String <span class="keyword">operator</span>, Comparable&lt;T&gt; v1, T v2) {</div><div class="line"><a name="l00528"></a><span class="lineno">  528</span>&#160;        <span class="keywordflow">if</span> (v1 == null) <span class="keywordflow">return</span> v2 == null;</div><div class="line"><a name="l00529"></a><span class="lineno">  529</span>&#160;        <span class="keywordflow">if</span> (v2 == null) <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00530"></a><span class="lineno">  530</span>&#160;        <span class="keywordtype">boolean</span> result;</div><div class="line"><a name="l00531"></a><span class="lineno">  531</span>&#160;        <span class="keyword">final</span> List&lt;String&gt; parts;</div><div class="line"><a name="l00532"></a><span class="lineno">  532</span>&#160;        <span class="keywordflow">switch</span> (<span class="keyword">operator</span>) {</div><div class="line"><a name="l00533"></a><span class="lineno">  533</span>&#160;            <span class="keywordflow">case</span> <span class="stringliteral">&quot;==&quot;</span>:  result =  v1.equals(v2); <span class="keywordflow">break</span>;</div><div class="line"><a name="l00534"></a><span class="lineno">  534</span>&#160;            <span class="keywordflow">case</span> <span class="stringliteral">&quot;!=&quot;</span>:  result = !v1.equals(v2); <span class="keywordflow">break</span>;</div><div class="line"><a name="l00535"></a><span class="lineno">  535</span>&#160;            <span class="keywordflow">case</span> <span class="stringliteral">&quot;&gt;&quot;</span>:   result = v1.compareTo(v2) &gt; 0; <span class="keywordflow">break</span>;</div><div class="line"><a name="l00536"></a><span class="lineno">  536</span>&#160;            <span class="keywordflow">case</span> <span class="stringliteral">&quot;&gt;=&quot;</span>:  result = v1.compareTo(v2) &gt;= 0; <span class="keywordflow">break</span>;</div><div class="line"><a name="l00537"></a><span class="lineno">  537</span>&#160;            <span class="keywordflow">case</span> <span class="stringliteral">&quot;&lt;&quot;</span>:   result = v1.compareTo(v2) &lt; 0; <span class="keywordflow">break</span>;</div><div class="line"><a name="l00538"></a><span class="lineno">  538</span>&#160;            <span class="keywordflow">case</span> <span class="stringliteral">&quot;&lt;=&quot;</span>:  result = v1.compareTo(v2) &lt;= 0; <span class="keywordflow">break</span>;</div><div class="line"><a name="l00539"></a><span class="lineno">  539</span>&#160;            <span class="keywordflow">case</span> <span class="stringliteral">&quot;in&quot;</span>:</div><div class="line"><a name="l00540"></a><span class="lineno">  540</span>&#160;                parts = <a class="code" href="../../db/d9f/classorg_1_1cobbzilla_1_1util_1_1string_1_1StringUtil.html">StringUtil</a>.<a class="code" href="../../db/d9f/classorg_1_1cobbzilla_1_1util_1_1string_1_1StringUtil_aa417d699a84b1243caafaa5cfb469e8a.html#aa417d699a84b1243caafaa5cfb469e8a">split</a>(v2.toString(), <span class="stringliteral">&quot;, \n\t&quot;</span>);</div><div class="line"><a name="l00541"></a><span class="lineno">  541</span>&#160;                <span class="keywordflow">for</span> (String part : parts) {</div><div class="line"><a name="l00542"></a><span class="lineno">  542</span>&#160;                    <span class="keywordflow">if</span> (v1.equals(part)) <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l00543"></a><span class="lineno">  543</span>&#160;                }</div><div class="line"><a name="l00544"></a><span class="lineno">  544</span>&#160;                <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00545"></a><span class="lineno">  545</span>&#160;            <span class="keywordflow">case</span> <span class="stringliteral">&quot;not_in&quot;</span>:</div><div class="line"><a name="l00546"></a><span class="lineno">  546</span>&#160;                parts = <a class="code" href="../../db/d9f/classorg_1_1cobbzilla_1_1util_1_1string_1_1StringUtil.html">StringUtil</a>.<a class="code" href="../../db/d9f/classorg_1_1cobbzilla_1_1util_1_1string_1_1StringUtil_aa417d699a84b1243caafaa5cfb469e8a.html#aa417d699a84b1243caafaa5cfb469e8a">split</a>(v2.toString(), <span class="stringliteral">&quot;, \n\t&quot;</span>);</div><div class="line"><a name="l00547"></a><span class="lineno">  547</span>&#160;                <span class="keywordflow">for</span> (String part : parts) {</div><div class="line"><a name="l00548"></a><span class="lineno">  548</span>&#160;                    <span class="keywordflow">if</span> (v1.equals(part)) <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00549"></a><span class="lineno">  549</span>&#160;                }</div><div class="line"><a name="l00550"></a><span class="lineno">  550</span>&#160;                <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l00551"></a><span class="lineno">  551</span>&#160;            <span class="keywordflow">default</span>: result = <span class="keyword">false</span>;</div><div class="line"><a name="l00552"></a><span class="lineno">  552</span>&#160;        }</div><div class="line"><a name="l00553"></a><span class="lineno">  553</span>&#160;        <span class="keywordflow">return</span> result;</div><div class="line"><a name="l00554"></a><span class="lineno">  554</span>&#160;    }</div><div class="line"><a name="l00555"></a><span class="lineno">  555</span>&#160;</div><div class="line"><a name="l00556"></a><span class="lineno"><a class="line" href="../../d0/d1b/classorg_1_1cobbzilla_1_1util_1_1handlebars_1_1HandlebarsUtil_a43596af92e9936443daa525dd45036b4.html#a43596af92e9936443daa525dd45036b4">  556</a></span>&#160;    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="../../d0/d1b/classorg_1_1cobbzilla_1_1util_1_1handlebars_1_1HandlebarsUtil_a43596af92e9936443daa525dd45036b4.html#a43596af92e9936443daa525dd45036b4">registerCurrencyHelpers</a>(Handlebars hb) {</div><div class="line"><a name="l00557"></a><span class="lineno">  557</span>&#160;        hb.registerHelper(<span class="stringliteral">&quot;dollarsNoSign&quot;</span>, (src, options) -&gt; {</div><div class="line"><a name="l00558"></a><span class="lineno">  558</span>&#160;            <span class="keywordflow">if</span> (empty(src)) <span class="keywordflow">return</span> <span class="stringliteral">&quot;&quot;</span>;</div><div class="line"><a name="l00559"></a><span class="lineno">  559</span>&#160;            <span class="keywordflow">return</span> <span class="keyword">new</span> Handlebars.SafeString(formatDollarsNoSign(<a class="code" href="../../d0/d1b/classorg_1_1cobbzilla_1_1util_1_1handlebars_1_1HandlebarsUtil_af2302957780a3260d87a6a9f5e5cb82c.html#af2302957780a3260d87a6a9f5e5cb82c">longDollarVal</a>(src)));</div><div class="line"><a name="l00560"></a><span class="lineno">  560</span>&#160;        });</div><div class="line"><a name="l00561"></a><span class="lineno">  561</span>&#160;</div><div class="line"><a name="l00562"></a><span class="lineno">  562</span>&#160;        hb.registerHelper(<span class="stringliteral">&quot;dollarsWithSign&quot;</span>, (src, options) -&gt; {</div><div class="line"><a name="l00563"></a><span class="lineno">  563</span>&#160;            <span class="keywordflow">if</span> (empty(src)) <span class="keywordflow">return</span> <span class="stringliteral">&quot;&quot;</span>;</div><div class="line"><a name="l00564"></a><span class="lineno">  564</span>&#160;            <span class="keywordflow">return</span> <span class="keyword">new</span> Handlebars.SafeString(formatDollarsWithSign(<a class="code" href="../../d0/d1b/classorg_1_1cobbzilla_1_1util_1_1handlebars_1_1HandlebarsUtil_af2302957780a3260d87a6a9f5e5cb82c.html#af2302957780a3260d87a6a9f5e5cb82c">longDollarVal</a>(src)));</div><div class="line"><a name="l00565"></a><span class="lineno">  565</span>&#160;        });</div><div class="line"><a name="l00566"></a><span class="lineno">  566</span>&#160;</div><div class="line"><a name="l00567"></a><span class="lineno">  567</span>&#160;        hb.registerHelper(<span class="stringliteral">&quot;dollarsAndCentsNoSign&quot;</span>, (src, options) -&gt; {</div><div class="line"><a name="l00568"></a><span class="lineno">  568</span>&#160;            <span class="keywordflow">if</span> (empty(src)) <span class="keywordflow">return</span> <span class="stringliteral">&quot;&quot;</span>;</div><div class="line"><a name="l00569"></a><span class="lineno">  569</span>&#160;            <span class="keywordflow">return</span> <span class="keyword">new</span> Handlebars.SafeString(formatDollarsAndCentsNoSign(<a class="code" href="../../d0/d1b/classorg_1_1cobbzilla_1_1util_1_1handlebars_1_1HandlebarsUtil_af2302957780a3260d87a6a9f5e5cb82c.html#af2302957780a3260d87a6a9f5e5cb82c">longDollarVal</a>(src)));</div><div class="line"><a name="l00570"></a><span class="lineno">  570</span>&#160;        });</div><div class="line"><a name="l00571"></a><span class="lineno">  571</span>&#160;</div><div class="line"><a name="l00572"></a><span class="lineno">  572</span>&#160;        hb.registerHelper(<span class="stringliteral">&quot;dollarsAndCentsWithSign&quot;</span>, (src, options) -&gt; {</div><div class="line"><a name="l00573"></a><span class="lineno">  573</span>&#160;            <span class="keywordflow">if</span> (empty(src)) <span class="keywordflow">return</span> <span class="stringliteral">&quot;&quot;</span>;</div><div class="line"><a name="l00574"></a><span class="lineno">  574</span>&#160;            <span class="keywordflow">return</span> <span class="keyword">new</span> Handlebars.SafeString(formatDollarsAndCentsWithSign(<a class="code" href="../../d0/d1b/classorg_1_1cobbzilla_1_1util_1_1handlebars_1_1HandlebarsUtil_af2302957780a3260d87a6a9f5e5cb82c.html#af2302957780a3260d87a6a9f5e5cb82c">longDollarVal</a>(src)));</div><div class="line"><a name="l00575"></a><span class="lineno">  575</span>&#160;        });</div><div class="line"><a name="l00576"></a><span class="lineno">  576</span>&#160;</div><div class="line"><a name="l00577"></a><span class="lineno">  577</span>&#160;        hb.registerHelper(<span class="stringliteral">&quot;dollarsAndCentsPlain&quot;</span>, (src, options) -&gt; {</div><div class="line"><a name="l00578"></a><span class="lineno">  578</span>&#160;            <span class="keywordflow">if</span> (empty(src)) <span class="keywordflow">return</span> <span class="stringliteral">&quot;&quot;</span>;</div><div class="line"><a name="l00579"></a><span class="lineno">  579</span>&#160;            <span class="keywordflow">return</span> <span class="keyword">new</span> Handlebars.SafeString(formatDollarsAndCentsPlain(<a class="code" href="../../d0/d1b/classorg_1_1cobbzilla_1_1util_1_1handlebars_1_1HandlebarsUtil_af2302957780a3260d87a6a9f5e5cb82c.html#af2302957780a3260d87a6a9f5e5cb82c">longDollarVal</a>(src)));</div><div class="line"><a name="l00580"></a><span class="lineno">  580</span>&#160;        });</div><div class="line"><a name="l00581"></a><span class="lineno">  581</span>&#160;    }</div><div class="line"><a name="l00582"></a><span class="lineno">  582</span>&#160;</div><div class="line"><a name="l00583"></a><span class="lineno"><a class="line" href="../../d0/d1b/classorg_1_1cobbzilla_1_1util_1_1handlebars_1_1HandlebarsUtil_a94959117dfd5adfb7c9cd82823ae98f9.html#a94959117dfd5adfb7c9cd82823ae98f9">  583</a></span>&#160;    @Getter @Setter <span class="keyword">private</span> <span class="keyword">static</span> String <a class="code" href="../../d0/d1b/classorg_1_1cobbzilla_1_1util_1_1handlebars_1_1HandlebarsUtil_a94959117dfd5adfb7c9cd82823ae98f9.html#a94959117dfd5adfb7c9cd82823ae98f9">defaultTimeZone</a> = <span class="stringliteral">&quot;US/Eastern&quot;</span>;</div><div class="line"><a name="l00584"></a><span class="lineno">  584</span>&#160;</div><div class="line"><a name="l00585"></a><span class="lineno"><a class="line" href="../../db/d54/classorg_1_1cobbzilla_1_1util_1_1handlebars_1_1HandlebarsUtil_1_1DateHelper.html">  585</a></span>&#160;    <span class="keyword">private</span> <span class="keyword">abstract</span> <span class="keyword">static</span> <span class="keyword">class </span><a class="code" href="../../db/d54/classorg_1_1cobbzilla_1_1util_1_1handlebars_1_1HandlebarsUtil_1_1DateHelper.html">DateHelper</a> <span class="keyword">implements</span> Helper&lt;Object&gt; {</div><div class="line"><a name="l00586"></a><span class="lineno">  586</span>&#160;</div><div class="line"><a name="l00587"></a><span class="lineno"><a class="line" href="../../db/d54/classorg_1_1cobbzilla_1_1util_1_1handlebars_1_1HandlebarsUtil_1_1DateHelper_a314a2572f353991e2efe6a1da672630a.html#a314a2572f353991e2efe6a1da672630a">  587</a></span>&#160;        <span class="keyword">protected</span> DateTimeZone <a class="code" href="../../db/d54/classorg_1_1cobbzilla_1_1util_1_1handlebars_1_1HandlebarsUtil_1_1DateHelper_a314a2572f353991e2efe6a1da672630a.html#a314a2572f353991e2efe6a1da672630a">getTimeZone</a> (Options options) { <span class="keywordflow">return</span> <a class="code" href="../../db/d54/classorg_1_1cobbzilla_1_1util_1_1handlebars_1_1HandlebarsUtil_1_1DateHelper_a314a2572f353991e2efe6a1da672630a.html#a314a2572f353991e2efe6a1da672630a">getTimeZone</a>(options, 0); }</div><div class="line"><a name="l00588"></a><span class="lineno">  588</span>&#160;</div><div class="line"><a name="l00589"></a><span class="lineno"><a class="line" href="../../db/d54/classorg_1_1cobbzilla_1_1util_1_1handlebars_1_1HandlebarsUtil_1_1DateHelper_a766edfe6a643347b2ef5573f2f3ac459.html#a766edfe6a643347b2ef5573f2f3ac459">  589</a></span>&#160;        <span class="keyword">protected</span> DateTimeZone <a class="code" href="../../db/d54/classorg_1_1cobbzilla_1_1util_1_1handlebars_1_1HandlebarsUtil_1_1DateHelper_a766edfe6a643347b2ef5573f2f3ac459.html#a766edfe6a643347b2ef5573f2f3ac459">getTimeZone</a> (Options options, <span class="keywordtype">int</span> index) {</div><div class="line"><a name="l00590"></a><span class="lineno">  590</span>&#160;            <span class="keyword">final</span> String timeZoneName = options.param(index, getDefaultTimeZone());</div><div class="line"><a name="l00591"></a><span class="lineno">  591</span>&#160;            <span class="keywordflow">try</span> {</div><div class="line"><a name="l00592"></a><span class="lineno">  592</span>&#160;                <span class="keywordflow">return</span> DateTimeZone.forID(timeZoneName);</div><div class="line"><a name="l00593"></a><span class="lineno">  593</span>&#160;            } <span class="keywordflow">catch</span> (Exception e) {</div><div class="line"><a name="l00594"></a><span class="lineno">  594</span>&#160;                <span class="keywordflow">return</span> die(<span class="stringliteral">&quot;getTimeZone: invalid timezone: &quot;</span>+timeZoneName);</div><div class="line"><a name="l00595"></a><span class="lineno">  595</span>&#160;            }</div><div class="line"><a name="l00596"></a><span class="lineno">  596</span>&#160;        }</div><div class="line"><a name="l00597"></a><span class="lineno">  597</span>&#160;</div><div class="line"><a name="l00598"></a><span class="lineno"><a class="line" href="../../db/d54/classorg_1_1cobbzilla_1_1util_1_1handlebars_1_1HandlebarsUtil_1_1DateHelper_a8f6a8a28b317df47d41baa615088608f.html#a8f6a8a28b317df47d41baa615088608f">  598</a></span>&#160;        <span class="keyword">protected</span> <span class="keywordtype">long</span> <a class="code" href="../../db/d54/classorg_1_1cobbzilla_1_1util_1_1handlebars_1_1HandlebarsUtil_1_1DateHelper_a8f6a8a28b317df47d41baa615088608f.html#a8f6a8a28b317df47d41baa615088608f">zonedTimestamp</a> (Object src, Options options) { <span class="keywordflow">return</span> <a class="code" href="../../db/d54/classorg_1_1cobbzilla_1_1util_1_1handlebars_1_1HandlebarsUtil_1_1DateHelper_a8f6a8a28b317df47d41baa615088608f.html#a8f6a8a28b317df47d41baa615088608f">zonedTimestamp</a>(src, options, 0); }</div><div class="line"><a name="l00599"></a><span class="lineno">  599</span>&#160;</div><div class="line"><a name="l00600"></a><span class="lineno"><a class="line" href="../../db/d54/classorg_1_1cobbzilla_1_1util_1_1handlebars_1_1HandlebarsUtil_1_1DateHelper_a8edbb76ae9f62bf7ab56e1107eeea00d.html#a8edbb76ae9f62bf7ab56e1107eeea00d">  600</a></span>&#160;        <span class="keyword">protected</span> <span class="keywordtype">long</span> <a class="code" href="../../db/d54/classorg_1_1cobbzilla_1_1util_1_1handlebars_1_1HandlebarsUtil_1_1DateHelper_a8edbb76ae9f62bf7ab56e1107eeea00d.html#a8edbb76ae9f62bf7ab56e1107eeea00d">zonedTimestamp</a> (Object src, Options options, <span class="keywordtype">int</span> index) {</div><div class="line"><a name="l00601"></a><span class="lineno">  601</span>&#160;            <span class="keywordflow">if</span> (empty(src)) src = <span class="stringliteral">&quot;now&quot;</span>;</div><div class="line"><a name="l00602"></a><span class="lineno">  602</span>&#160;            <span class="keyword">final</span> DateTimeZone timeZone = <a class="code" href="../../db/d54/classorg_1_1cobbzilla_1_1util_1_1handlebars_1_1HandlebarsUtil_1_1DateHelper_a314a2572f353991e2efe6a1da672630a.html#a314a2572f353991e2efe6a1da672630a">getTimeZone</a>(options, index);</div><div class="line"><a name="l00603"></a><span class="lineno">  603</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="../../d0/d1b/classorg_1_1cobbzilla_1_1util_1_1handlebars_1_1HandlebarsUtil_a5f814dc12eb19ff7476cdaecfa19c538.html#a5f814dc12eb19ff7476cdaecfa19c538">longVal</a>(src, timeZone);</div><div class="line"><a name="l00604"></a><span class="lineno">  604</span>&#160;        }</div><div class="line"><a name="l00605"></a><span class="lineno">  605</span>&#160;</div><div class="line"><a name="l00606"></a><span class="lineno"><a class="line" href="../../db/d54/classorg_1_1cobbzilla_1_1util_1_1handlebars_1_1HandlebarsUtil_1_1DateHelper_af88617030039c50f7c5806cdb84e604f.html#af88617030039c50f7c5806cdb84e604f">  606</a></span>&#160;        <span class="keyword">protected</span> CharSequence <a class="code" href="../../db/d54/classorg_1_1cobbzilla_1_1util_1_1handlebars_1_1HandlebarsUtil_1_1DateHelper_af88617030039c50f7c5806cdb84e604f.html#af88617030039c50f7c5806cdb84e604f">print</a> (DateTimeFormatter formatter, Object src, Options options) {</div><div class="line"><a name="l00607"></a><span class="lineno">  607</span>&#160;            <span class="keywordflow">return</span> <span class="keyword">new</span> Handlebars.SafeString(formatter.print(<span class="keyword">new</span> DateTime(<a class="code" href="../../db/d54/classorg_1_1cobbzilla_1_1util_1_1handlebars_1_1HandlebarsUtil_1_1DateHelper_a8f6a8a28b317df47d41baa615088608f.html#a8f6a8a28b317df47d41baa615088608f">zonedTimestamp</a>(src, options),</div><div class="line"><a name="l00608"></a><span class="lineno">  608</span>&#160;                                                                          <a class="code" href="../../db/d54/classorg_1_1cobbzilla_1_1util_1_1handlebars_1_1HandlebarsUtil_1_1DateHelper_a314a2572f353991e2efe6a1da672630a.html#a314a2572f353991e2efe6a1da672630a">getTimeZone</a>(options))));</div><div class="line"><a name="l00609"></a><span class="lineno">  609</span>&#160;        }</div><div class="line"><a name="l00610"></a><span class="lineno">  610</span>&#160;    }</div><div class="line"><a name="l00611"></a><span class="lineno">  611</span>&#160;</div><div class="line"><a name="l00612"></a><span class="lineno"><a class="line" href="../../d0/d1b/classorg_1_1cobbzilla_1_1util_1_1handlebars_1_1HandlebarsUtil_a4eadff15b21a8fd540a8b14e9c45e200.html#a4eadff15b21a8fd540a8b14e9c45e200">  612</a></span>&#160;    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="../../d0/d1b/classorg_1_1cobbzilla_1_1util_1_1handlebars_1_1HandlebarsUtil_a4eadff15b21a8fd540a8b14e9c45e200.html#a4eadff15b21a8fd540a8b14e9c45e200">registerDateHelpers</a>(Handlebars hb) {</div><div class="line"><a name="l00613"></a><span class="lineno">  613</span>&#160;</div><div class="line"><a name="l00614"></a><span class="lineno">  614</span>&#160;        hb.registerHelper(<span class="stringliteral">&quot;date_format&quot;</span>, <span class="keyword">new</span> <a class="code" href="../../db/d54/classorg_1_1cobbzilla_1_1util_1_1handlebars_1_1HandlebarsUtil_1_1DateHelper.html">DateHelper</a>() {</div><div class="line"><a name="l00615"></a><span class="lineno">  615</span>&#160;            <span class="keyword">public</span> CharSequence <a class="code" href="../../d0/d1b/classorg_1_1cobbzilla_1_1util_1_1handlebars_1_1HandlebarsUtil_a3798bc5bdea2ec45b6d6fe4e84e2caab.html#a3798bc5bdea2ec45b6d6fe4e84e2caab">apply</a>(Object src, Options options) {</div><div class="line"><a name="l00616"></a><span class="lineno">  616</span>&#160;                <span class="keyword">final</span> DateTimeFormatter formatter = DateTimeFormat.forPattern(options.param(0));</div><div class="line"><a name="l00617"></a><span class="lineno">  617</span>&#160;                <span class="keywordflow">return</span> <span class="keyword">new</span> Handlebars.SafeString(formatter.print(<span class="keyword">new</span> DateTime(<a class="code" href="../../db/d54/classorg_1_1cobbzilla_1_1util_1_1handlebars_1_1HandlebarsUtil_1_1DateHelper_a8f6a8a28b317df47d41baa615088608f.html#a8f6a8a28b317df47d41baa615088608f">zonedTimestamp</a>(src, options, 1),</div><div class="line"><a name="l00618"></a><span class="lineno">  618</span>&#160;                        <a class="code" href="../../db/d54/classorg_1_1cobbzilla_1_1util_1_1handlebars_1_1HandlebarsUtil_1_1DateHelper_a314a2572f353991e2efe6a1da672630a.html#a314a2572f353991e2efe6a1da672630a">getTimeZone</a>(options, 1))));</div><div class="line"><a name="l00619"></a><span class="lineno">  619</span>&#160;            }</div><div class="line"><a name="l00620"></a><span class="lineno">  620</span>&#160;        });</div><div class="line"><a name="l00621"></a><span class="lineno">  621</span>&#160;</div><div class="line"><a name="l00622"></a><span class="lineno">  622</span>&#160;        hb.registerHelper(<span class="stringliteral">&quot;date_short&quot;</span>, <span class="keyword">new</span> <a class="code" href="../../db/d54/classorg_1_1cobbzilla_1_1util_1_1handlebars_1_1HandlebarsUtil_1_1DateHelper.html">DateHelper</a>() {</div><div class="line"><a name="l00623"></a><span class="lineno">  623</span>&#160;            <span class="keyword">public</span> CharSequence <a class="code" href="../../d0/d1b/classorg_1_1cobbzilla_1_1util_1_1handlebars_1_1HandlebarsUtil_a3798bc5bdea2ec45b6d6fe4e84e2caab.html#a3798bc5bdea2ec45b6d6fe4e84e2caab">apply</a>(Object src, Options options) {</div><div class="line"><a name="l00624"></a><span class="lineno">  624</span>&#160;                <span class="keywordflow">return</span> <a class="code" href="../../db/d54/classorg_1_1cobbzilla_1_1util_1_1handlebars_1_1HandlebarsUtil_1_1DateHelper_af88617030039c50f7c5806cdb84e604f.html#af88617030039c50f7c5806cdb84e604f">print</a>(<a class="code" href="../../d2/dea/classorg_1_1cobbzilla_1_1util_1_1time_1_1TimeUtil.html">TimeUtil</a>.<a class="code" href="../../d2/dea/classorg_1_1cobbzilla_1_1util_1_1time_1_1TimeUtil_aa719cef14f8f815be188911e7a4efe3e.html#aa719cef14f8f815be188911e7a4efe3e">DATE_FORMAT_MMDDYYYY</a>, src, options);</div><div class="line"><a name="l00625"></a><span class="lineno">  625</span>&#160;            }</div><div class="line"><a name="l00626"></a><span class="lineno">  626</span>&#160;        });</div><div class="line"><a name="l00627"></a><span class="lineno">  627</span>&#160;</div><div class="line"><a name="l00628"></a><span class="lineno">  628</span>&#160;        hb.registerHelper(<span class="stringliteral">&quot;date_yyyy_mm_dd&quot;</span>, <span class="keyword">new</span> <a class="code" href="../../db/d54/classorg_1_1cobbzilla_1_1util_1_1handlebars_1_1HandlebarsUtil_1_1DateHelper.html">DateHelper</a>() {</div><div class="line"><a name="l00629"></a><span class="lineno">  629</span>&#160;            <span class="keyword">public</span> CharSequence <a class="code" href="../../d0/d1b/classorg_1_1cobbzilla_1_1util_1_1handlebars_1_1HandlebarsUtil_a3798bc5bdea2ec45b6d6fe4e84e2caab.html#a3798bc5bdea2ec45b6d6fe4e84e2caab">apply</a>(Object src, Options options) {</div><div class="line"><a name="l00630"></a><span class="lineno">  630</span>&#160;                <span class="keywordflow">return</span> <a class="code" href="../../db/d54/classorg_1_1cobbzilla_1_1util_1_1handlebars_1_1HandlebarsUtil_1_1DateHelper_af88617030039c50f7c5806cdb84e604f.html#af88617030039c50f7c5806cdb84e604f">print</a>(<a class="code" href="../../d2/dea/classorg_1_1cobbzilla_1_1util_1_1time_1_1TimeUtil.html">TimeUtil</a>.<a class="code" href="../../d2/dea/classorg_1_1cobbzilla_1_1util_1_1time_1_1TimeUtil_afa006f3637a113075c1b5968ed6406c7.html#afa006f3637a113075c1b5968ed6406c7">DATE_FORMAT_YYYY_MM_DD</a>, src, options);</div><div class="line"><a name="l00631"></a><span class="lineno">  631</span>&#160;            }</div><div class="line"><a name="l00632"></a><span class="lineno">  632</span>&#160;        });</div><div class="line"><a name="l00633"></a><span class="lineno">  633</span>&#160;</div><div class="line"><a name="l00634"></a><span class="lineno">  634</span>&#160;        hb.registerHelper(<span class="stringliteral">&quot;date_mmm_dd_yyyy&quot;</span>, <span class="keyword">new</span> <a class="code" href="../../db/d54/classorg_1_1cobbzilla_1_1util_1_1handlebars_1_1HandlebarsUtil_1_1DateHelper.html">DateHelper</a>() {</div><div class="line"><a name="l00635"></a><span class="lineno">  635</span>&#160;            <span class="keyword">public</span> CharSequence <a class="code" href="../../d0/d1b/classorg_1_1cobbzilla_1_1util_1_1handlebars_1_1HandlebarsUtil_a3798bc5bdea2ec45b6d6fe4e84e2caab.html#a3798bc5bdea2ec45b6d6fe4e84e2caab">apply</a>(Object src, Options options) {</div><div class="line"><a name="l00636"></a><span class="lineno">  636</span>&#160;                <span class="keywordflow">return</span> <a class="code" href="../../db/d54/classorg_1_1cobbzilla_1_1util_1_1handlebars_1_1HandlebarsUtil_1_1DateHelper_af88617030039c50f7c5806cdb84e604f.html#af88617030039c50f7c5806cdb84e604f">print</a>(<a class="code" href="../../d2/dea/classorg_1_1cobbzilla_1_1util_1_1time_1_1TimeUtil.html">TimeUtil</a>.<a class="code" href="../../d2/dea/classorg_1_1cobbzilla_1_1util_1_1time_1_1TimeUtil_a6f7bb6f402471c9249fcb76dbbdf9b67.html#a6f7bb6f402471c9249fcb76dbbdf9b67">DATE_FORMAT_MMM_DD_YYYY</a>, src, options);</div><div class="line"><a name="l00637"></a><span class="lineno">  637</span>&#160;            }</div><div class="line"><a name="l00638"></a><span class="lineno">  638</span>&#160;        });</div><div class="line"><a name="l00639"></a><span class="lineno">  639</span>&#160;</div><div class="line"><a name="l00640"></a><span class="lineno">  640</span>&#160;        hb.registerHelper(<span class="stringliteral">&quot;date_long&quot;</span>, <span class="keyword">new</span> <a class="code" href="../../db/d54/classorg_1_1cobbzilla_1_1util_1_1handlebars_1_1HandlebarsUtil_1_1DateHelper.html">DateHelper</a>() {</div><div class="line"><a name="l00641"></a><span class="lineno">  641</span>&#160;            <span class="keyword">public</span> CharSequence <a class="code" href="../../d0/d1b/classorg_1_1cobbzilla_1_1util_1_1handlebars_1_1HandlebarsUtil_a3798bc5bdea2ec45b6d6fe4e84e2caab.html#a3798bc5bdea2ec45b6d6fe4e84e2caab">apply</a>(Object src, Options options) {</div><div class="line"><a name="l00642"></a><span class="lineno">  642</span>&#160;                <span class="keywordflow">return</span> <a class="code" href="../../db/d54/classorg_1_1cobbzilla_1_1util_1_1handlebars_1_1HandlebarsUtil_1_1DateHelper_af88617030039c50f7c5806cdb84e604f.html#af88617030039c50f7c5806cdb84e604f">print</a>(<a class="code" href="../../d2/dea/classorg_1_1cobbzilla_1_1util_1_1time_1_1TimeUtil.html">TimeUtil</a>.<a class="code" href="../../d2/dea/classorg_1_1cobbzilla_1_1util_1_1time_1_1TimeUtil_ac72ca2318f74ff25c6fea9f064370cc3.html#ac72ca2318f74ff25c6fea9f064370cc3">DATE_FORMAT_MMMM_D_YYYY</a>, src, options);</div><div class="line"><a name="l00643"></a><span class="lineno">  643</span>&#160;            }</div><div class="line"><a name="l00644"></a><span class="lineno">  644</span>&#160;        });</div><div class="line"><a name="l00645"></a><span class="lineno">  645</span>&#160;</div><div class="line"><a name="l00646"></a><span class="lineno">  646</span>&#160;        hb.registerHelper(<span class="stringliteral">&quot;timestamp&quot;</span>, <span class="keyword">new</span> <a class="code" href="../../db/d54/classorg_1_1cobbzilla_1_1util_1_1handlebars_1_1HandlebarsUtil_1_1DateHelper.html">DateHelper</a>() {</div><div class="line"><a name="l00647"></a><span class="lineno">  647</span>&#160;            <span class="keyword">public</span> CharSequence <a class="code" href="../../d0/d1b/classorg_1_1cobbzilla_1_1util_1_1handlebars_1_1HandlebarsUtil_a3798bc5bdea2ec45b6d6fe4e84e2caab.html#a3798bc5bdea2ec45b6d6fe4e84e2caab">apply</a>(Object src, Options options) {</div><div class="line"><a name="l00648"></a><span class="lineno">  648</span>&#160;                <span class="keywordflow">return</span> <span class="keyword">new</span> Handlebars.SafeString(Long.toString(<a class="code" href="../../db/d54/classorg_1_1cobbzilla_1_1util_1_1handlebars_1_1HandlebarsUtil_1_1DateHelper_a8f6a8a28b317df47d41baa615088608f.html#a8f6a8a28b317df47d41baa615088608f">zonedTimestamp</a>(src, options)));</div><div class="line"><a name="l00649"></a><span class="lineno">  649</span>&#160;            }</div><div class="line"><a name="l00650"></a><span class="lineno">  650</span>&#160;        });</div><div class="line"><a name="l00651"></a><span class="lineno">  651</span>&#160;    }</div><div class="line"><a name="l00652"></a><span class="lineno">  652</span>&#160;</div><div class="line"><a name="l00653"></a><span class="lineno"><a class="line" href="../../d0/d1b/classorg_1_1cobbzilla_1_1util_1_1handlebars_1_1HandlebarsUtil_a5f814dc12eb19ff7476cdaecfa19c538.html#a5f814dc12eb19ff7476cdaecfa19c538">  653</a></span>&#160;    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keywordtype">long</span> <a class="code" href="../../d0/d1b/classorg_1_1cobbzilla_1_1util_1_1handlebars_1_1HandlebarsUtil_a5f814dc12eb19ff7476cdaecfa19c538.html#a5f814dc12eb19ff7476cdaecfa19c538">longVal</a>(Object src, DateTimeZone timeZone) {</div><div class="line"><a name="l00654"></a><span class="lineno">  654</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="../../d0/d1b/classorg_1_1cobbzilla_1_1util_1_1handlebars_1_1HandlebarsUtil_a5f814dc12eb19ff7476cdaecfa19c538.html#a5f814dc12eb19ff7476cdaecfa19c538">longVal</a>(src, timeZone, <span class="keyword">true</span>);</div><div class="line"><a name="l00655"></a><span class="lineno">  655</span>&#160;    }</div><div class="line"><a name="l00656"></a><span class="lineno">  656</span>&#160;</div><div class="line"><a name="l00657"></a><span class="lineno"><a class="line" href="../../d0/d1b/classorg_1_1cobbzilla_1_1util_1_1handlebars_1_1HandlebarsUtil_a34d4d4ef16b591d7cb5267046c55cec7.html#a34d4d4ef16b591d7cb5267046c55cec7">  657</a></span>&#160;    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keywordtype">long</span> <a class="code" href="../../d0/d1b/classorg_1_1cobbzilla_1_1util_1_1handlebars_1_1HandlebarsUtil_a34d4d4ef16b591d7cb5267046c55cec7.html#a34d4d4ef16b591d7cb5267046c55cec7">longVal</a>(Object src, DateTimeZone timeZone, <span class="keywordtype">boolean</span> tryAgain) {</div><div class="line"><a name="l00658"></a><span class="lineno">  658</span>&#160;        <span class="keywordflow">if</span> (src == null) <span class="keywordflow">return</span> now();</div><div class="line"><a name="l00659"></a><span class="lineno">  659</span>&#160;        String srcStr = src.toString().trim();</div><div class="line"><a name="l00660"></a><span class="lineno">  660</span>&#160;</div><div class="line"><a name="l00661"></a><span class="lineno">  661</span>&#160;        <span class="keywordflow">if</span> (srcStr.equals(<span class="stringliteral">&quot;&quot;</span>) || srcStr.equals(<span class="stringliteral">&quot;0&quot;</span>) || srcStr.equals(<span class="stringliteral">&quot;now&quot;</span>)) <span class="keywordflow">return</span> now();</div><div class="line"><a name="l00662"></a><span class="lineno">  662</span>&#160;</div><div class="line"><a name="l00663"></a><span class="lineno">  663</span>&#160;        <span class="keywordflow">if</span> (srcStr.startsWith(<span class="stringliteral">&quot;now&quot;</span>)) {</div><div class="line"><a name="l00664"></a><span class="lineno">  664</span>&#160;            <span class="comment">// Multiple periods may be added to the original timestamp (separated by comma), but in the correct order.</span></div><div class="line"><a name="l00665"></a><span class="lineno">  665</span>&#160;            <span class="keyword">final</span> String[] splitSrc = srcStr.substring(3).split(<span class="stringliteral">&quot;,&quot;</span>);</div><div class="line"><a name="l00666"></a><span class="lineno">  666</span>&#160;            DateTime result = <span class="keyword">new</span> DateTime(now(), timeZone).withTimeAtStartOfDay();</div><div class="line"><a name="l00667"></a><span class="lineno">  667</span>&#160;            <span class="keywordflow">for</span> (String period : splitSrc) {</div><div class="line"><a name="l00668"></a><span class="lineno">  668</span>&#160;                result = result.plus(Period.parse(period, <a class="code" href="../../d2/dea/classorg_1_1cobbzilla_1_1util_1_1time_1_1TimeUtil.html">TimeUtil</a>.<a class="code" href="../../d2/dea/classorg_1_1cobbzilla_1_1util_1_1time_1_1TimeUtil_a05d06db3330e7af0124601b9c177ad9d.html#a05d06db3330e7af0124601b9c177ad9d">PERIOD_FORMATTER</a>));</div><div class="line"><a name="l00669"></a><span class="lineno">  669</span>&#160;            }</div><div class="line"><a name="l00670"></a><span class="lineno">  670</span>&#160;            <span class="keywordflow">return</span> result.getMillis();</div><div class="line"><a name="l00671"></a><span class="lineno">  671</span>&#160;        }</div><div class="line"><a name="l00672"></a><span class="lineno">  672</span>&#160;</div><div class="line"><a name="l00673"></a><span class="lineno">  673</span>&#160;        <span class="keywordflow">try</span> {</div><div class="line"><a name="l00674"></a><span class="lineno">  674</span>&#160;            <span class="keywordflow">return</span> ((Number) src).longValue();</div><div class="line"><a name="l00675"></a><span class="lineno">  675</span>&#160;        } <span class="keywordflow">catch</span> (Exception e) {</div><div class="line"><a name="l00676"></a><span class="lineno">  676</span>&#160;            <span class="keywordflow">if</span> (!tryAgain) <span class="keywordflow">return</span> die(<span class="stringliteral">&quot;longVal: unparseable long: &quot;</span>+src+<span class="stringliteral">&quot;: &quot;</span>+e.getClass().getSimpleName()+<span class="stringliteral">&quot;: &quot;</span>+e.getMessage());</div><div class="line"><a name="l00677"></a><span class="lineno">  677</span>&#160;</div><div class="line"><a name="l00678"></a><span class="lineno">  678</span>&#160;            <span class="comment">// try to parse it in different formats</span></div><div class="line"><a name="l00679"></a><span class="lineno">  679</span>&#160;            <span class="keyword">final</span> Object t = <a class="code" href="../../d2/dea/classorg_1_1cobbzilla_1_1util_1_1time_1_1TimeUtil.html">TimeUtil</a>.<a class="code" href="../../d2/dea/classorg_1_1cobbzilla_1_1util_1_1time_1_1TimeUtil_aaa1db6922a6e654cce22d75ac8532e4a.html#aaa1db6922a6e654cce22d75ac8532e4a">parse</a>(src.toString(), timeZone);</div><div class="line"><a name="l00680"></a><span class="lineno">  680</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="../../d0/d1b/classorg_1_1cobbzilla_1_1util_1_1handlebars_1_1HandlebarsUtil_a5f814dc12eb19ff7476cdaecfa19c538.html#a5f814dc12eb19ff7476cdaecfa19c538">longVal</a>(t, timeZone, <span class="keyword">false</span>);</div><div class="line"><a name="l00681"></a><span class="lineno">  681</span>&#160;        }</div><div class="line"><a name="l00682"></a><span class="lineno">  682</span>&#160;    }</div><div class="line"><a name="l00683"></a><span class="lineno">  683</span>&#160;</div><div class="line"><a name="l00684"></a><span class="lineno"><a class="line" href="../../d0/d1b/classorg_1_1cobbzilla_1_1util_1_1handlebars_1_1HandlebarsUtil_af2302957780a3260d87a6a9f5e5cb82c.html#af2302957780a3260d87a6a9f5e5cb82c">  684</a></span>&#160;    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keywordtype">long</span> <a class="code" href="../../d0/d1b/classorg_1_1cobbzilla_1_1util_1_1handlebars_1_1HandlebarsUtil_af2302957780a3260d87a6a9f5e5cb82c.html#af2302957780a3260d87a6a9f5e5cb82c">longDollarVal</a>(Object src) {</div><div class="line"><a name="l00685"></a><span class="lineno">  685</span>&#160;        <span class="keyword">final</span> Long val = <a class="code" href="../../de/d45/classorg_1_1cobbzilla_1_1util_1_1reflect_1_1ReflectionUtil.html">ReflectionUtil</a>.<a class="code" href="../../de/d45/classorg_1_1cobbzilla_1_1util_1_1reflect_1_1ReflectionUtil_ad5ff44a6b0324da64e130f6f8c4cce10.html#ad5ff44a6b0324da64e130f6f8c4cce10">toLong</a>(src);</div><div class="line"><a name="l00686"></a><span class="lineno">  686</span>&#160;        <span class="keywordflow">return</span> val == null ? 0 : val;</div><div class="line"><a name="l00687"></a><span class="lineno">  687</span>&#160;    }</div><div class="line"><a name="l00688"></a><span class="lineno">  688</span>&#160;</div><div class="line"><a name="l00689"></a><span class="lineno"><a class="line" href="../../d0/d1b/classorg_1_1cobbzilla_1_1util_1_1handlebars_1_1HandlebarsUtil_a1458fe74b9cb39e50916bcffd667e532.html#a1458fe74b9cb39e50916bcffd667e532">  689</a></span>&#160;    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">final</span> String <a class="code" href="../../d0/d1b/classorg_1_1cobbzilla_1_1util_1_1handlebars_1_1HandlebarsUtil_a1458fe74b9cb39e50916bcffd667e532.html#a1458fe74b9cb39e50916bcffd667e532">CLOSE_XML_DECL</a> = <span class="stringliteral">&quot;?&gt;&quot;</span>;</div><div class="line"><a name="l00690"></a><span class="lineno">  690</span>&#160;</div><div class="line"><a name="l00691"></a><span class="lineno"><a class="line" href="../../d0/d1b/classorg_1_1cobbzilla_1_1util_1_1handlebars_1_1HandlebarsUtil_ac450b1c63a5bdf3d1108c191826c3a03.html#ac450b1c63a5bdf3d1108c191826c3a03">  691</a></span>&#160;    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="../../d0/d1b/classorg_1_1cobbzilla_1_1util_1_1handlebars_1_1HandlebarsUtil_ac450b1c63a5bdf3d1108c191826c3a03.html#ac450b1c63a5bdf3d1108c191826c3a03">registerXmlHelpers</a>(<span class="keyword">final</span> Handlebars hb) {</div><div class="line"><a name="l00692"></a><span class="lineno">  692</span>&#160;        hb.registerHelper(<span class="stringliteral">&quot;strip_xml_declaration&quot;</span>, (src, options) -&gt; {</div><div class="line"><a name="l00693"></a><span class="lineno">  693</span>&#160;            <span class="keywordflow">if</span> (empty(src)) <span class="keywordflow">return</span> <span class="stringliteral">&quot;&quot;</span>;</div><div class="line"><a name="l00694"></a><span class="lineno">  694</span>&#160;            String xml = src.toString().trim();</div><div class="line"><a name="l00695"></a><span class="lineno">  695</span>&#160;            <span class="keywordflow">if</span> (xml.startsWith(<span class="stringliteral">&quot;&lt;?xml&quot;</span>)) {</div><div class="line"><a name="l00696"></a><span class="lineno">  696</span>&#160;                <span class="keyword">final</span> <span class="keywordtype">int</span> closeDecl = xml.indexOf(CLOSE_XML_DECL);</div><div class="line"><a name="l00697"></a><span class="lineno">  697</span>&#160;                <span class="keywordflow">if</span> (closeDecl != -1) {</div><div class="line"><a name="l00698"></a><span class="lineno">  698</span>&#160;                    xml = xml.substring(closeDecl + CLOSE_XML_DECL.length()).trim();</div><div class="line"><a name="l00699"></a><span class="lineno">  699</span>&#160;                }</div><div class="line"><a name="l00700"></a><span class="lineno">  700</span>&#160;            }</div><div class="line"><a name="l00701"></a><span class="lineno">  701</span>&#160;            <span class="keywordflow">return</span> <span class="keyword">new</span> Handlebars.SafeString(xml);</div><div class="line"><a name="l00702"></a><span class="lineno">  702</span>&#160;        });</div><div class="line"><a name="l00703"></a><span class="lineno">  703</span>&#160;    }</div><div class="line"><a name="l00704"></a><span class="lineno">  704</span>&#160;</div><div class="line"><a name="l00705"></a><span class="lineno"><a class="line" href="../../d0/d1b/classorg_1_1cobbzilla_1_1util_1_1handlebars_1_1HandlebarsUtil_af5626ec1bd2c27aead4d7b297985c888.html#af5626ec1bd2c27aead4d7b297985c888">  705</a></span>&#160;    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="../../d0/d1b/classorg_1_1cobbzilla_1_1util_1_1handlebars_1_1HandlebarsUtil_af5626ec1bd2c27aead4d7b297985c888.html#af5626ec1bd2c27aead4d7b297985c888">registerJurisdictionHelpers</a>(<span class="keyword">final</span> Handlebars hb, <a class="code" href="../../d1/dbf/interfaceorg_1_1cobbzilla_1_1util_1_1handlebars_1_1JurisdictionResolver.html">JurisdictionResolver</a> jurisdictionResolver) {</div><div class="line"><a name="l00706"></a><span class="lineno">  706</span>&#160;        hb.registerHelper(<span class="stringliteral">&quot;us_state&quot;</span>, (src, options) -&gt; {</div><div class="line"><a name="l00707"></a><span class="lineno">  707</span>&#160;            <span class="keywordflow">if</span> (empty(src)) <span class="keywordflow">return</span> <span class="stringliteral">&quot;&quot;</span>;</div><div class="line"><a name="l00708"></a><span class="lineno">  708</span>&#160;            <span class="keywordflow">return</span> <span class="keyword">new</span> Handlebars.SafeString(jurisdictionResolver.<a class="code" href="../../d1/dbf/interfaceorg_1_1cobbzilla_1_1util_1_1handlebars_1_1JurisdictionResolver_a2ab430d6b5d91cafc95616ec8dd6de83.html#a2ab430d6b5d91cafc95616ec8dd6de83">usState</a>(src.toString()));</div><div class="line"><a name="l00709"></a><span class="lineno">  709</span>&#160;        });</div><div class="line"><a name="l00710"></a><span class="lineno">  710</span>&#160;        hb.registerHelper(<span class="stringliteral">&quot;us_zip&quot;</span>, (src, options) -&gt; {</div><div class="line"><a name="l00711"></a><span class="lineno">  711</span>&#160;            <span class="keywordflow">if</span> (empty(src)) <span class="keywordflow">return</span> <span class="stringliteral">&quot;&quot;</span>;</div><div class="line"><a name="l00712"></a><span class="lineno">  712</span>&#160;            <span class="keywordflow">return</span> <span class="keyword">new</span> Handlebars.SafeString(jurisdictionResolver.<a class="code" href="../../d1/dbf/interfaceorg_1_1cobbzilla_1_1util_1_1handlebars_1_1JurisdictionResolver_aa333bb7512d7882c4f075a17d0c85a48.html#aa333bb7512d7882c4f075a17d0c85a48">usZip</a>(src.toString()));</div><div class="line"><a name="l00713"></a><span class="lineno">  713</span>&#160;        });</div><div class="line"><a name="l00714"></a><span class="lineno">  714</span>&#160;    }</div><div class="line"><a name="l00715"></a><span class="lineno">  715</span>&#160;</div><div class="line"><a name="l00716"></a><span class="lineno"><a class="line" href="../../d0/d1b/classorg_1_1cobbzilla_1_1util_1_1handlebars_1_1HandlebarsUtil_a2068d47b7f92065178a38a08e7c44e3c.html#a2068d47b7f92065178a38a08e7c44e3c">  716</a></span>&#160;    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="../../d0/d1b/classorg_1_1cobbzilla_1_1util_1_1handlebars_1_1HandlebarsUtil_a2068d47b7f92065178a38a08e7c44e3c.html#a2068d47b7f92065178a38a08e7c44e3c">registerJavaScriptHelper</a>(<span class="keyword">final</span> Handlebars hb, <a class="code" href="../../d4/d50/interfaceorg_1_1cobbzilla_1_1util_1_1javascript_1_1JsEngineFactory.html">JsEngineFactory</a> jsEngineFactory) {</div><div class="line"><a name="l00717"></a><span class="lineno">  717</span>&#160;        hb.registerHelper(<span class="stringliteral">&quot;js&quot;</span>, (src, options) -&gt; {</div><div class="line"><a name="l00718"></a><span class="lineno">  718</span>&#160;            <span class="keywordflow">if</span> (empty(src)) <span class="keywordflow">return</span> <span class="stringliteral">&quot;&quot;</span>;</div><div class="line"><a name="l00719"></a><span class="lineno">  719</span>&#160;</div><div class="line"><a name="l00720"></a><span class="lineno">  720</span>&#160;            <span class="keyword">final</span> String format = options.params.length &gt; 0 &amp;&amp; !empty(options.param(0)) ? options.param(0) : null;</div><div class="line"><a name="l00721"></a><span class="lineno">  721</span>&#160;            <span class="keyword">final</span> Locale locale = <a class="code" href="../../d9/dbd/classorg_1_1cobbzilla_1_1util_1_1string_1_1LocaleUtil.html">LocaleUtil</a>.<a class="code" href="../../d9/dbd/classorg_1_1cobbzilla_1_1util_1_1string_1_1LocaleUtil_a40753fffe36bbb1d2875e7346a63a959.html#a40753fffe36bbb1d2875e7346a63a959">fromString</a>(options.params.length &gt; 1 &amp;&amp; !empty(options.param(1)) ? options.param(1) : null);</div><div class="line"><a name="l00722"></a><span class="lineno">  722</span>&#160;</div><div class="line"><a name="l00723"></a><span class="lineno">  723</span>&#160;            <span class="keyword">final</span> Map&lt;String, Object&gt; ctx = (Map&lt;String, Object&gt;) options.context.model();</div><div class="line"><a name="l00724"></a><span class="lineno">  724</span>&#160;            <span class="keyword">final</span> Object result = jsEngineFactory.<a class="code" href="../../d4/d50/interfaceorg_1_1cobbzilla_1_1util_1_1javascript_1_1JsEngineFactory_a8299d43585cf96c352b4b3f396167b99.html#a8299d43585cf96c352b4b3f396167b99">getJs</a>().<a class="code" href="../../db/d96/classorg_1_1cobbzilla_1_1util_1_1javascript_1_1JsEngine_a60bba769760a2df3a1b2c8ab5c4dee8c.html#a60bba769760a2df3a1b2c8ab5c4dee8c">evaluate</a>(src.toString(), ctx);</div><div class="line"><a name="l00725"></a><span class="lineno">  725</span>&#160;            <span class="keywordflow">if</span> (result == null) <span class="keywordflow">return</span> <span class="keyword">new</span> Handlebars.SafeString(<span class="stringliteral">&quot;null&quot;</span>);</div><div class="line"><a name="l00726"></a><span class="lineno">  726</span>&#160;            <span class="keywordflow">return</span> format != null</div><div class="line"><a name="l00727"></a><span class="lineno">  727</span>&#160;                    ? <span class="keyword">new</span> Handlebars.SafeString(String.format(locale, format, Double.valueOf(result.toString())))</div><div class="line"><a name="l00728"></a><span class="lineno">  728</span>&#160;                    : <span class="keyword">new</span> Handlebars.SafeString(result.toString());</div><div class="line"><a name="l00729"></a><span class="lineno">  729</span>&#160;        });</div><div class="line"><a name="l00730"></a><span class="lineno">  730</span>&#160;    }</div><div class="line"><a name="l00731"></a><span class="lineno">  731</span>&#160;</div><div class="line"><a name="l00732"></a><span class="lineno"><a class="line" href="../../d0/d1b/classorg_1_1cobbzilla_1_1util_1_1handlebars_1_1HandlebarsUtil_ae41cde3254af61735e808c8fe088dac1.html#ae41cde3254af61735e808c8fe088dac1">  732</a></span>&#160;    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">final</span> String <a class="code" href="../../d0/d1b/classorg_1_1cobbzilla_1_1util_1_1handlebars_1_1HandlebarsUtil_ae41cde3254af61735e808c8fe088dac1.html#ae41cde3254af61735e808c8fe088dac1">DEFAULT_FILE_RESOLVER</a> = <span class="stringliteral">&quot;_&quot;</span>;</div><div class="line"><a name="l00733"></a><span class="lineno"><a class="line" href="../../d0/d1b/classorg_1_1cobbzilla_1_1util_1_1handlebars_1_1HandlebarsUtil_a3d5135b3cd0fd386827623ada6976cd2.html#a3d5135b3cd0fd386827623ada6976cd2">  733</a></span>&#160;    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> Map&lt;String, FileResolver&gt; <a class="code" href="../../d0/d1b/classorg_1_1cobbzilla_1_1util_1_1handlebars_1_1HandlebarsUtil_a3d5135b3cd0fd386827623ada6976cd2.html#a3d5135b3cd0fd386827623ada6976cd2">fileResolverMap</a> = <span class="keyword">new</span> HashMap&lt;&gt;();</div><div class="line"><a name="l00734"></a><span class="lineno">  734</span>&#160;</div><div class="line"><a name="l00735"></a><span class="lineno"><a class="line" href="../../d0/d1b/classorg_1_1cobbzilla_1_1util_1_1handlebars_1_1HandlebarsUtil_abf26ec5904b17a7790165c53e8124d04.html#abf26ec5904b17a7790165c53e8124d04">  735</a></span>&#160;    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="../../d0/d1b/classorg_1_1cobbzilla_1_1util_1_1handlebars_1_1HandlebarsUtil_abf26ec5904b17a7790165c53e8124d04.html#abf26ec5904b17a7790165c53e8124d04">setFileIncludePath</a>(String path) { <a class="code" href="../../d0/d1b/classorg_1_1cobbzilla_1_1util_1_1handlebars_1_1HandlebarsUtil_a1042e293692f24c284227fb54a239f79.html#a1042e293692f24c284227fb54a239f79">setFileIncludePaths</a>(DEFAULT_FILE_RESOLVER, <span class="keyword">new</span> <a class="code" href="../../dd/dda/classorg_1_1cobbzilla_1_1util_1_1collection_1_1SingletonList.html">SingletonList&lt;&gt;</a>(path)); }</div><div class="line"><a name="l00736"></a><span class="lineno">  736</span>&#160;</div><div class="line"><a name="l00737"></a><span class="lineno"><a class="line" href="../../d0/d1b/classorg_1_1cobbzilla_1_1util_1_1handlebars_1_1HandlebarsUtil_a1042e293692f24c284227fb54a239f79.html#a1042e293692f24c284227fb54a239f79">  737</a></span>&#160;    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="../../d0/d1b/classorg_1_1cobbzilla_1_1util_1_1handlebars_1_1HandlebarsUtil_a1042e293692f24c284227fb54a239f79.html#a1042e293692f24c284227fb54a239f79">setFileIncludePaths</a>(Collection&lt;String&gt; paths) { <a class="code" href="../../d0/d1b/classorg_1_1cobbzilla_1_1util_1_1handlebars_1_1HandlebarsUtil_a1042e293692f24c284227fb54a239f79.html#a1042e293692f24c284227fb54a239f79">setFileIncludePaths</a>(DEFAULT_FILE_RESOLVER, paths); }</div><div class="line"><a name="l00738"></a><span class="lineno">  738</span>&#160;</div><div class="line"><a name="l00739"></a><span class="lineno"><a class="line" href="../../d0/d1b/classorg_1_1cobbzilla_1_1util_1_1handlebars_1_1HandlebarsUtil_a56b765cef6340afc9e70805f2d0bcec3.html#a56b765cef6340afc9e70805f2d0bcec3">  739</a></span>&#160;    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="../../d0/d1b/classorg_1_1cobbzilla_1_1util_1_1handlebars_1_1HandlebarsUtil_a56b765cef6340afc9e70805f2d0bcec3.html#a56b765cef6340afc9e70805f2d0bcec3">setFileIncludePaths</a>(String name, Collection&lt;String&gt; paths) {</div><div class="line"><a name="l00740"></a><span class="lineno">  740</span>&#160;        fileResolverMap.put(name, <span class="keyword">new</span> <a class="code" href="../../d2/d5d/classorg_1_1cobbzilla_1_1util_1_1io_1_1PathListFileResolver.html">PathListFileResolver</a>(paths));</div><div class="line"><a name="l00741"></a><span class="lineno">  741</span>&#160;    }</div><div class="line"><a name="l00742"></a><span class="lineno">  742</span>&#160;</div><div class="line"><a name="l00743"></a><span class="lineno">  743</span>&#160;    @AllArgsConstructor</div><div class="line"><a name="l00744"></a><span class="lineno"><a class="line" href="../../d7/d5c/classorg_1_1cobbzilla_1_1util_1_1handlebars_1_1HandlebarsUtil_1_1FileLoaderHelper.html">  744</a></span>&#160;    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">class </span><a class="code" href="../../d7/d5c/classorg_1_1cobbzilla_1_1util_1_1handlebars_1_1HandlebarsUtil_1_1FileLoaderHelper.html">FileLoaderHelper</a> <span class="keyword">implements</span> Helper&lt;String&gt; {</div><div class="line"><a name="l00745"></a><span class="lineno">  745</span>&#160;</div><div class="line"><a name="l00746"></a><span class="lineno"><a class="line" href="../../d7/d5c/classorg_1_1cobbzilla_1_1util_1_1handlebars_1_1HandlebarsUtil_1_1FileLoaderHelper_a5506213d5404c967ea53358a20e68f5a.html#a5506213d5404c967ea53358a20e68f5a">  746</a></span>&#160;        <span class="keyword">private</span> <span class="keywordtype">boolean</span> <a class="code" href="../../d7/d5c/classorg_1_1cobbzilla_1_1util_1_1handlebars_1_1HandlebarsUtil_1_1FileLoaderHelper_a5506213d5404c967ea53358a20e68f5a.html#a5506213d5404c967ea53358a20e68f5a">isBase64EncoderOn</a>;</div><div class="line"><a name="l00747"></a><span class="lineno">  747</span>&#160;</div><div class="line"><a name="l00748"></a><span class="lineno"><a class="line" href="../../d7/d5c/classorg_1_1cobbzilla_1_1util_1_1handlebars_1_1HandlebarsUtil_1_1FileLoaderHelper_ab4317625c7a5d8a214c72f4d30c1b1d8.html#ab4317625c7a5d8a214c72f4d30c1b1d8">  748</a></span>&#160;        @Override <span class="keyword">public</span> CharSequence <a class="code" href="../../d7/d5c/classorg_1_1cobbzilla_1_1util_1_1handlebars_1_1HandlebarsUtil_1_1FileLoaderHelper_ab4317625c7a5d8a214c72f4d30c1b1d8.html#ab4317625c7a5d8a214c72f4d30c1b1d8">apply</a>(String filename, Options options) <span class="keywordflow">throws</span> IOException {</div><div class="line"><a name="l00749"></a><span class="lineno">  749</span>&#160;            <span class="keywordflow">if</span> (empty(filename)) <span class="keywordflow">return</span> <a class="code" href="../../d0/d1b/classorg_1_1cobbzilla_1_1util_1_1handlebars_1_1HandlebarsUtil_a3ce0c8388c4503dd6b12c65dbafd6567.html#a3ce0c8388c4503dd6b12c65dbafd6567">EMPTY_SAFE_STRING</a>;</div><div class="line"><a name="l00750"></a><span class="lineno">  750</span>&#160;</div><div class="line"><a name="l00751"></a><span class="lineno">  751</span>&#160;            <span class="keyword">final</span> String include = options.get(<span class="stringliteral">&quot;includePath&quot;</span>, DEFAULT_FILE_RESOLVER);</div><div class="line"><a name="l00752"></a><span class="lineno">  752</span>&#160;            <span class="keyword">final</span> <a class="code" href="../../d0/df1/interfaceorg_1_1cobbzilla_1_1util_1_1io_1_1FileResolver.html">FileResolver</a> fileResolver = fileResolverMap.get(include);</div><div class="line"><a name="l00753"></a><span class="lineno">  753</span>&#160;            <span class="keywordflow">if</span> (fileResolver == null) <span class="keywordflow">return</span> die(<span class="stringliteral">&quot;apply: no file resolve found for includePath=&quot;</span>+include);</div><div class="line"><a name="l00754"></a><span class="lineno">  754</span>&#160;</div><div class="line"><a name="l00755"></a><span class="lineno">  755</span>&#160;            <span class="keyword">final</span> <span class="keywordtype">boolean</span> escapeSpecialChars = options.get(<span class="stringliteral">&quot;escape&quot;</span>, <span class="keyword">false</span>);</div><div class="line"><a name="l00756"></a><span class="lineno">  756</span>&#160;</div><div class="line"><a name="l00757"></a><span class="lineno">  757</span>&#160;            File f = fileResolver.<a class="code" href="../../d0/df1/interfaceorg_1_1cobbzilla_1_1util_1_1io_1_1FileResolver_a1190814e05b31fe137ba3bb42f192e36.html#a1190814e05b31fe137ba3bb42f192e36">resolve</a>(filename);</div><div class="line"><a name="l00758"></a><span class="lineno">  758</span>&#160;            <span class="keywordflow">if</span> (f == null &amp;&amp; filename.startsWith(File.separator)) {</div><div class="line"><a name="l00759"></a><span class="lineno">  759</span>&#160;                <span class="comment">// looks like an absolute path, try the filesystem</span></div><div class="line"><a name="l00760"></a><span class="lineno">  760</span>&#160;                f = <span class="keyword">new</span> File(filename);</div><div class="line"><a name="l00761"></a><span class="lineno">  761</span>&#160;                <span class="keywordflow">if</span> (!f.exists() || !f.canRead()) f = null;</div><div class="line"><a name="l00762"></a><span class="lineno">  762</span>&#160;            }</div><div class="line"><a name="l00763"></a><span class="lineno">  763</span>&#160;</div><div class="line"><a name="l00764"></a><span class="lineno">  764</span>&#160;            <span class="keywordflow">if</span> (f == null) {</div><div class="line"><a name="l00765"></a><span class="lineno">  765</span>&#160;                <span class="comment">// try classpath</span></div><div class="line"><a name="l00766"></a><span class="lineno">  766</span>&#160;                <span class="keywordflow">try</span> {</div><div class="line"><a name="l00767"></a><span class="lineno">  767</span>&#160;                    String content = isBase64EncoderOn</div><div class="line"><a name="l00768"></a><span class="lineno">  768</span>&#160;                            ? encodeBytes(IOUtils.toByteArray(loadResourceAsStream(filename)))</div><div class="line"><a name="l00769"></a><span class="lineno">  769</span>&#160;                            : stream2string(filename);</div><div class="line"><a name="l00770"></a><span class="lineno">  770</span>&#160;                    <span class="keywordflow">if</span> (escapeSpecialChars) {</div><div class="line"><a name="l00771"></a><span class="lineno">  771</span>&#160;                        content = <span class="keyword">new</span> String(JsonStringEncoder.getInstance().quoteAsString(content));</div><div class="line"><a name="l00772"></a><span class="lineno">  772</span>&#160;                    }</div><div class="line"><a name="l00773"></a><span class="lineno">  773</span>&#160;                    <span class="keywordflow">return</span> <span class="keyword">new</span> Handlebars.SafeString(content);</div><div class="line"><a name="l00774"></a><span class="lineno">  774</span>&#160;                } <span class="keywordflow">catch</span> (Exception e) {</div><div class="line"><a name="l00775"></a><span class="lineno">  775</span>&#160;                    <span class="keywordflow">throw</span> <span class="keyword">new</span> FileNotFoundException(<span class="stringliteral">&quot;Cannot find readable file &quot;</span> + filename + <span class="stringliteral">&quot;, resolver: &quot;</span> + fileResolver);</div><div class="line"><a name="l00776"></a><span class="lineno">  776</span>&#160;                }</div><div class="line"><a name="l00777"></a><span class="lineno">  777</span>&#160;            }</div><div class="line"><a name="l00778"></a><span class="lineno">  778</span>&#160;</div><div class="line"><a name="l00779"></a><span class="lineno">  779</span>&#160;            <span class="keywordflow">try</span> {</div><div class="line"><a name="l00780"></a><span class="lineno">  780</span>&#160;                String <span class="keywordtype">string</span> = isBase64EncoderOn ? encodeFromFile(f) : <a class="code" href="../../df/dac/classorg_1_1cobbzilla_1_1util_1_1io_1_1FileUtil.html">FileUtil</a>.<a class="code" href="../../df/dac/classorg_1_1cobbzilla_1_1util_1_1io_1_1FileUtil_a68ba3562aff4d6bb1e737600420c3a0a.html#a68ba3562aff4d6bb1e737600420c3a0a">toString</a>(f);</div><div class="line"><a name="l00781"></a><span class="lineno">  781</span>&#160;                <span class="keywordflow">if</span> (escapeSpecialChars) <span class="keywordtype">string</span> = <span class="keyword">new</span> String(JsonStringEncoder.getInstance().quoteAsString(<span class="keywordtype">string</span>));</div><div class="line"><a name="l00782"></a><span class="lineno">  782</span>&#160;                <span class="keywordflow">return</span> <span class="keyword">new</span> Handlebars.SafeString(<span class="keywordtype">string</span>);</div><div class="line"><a name="l00783"></a><span class="lineno">  783</span>&#160;            } <span class="keywordflow">catch</span> (IOException e) {</div><div class="line"><a name="l00784"></a><span class="lineno">  784</span>&#160;                <span class="keywordflow">return</span> die(<span class="stringliteral">&quot;Cannot read file from: &quot;</span> + f, e);</div><div class="line"><a name="l00785"></a><span class="lineno">  785</span>&#160;            }</div><div class="line"><a name="l00786"></a><span class="lineno">  786</span>&#160;        }</div><div class="line"><a name="l00787"></a><span class="lineno">  787</span>&#160;    }</div><div class="line"><a name="l00788"></a><span class="lineno">  788</span>&#160;</div><div class="line"><a name="l00789"></a><span class="lineno"><a class="line" href="../../d0/d1b/classorg_1_1cobbzilla_1_1util_1_1handlebars_1_1HandlebarsUtil_afc123354fa94c49eb4265ed52d3831c5.html#afc123354fa94c49eb4265ed52d3831c5">  789</a></span>&#160;    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="../../d0/d1b/classorg_1_1cobbzilla_1_1util_1_1handlebars_1_1HandlebarsUtil_afc123354fa94c49eb4265ed52d3831c5.html#afc123354fa94c49eb4265ed52d3831c5">registerFileHelpers</a>(<span class="keyword">final</span> Handlebars hb) {</div><div class="line"><a name="l00790"></a><span class="lineno">  790</span>&#160;        hb.registerHelper(<span class="stringliteral">&quot;rawImagePng&quot;</span>, (src, options) -&gt; {</div><div class="line"><a name="l00791"></a><span class="lineno">  791</span>&#160;            <span class="keywordflow">if</span> (empty(src)) <span class="keywordflow">return</span> <span class="stringliteral">&quot;&quot;</span>;</div><div class="line"><a name="l00792"></a><span class="lineno">  792</span>&#160;</div><div class="line"><a name="l00793"></a><span class="lineno">  793</span>&#160;            <span class="keyword">final</span> String include = options.get(<span class="stringliteral">&quot;includePath&quot;</span>, DEFAULT_FILE_RESOLVER);</div><div class="line"><a name="l00794"></a><span class="lineno">  794</span>&#160;            <span class="keyword">final</span> <a class="code" href="../../d0/df1/interfaceorg_1_1cobbzilla_1_1util_1_1io_1_1FileResolver.html">FileResolver</a> fileResolver = fileResolverMap.get(include);</div><div class="line"><a name="l00795"></a><span class="lineno">  795</span>&#160;            <span class="keywordflow">if</span> (fileResolver == null) <span class="keywordflow">return</span> die(<span class="stringliteral">&quot;rawImagePng: no file resolve found for includePath=&quot;</span>+include);</div><div class="line"><a name="l00796"></a><span class="lineno">  796</span>&#160;</div><div class="line"><a name="l00797"></a><span class="lineno">  797</span>&#160;            <span class="keyword">final</span> File f = fileResolver.<a class="code" href="../../d0/df1/interfaceorg_1_1cobbzilla_1_1util_1_1io_1_1FileResolver_a1190814e05b31fe137ba3bb42f192e36.html#a1190814e05b31fe137ba3bb42f192e36">resolve</a>(src.toString());</div><div class="line"><a name="l00798"></a><span class="lineno">  798</span>&#160;            String imgSrc = (f == null) ? src.toString() : f.getAbsolutePath();</div><div class="line"><a name="l00799"></a><span class="lineno">  799</span>&#160;</div><div class="line"><a name="l00800"></a><span class="lineno">  800</span>&#160;            <span class="keyword">final</span> Object width = options.get(<span class="stringliteral">&quot;width&quot;</span>);</div><div class="line"><a name="l00801"></a><span class="lineno">  801</span>&#160;            <span class="keyword">final</span> String widthAttr = empty(width) ? <span class="stringliteral">&quot;&quot;</span> : <span class="stringliteral">&quot;width=\&quot;&quot;</span> + width + <span class="stringliteral">&quot;\&quot; &quot;</span>;</div><div class="line"><a name="l00802"></a><span class="lineno">  802</span>&#160;            <span class="keywordflow">return</span> <span class="keyword">new</span> Handlebars.SafeString(</div><div class="line"><a name="l00803"></a><span class="lineno">  803</span>&#160;                    <span class="stringliteral">&quot;&lt;img &quot;</span> + widthAttr + <span class="stringliteral">&quot;src=\&quot;data:image/png;base64,&quot;</span> + imgSrc + <span class="stringliteral">&quot;\&quot;/&gt;&quot;</span>);</div><div class="line"><a name="l00804"></a><span class="lineno">  804</span>&#160;        });</div><div class="line"><a name="l00805"></a><span class="lineno">  805</span>&#160;</div><div class="line"><a name="l00806"></a><span class="lineno">  806</span>&#160;        hb.registerHelper(<span class="stringliteral">&quot;base64File&quot;</span>, <span class="keyword">new</span> <a class="code" href="../../d7/d5c/classorg_1_1cobbzilla_1_1util_1_1handlebars_1_1HandlebarsUtil_1_1FileLoaderHelper.html">FileLoaderHelper</a>(<span class="keyword">true</span>));</div><div class="line"><a name="l00807"></a><span class="lineno">  807</span>&#160;        hb.registerHelper(<span class="stringliteral">&quot;textFile&quot;</span>, <span class="keyword">new</span> <a class="code" href="../../d7/d5c/classorg_1_1cobbzilla_1_1util_1_1handlebars_1_1HandlebarsUtil_1_1FileLoaderHelper.html">FileLoaderHelper</a>(<span class="keyword">false</span>));</div><div class="line"><a name="l00808"></a><span class="lineno">  808</span>&#160;    }</div><div class="line"><a name="l00809"></a><span class="lineno">  809</span>&#160;}</div><div class="ttc" id="classorg_1_1cobbzilla_1_1util_1_1handlebars_1_1HandlebarsUtil_a5f814dc12eb19ff7476cdaecfa19c538_html_a5f814dc12eb19ff7476cdaecfa19c538"><div class="ttname"><a href="../../d0/d1b/classorg_1_1cobbzilla_1_1util_1_1handlebars_1_1HandlebarsUtil_a5f814dc12eb19ff7476cdaecfa19c538.html#a5f814dc12eb19ff7476cdaecfa19c538">org.cobbzilla.util.handlebars.HandlebarsUtil.longVal</a></div><div class="ttdeci">static long longVal(Object src, DateTimeZone timeZone)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d5c/HandlebarsUtil_8java_source.html#l00653">HandlebarsUtil.java:653</a></div></div>
<div class="ttc" id="classorg_1_1cobbzilla_1_1util_1_1handlebars_1_1HandlebarsUtil_a8de4a0b12af4f49ea973a3847bb87b06_html_a8de4a0b12af4f49ea973a3847bb87b06"><div class="ttname"><a href="../../d0/d1b/classorg_1_1cobbzilla_1_1util_1_1handlebars_1_1HandlebarsUtil_a8de4a0b12af4f49ea973a3847bb87b06.html#a8de4a0b12af4f49ea973a3847bb87b06">org.cobbzilla.util.handlebars.HandlebarsUtil.HB_END_CHAR</a></div><div class="ttdeci">static final char HB_END_CHAR</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d5c/HandlebarsUtil_8java_source.html#l00063">HandlebarsUtil.java:63</a></div></div>
<div class="ttc" id="classorg_1_1cobbzilla_1_1util_1_1handlebars_1_1HandlebarsUtil_1_1DateHelper_a8f6a8a28b317df47d41baa615088608f_html_a8f6a8a28b317df47d41baa615088608f"><div class="ttname"><a href="../../db/d54/classorg_1_1cobbzilla_1_1util_1_1handlebars_1_1HandlebarsUtil_1_1DateHelper_a8f6a8a28b317df47d41baa615088608f.html#a8f6a8a28b317df47d41baa615088608f">org.cobbzilla.util.handlebars.HandlebarsUtil.DateHelper.zonedTimestamp</a></div><div class="ttdeci">long zonedTimestamp(Object src, Options options)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d5c/HandlebarsUtil_8java_source.html#l00598">HandlebarsUtil.java:598</a></div></div>
<div class="ttc" id="classorg_1_1cobbzilla_1_1util_1_1handlebars_1_1HandlebarsUtil_a5035699148caf065b77752a27fadeb17_html_a5035699148caf065b77752a27fadeb17"><div class="ttname"><a href="../../d0/d1b/classorg_1_1cobbzilla_1_1util_1_1handlebars_1_1HandlebarsUtil_a5035699148caf065b77752a27fadeb17.html#a5035699148caf065b77752a27fadeb17">org.cobbzilla.util.handlebars.HandlebarsUtil.getIterator</a></div><div class="ttdeci">static Iterator getIterator(Object thing)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d5c/HandlebarsUtil_8java_source.html#l00496">HandlebarsUtil.java:496</a></div></div>
<div class="ttc" id="classorg_1_1cobbzilla_1_1util_1_1string_1_1StringUtil_html"><div class="ttname"><a href="../../db/d9f/classorg_1_1cobbzilla_1_1util_1_1string_1_1StringUtil.html">org.cobbzilla.util.string.StringUtil</a></div><div class="ttdef"><b>Definition:</b> <a href="../../de/d2f/StringUtil_8java_source.html#l00037">StringUtil.java:37</a></div></div>
<div class="ttc" id="classorg_1_1cobbzilla_1_1util_1_1security_1_1ShaUtil_html"><div class="ttname"><a href="../../d6/dbf/classorg_1_1cobbzilla_1_1util_1_1security_1_1ShaUtil.html">org.cobbzilla.util.security.ShaUtil</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d0/df7/ShaUtil_8java_source.html#l00026">ShaUtil.java:26</a></div></div>
<div class="ttc" id="classorg_1_1cobbzilla_1_1util_1_1handlebars_1_1HandlebarsUtil_a3d5135b3cd0fd386827623ada6976cd2_html_a3d5135b3cd0fd386827623ada6976cd2"><div class="ttname"><a href="../../d0/d1b/classorg_1_1cobbzilla_1_1util_1_1handlebars_1_1HandlebarsUtil_a3d5135b3cd0fd386827623ada6976cd2.html#a3d5135b3cd0fd386827623ada6976cd2">org.cobbzilla.util.handlebars.HandlebarsUtil.fileResolverMap</a></div><div class="ttdeci">static final Map&lt; String, FileResolver &gt; fileResolverMap</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d5c/HandlebarsUtil_8java_source.html#l00733">HandlebarsUtil.java:733</a></div></div>
<div class="ttc" id="classorg_1_1cobbzilla_1_1util_1_1time_1_1TimeUtil_a05d06db3330e7af0124601b9c177ad9d_html_a05d06db3330e7af0124601b9c177ad9d"><div class="ttname"><a href="../../d2/dea/classorg_1_1cobbzilla_1_1util_1_1time_1_1TimeUtil_a05d06db3330e7af0124601b9c177ad9d.html#a05d06db3330e7af0124601b9c177ad9d">org.cobbzilla.util.time.TimeUtil.PERIOD_FORMATTER</a></div><div class="ttdeci">static final PeriodFormatter PERIOD_FORMATTER</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/de6/TimeUtil_8java_source.html#l00042">TimeUtil.java:42</a></div></div>
<div class="ttc" id="classorg_1_1cobbzilla_1_1util_1_1http_1_1HttpContentTypes_a87e41df7909e9a6c4f08ef419196e8ef_html_a87e41df7909e9a6c4f08ef419196e8ef"><div class="ttname"><a href="../../de/d2b/classorg_1_1cobbzilla_1_1util_1_1http_1_1HttpContentTypes_a87e41df7909e9a6c4f08ef419196e8ef.html#a87e41df7909e9a6c4f08ef419196e8ef">org.cobbzilla.util.http.HttpContentTypes.TEXT_PLAIN</a></div><div class="ttdeci">static final String TEXT_PLAIN</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d10/HttpContentTypes_8java_source.html#l00016">HttpContentTypes.java:16</a></div></div>
<div class="ttc" id="classorg_1_1cobbzilla_1_1util_1_1handlebars_1_1HandlebarsUtil_ae41cde3254af61735e808c8fe088dac1_html_ae41cde3254af61735e808c8fe088dac1"><div class="ttname"><a href="../../d0/d1b/classorg_1_1cobbzilla_1_1util_1_1handlebars_1_1HandlebarsUtil_ae41cde3254af61735e808c8fe088dac1.html#ae41cde3254af61735e808c8fe088dac1">org.cobbzilla.util.handlebars.HandlebarsUtil.DEFAULT_FILE_RESOLVER</a></div><div class="ttdeci">static final String DEFAULT_FILE_RESOLVER</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d5c/HandlebarsUtil_8java_source.html#l00732">HandlebarsUtil.java:732</a></div></div>
<div class="ttc" id="namespaceorg_1_1cobbzilla_1_1util_1_1json_html"><div class="ttname"><a href="../../d5/d8d/namespaceorg_1_1cobbzilla_1_1util_1_1json.html">org.cobbzilla.util.json</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d0/ddf/JsonEdit_8java_source.html#l00001">JsonEdit.java:1</a></div></div>
<div class="ttc" id="classorg_1_1cobbzilla_1_1util_1_1daemon_1_1ZillaRuntime_html"><div class="ttname"><a href="../../d4/de3/classorg_1_1cobbzilla_1_1util_1_1daemon_1_1ZillaRuntime.html">org.cobbzilla.util.daemon.ZillaRuntime</a></div><div class="ttdoc">the Zilla doesn&amp;#39;t mess around. </div><div class="ttdef"><b>Definition:</b> <a href="../../de/da2/ZillaRuntime_8java_source.html#l00040">ZillaRuntime.java:40</a></div></div>
<div class="ttc" id="classorg_1_1cobbzilla_1_1util_1_1handlebars_1_1HandlebarsUtil_a37943187d6ed7fb50870a5c2c9b36cfd_html_a37943187d6ed7fb50870a5c2c9b36cfd"><div class="ttname"><a href="../../d0/d1b/classorg_1_1cobbzilla_1_1util_1_1handlebars_1_1HandlebarsUtil_a37943187d6ed7fb50870a5c2c9b36cfd.html#a37943187d6ed7fb50870a5c2c9b36cfd">org.cobbzilla.util.handlebars.HandlebarsUtil.DUMMY_END3</a></div><div class="ttdeci">static final String DUMMY_END3</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d5c/HandlebarsUtil_8java_source.html#l00113">HandlebarsUtil.java:113</a></div></div>
<div class="ttc" id="classorg_1_1cobbzilla_1_1util_1_1handlebars_1_1HandlebarsUtil_a0d908831ccb66b40f33553cc94c59aed_html_a0d908831ccb66b40f33553cc94c59aed"><div class="ttname"><a href="../../d0/d1b/classorg_1_1cobbzilla_1_1util_1_1handlebars_1_1HandlebarsUtil_a0d908831ccb66b40f33553cc94c59aed.html#a0d908831ccb66b40f33553cc94c59aed">org.cobbzilla.util.handlebars.HandlebarsUtil.canApplyReflectively</a></div><div class="ttdeci">static boolean canApplyReflectively(Class&lt;?&gt; returnType)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d5c/HandlebarsUtil_8java_source.html#l00222">HandlebarsUtil.java:222</a></div></div>
<div class="ttc" id="classorg_1_1cobbzilla_1_1util_1_1handlebars_1_1HandlebarsUtil_ac450b1c63a5bdf3d1108c191826c3a03_html_ac450b1c63a5bdf3d1108c191826c3a03"><div class="ttname"><a href="../../d0/d1b/classorg_1_1cobbzilla_1_1util_1_1handlebars_1_1HandlebarsUtil_ac450b1c63a5bdf3d1108c191826c3a03.html#ac450b1c63a5bdf3d1108c191826c3a03">org.cobbzilla.util.handlebars.HandlebarsUtil.registerXmlHelpers</a></div><div class="ttdeci">static void registerXmlHelpers(final Handlebars hb)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d5c/HandlebarsUtil_8java_source.html#l00691">HandlebarsUtil.java:691</a></div></div>
<div class="ttc" id="namespaceorg_1_1cobbzilla_1_1util_1_1reflect_html"><div class="ttname"><a href="../../dd/d2e/namespaceorg_1_1cobbzilla_1_1util_1_1reflect.html">org.cobbzilla.util.reflect</a></div><div class="ttdef"><b>Definition:</b> <a href="../../df/d5d/ClassReLoader_8java_source.html#l00001">ClassReLoader.java:1</a></div></div>
<div class="ttc" id="classorg_1_1cobbzilla_1_1util_1_1reflect_1_1ReflectionUtil_a875bf838f367197bc1b9c5d46e5122bd_html_a875bf838f367197bc1b9c5d46e5122bd"><div class="ttname"><a href="../../de/d45/classorg_1_1cobbzilla_1_1util_1_1reflect_1_1ReflectionUtil_a875bf838f367197bc1b9c5d46e5122bd.html#a875bf838f367197bc1b9c5d46e5122bd">org.cobbzilla.util.reflect.ReflectionUtil.get</a></div><div class="ttdeci">static Object get(Object object, String field)</div><div class="ttdoc">Call a getter. </div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d2f/ReflectionUtil_8java_source.html#l00688">ReflectionUtil.java:688</a></div></div>
<div class="ttc" id="classorg_1_1cobbzilla_1_1util_1_1handlebars_1_1HandlebarsUtil_a09346df479cc3c543909317139d288b7_html_a09346df479cc3c543909317139d288b7"><div class="ttname"><a href="../../d0/d1b/classorg_1_1cobbzilla_1_1util_1_1handlebars_1_1HandlebarsUtil_a09346df479cc3c543909317139d288b7.html#a09346df479cc3c543909317139d288b7">org.cobbzilla.util.handlebars.HandlebarsUtil.HB_LEND</a></div><div class="ttdeci">static final String HB_LEND</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d5c/HandlebarsUtil_8java_source.html#l00069">HandlebarsUtil.java:69</a></div></div>
<div class="ttc" id="classorg_1_1cobbzilla_1_1util_1_1handlebars_1_1HandlebarsUtil_a708676f7a280ae91dab3de25dcc5860d_html_a708676f7a280ae91dab3de25dcc5860d"><div class="ttname"><a href="../../d0/d1b/classorg_1_1cobbzilla_1_1util_1_1handlebars_1_1HandlebarsUtil_a708676f7a280ae91dab3de25dcc5860d.html#a708676f7a280ae91dab3de25dcc5860d">org.cobbzilla.util.handlebars.HandlebarsUtil.DUMMY_START2</a></div><div class="ttdeci">static final String DUMMY_START2</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d5c/HandlebarsUtil_8java_source.html#l00112">HandlebarsUtil.java:112</a></div></div>
<div class="ttc" id="classorg_1_1cobbzilla_1_1util_1_1string_1_1StringUtil_aa417d699a84b1243caafaa5cfb469e8a_html_aa417d699a84b1243caafaa5cfb469e8a"><div class="ttname"><a href="../../db/d9f/classorg_1_1cobbzilla_1_1util_1_1string_1_1StringUtil_aa417d699a84b1243caafaa5cfb469e8a.html#aa417d699a84b1243caafaa5cfb469e8a">org.cobbzilla.util.string.StringUtil.split</a></div><div class="ttdeci">static List&lt; String &gt; split(String s, String delim)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d2f/StringUtil_8java_source.html#l00067">StringUtil.java:67</a></div></div>
<div class="ttc" id="classorg_1_1cobbzilla_1_1util_1_1handlebars_1_1HandlebarsUtil_a405e99f7eda22dfd8e2bf756280a1813_html_a405e99f7eda22dfd8e2bf756280a1813"><div class="ttname"><a href="../../d0/d1b/classorg_1_1cobbzilla_1_1util_1_1handlebars_1_1HandlebarsUtil_a405e99f7eda22dfd8e2bf756280a1813.html#a405e99f7eda22dfd8e2bf756280a1813">org.cobbzilla.util.handlebars.HandlebarsUtil.apply</a></div><div class="ttdeci">static Map&lt; String, Object &gt; apply(Handlebars handlebars, Map&lt; String, Object &gt; map, Map&lt; String, Object &gt; ctx, char altStart, char altEnd)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d5c/HandlebarsUtil_8java_source.html#l00080">HandlebarsUtil.java:80</a></div></div>
<div class="ttc" id="classorg_1_1cobbzilla_1_1util_1_1handlebars_1_1HandlebarsUtil_1_1FileLoaderHelper_html"><div class="ttname"><a href="../../d7/d5c/classorg_1_1cobbzilla_1_1util_1_1handlebars_1_1HandlebarsUtil_1_1FileLoaderHelper.html">org.cobbzilla.util.handlebars.HandlebarsUtil.FileLoaderHelper</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d5c/HandlebarsUtil_8java_source.html#l00744">HandlebarsUtil.java:744</a></div></div>
<div class="ttc" id="classorg_1_1cobbzilla_1_1util_1_1io_1_1FileUtil_html"><div class="ttname"><a href="../../df/dac/classorg_1_1cobbzilla_1_1util_1_1io_1_1FileUtil.html">org.cobbzilla.util.io.FileUtil</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d27/FileUtil_8java_source.html#l00022">FileUtil.java:22</a></div></div>
<div class="ttc" id="classorg_1_1cobbzilla_1_1util_1_1handlebars_1_1HandlebarsUtil_a2068d47b7f92065178a38a08e7c44e3c_html_a2068d47b7f92065178a38a08e7c44e3c"><div class="ttname"><a href="../../d0/d1b/classorg_1_1cobbzilla_1_1util_1_1handlebars_1_1HandlebarsUtil_a2068d47b7f92065178a38a08e7c44e3c.html#a2068d47b7f92065178a38a08e7c44e3c">org.cobbzilla.util.handlebars.HandlebarsUtil.registerJavaScriptHelper</a></div><div class="ttdeci">static void registerJavaScriptHelper(final Handlebars hb, JsEngineFactory jsEngineFactory)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d5c/HandlebarsUtil_8java_source.html#l00716">HandlebarsUtil.java:716</a></div></div>
<div class="ttc" id="classorg_1_1cobbzilla_1_1util_1_1time_1_1TimeUtil_aaa1db6922a6e654cce22d75ac8532e4a_html_aaa1db6922a6e654cce22d75ac8532e4a"><div class="ttname"><a href="../../d2/dea/classorg_1_1cobbzilla_1_1util_1_1time_1_1TimeUtil_aaa1db6922a6e654cce22d75ac8532e4a.html#aaa1db6922a6e654cce22d75ac8532e4a">org.cobbzilla.util.time.TimeUtil.parse</a></div><div class="ttdeci">static Long parse(String time, DateTimeFormatter formatter)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/de6/TimeUtil_8java_source.html#l00045">TimeUtil.java:45</a></div></div>
<div class="ttc" id="classorg_1_1cobbzilla_1_1util_1_1handlebars_1_1HandlebarsUtil_a78f4d1a6e7b34cb35b98e6d22eceb926_html_a78f4d1a6e7b34cb35b98e6d22eceb926"><div class="ttname"><a href="../../d0/d1b/classorg_1_1cobbzilla_1_1util_1_1handlebars_1_1HandlebarsUtil_a78f4d1a6e7b34cb35b98e6d22eceb926.html#a78f4d1a6e7b34cb35b98e6d22eceb926">org.cobbzilla.util.handlebars.HandlebarsUtil.sendContext</a></div><div class="ttdeci">static void sendContext(String recipient, String subject, String message, String contentType)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d5c/HandlebarsUtil_8java_source.html#l00479">HandlebarsUtil.java:479</a></div></div>
<div class="ttc" id="classorg_1_1cobbzilla_1_1util_1_1reflect_1_1ReflectionUtil_a7009ec7b051c37c7269c707996664b21_html_a7009ec7b051c37c7269c707996664b21"><div class="ttname"><a href="../../de/d45/classorg_1_1cobbzilla_1_1util_1_1reflect_1_1ReflectionUtil_a7009ec7b051c37c7269c707996664b21.html#a7009ec7b051c37c7269c707996664b21">org.cobbzilla.util.reflect.ReflectionUtil.setterForGetter</a></div><div class="ttdeci">static String setterForGetter(String getter)</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d2f/ReflectionUtil_8java_source.html#l00542">ReflectionUtil.java:542</a></div></div>
<div class="ttc" id="classorg_1_1cobbzilla_1_1util_1_1reflect_1_1ReflectionUtil_html"><div class="ttname"><a href="../../de/d45/classorg_1_1cobbzilla_1_1util_1_1reflect_1_1ReflectionUtil.html">org.cobbzilla.util.reflect.ReflectionUtil</a></div><div class="ttdoc">Handy tools for working quickly with reflection APIs, which tend to be verbose. </div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d2f/ReflectionUtil_8java_source.html#l00029">ReflectionUtil.java:29</a></div></div>
<div class="ttc" id="classorg_1_1cobbzilla_1_1util_1_1handlebars_1_1HandlebarsUtil_a1458fe74b9cb39e50916bcffd667e532_html_a1458fe74b9cb39e50916bcffd667e532"><div class="ttname"><a href="../../d0/d1b/classorg_1_1cobbzilla_1_1util_1_1handlebars_1_1HandlebarsUtil_a1458fe74b9cb39e50916bcffd667e532.html#a1458fe74b9cb39e50916bcffd667e532">org.cobbzilla.util.handlebars.HandlebarsUtil.CLOSE_XML_DECL</a></div><div class="ttdeci">static final String CLOSE_XML_DECL</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d5c/HandlebarsUtil_8java_source.html#l00689">HandlebarsUtil.java:689</a></div></div>
<div class="ttc" id="classorg_1_1cobbzilla_1_1util_1_1handlebars_1_1HandlebarsUtil_a103bd77ec507efe7f2597c648fdd448a_html_a103bd77ec507efe7f2597c648fdd448a"><div class="ttname"><a href="../../d0/d1b/classorg_1_1cobbzilla_1_1util_1_1handlebars_1_1HandlebarsUtil_a103bd77ec507efe7f2597c648fdd448a.html#a103bd77ec507efe7f2597c648fdd448a">org.cobbzilla.util.handlebars.HandlebarsUtil.sourceAt</a></div><div class="ttdeci">TemplateSource sourceAt(String source)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d5c/HandlebarsUtil_8java_source.html#l00232">HandlebarsUtil.java:232</a></div></div>
<div class="ttc" id="namespaceorg_1_1cobbzilla_1_1util_1_1io_html"><div class="ttname"><a href="../../d7/da3/namespaceorg_1_1cobbzilla_1_1util_1_1io.html">org.cobbzilla.util.io</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d05/BufferedFilesystemWatcher_8java_source.html#l00001">BufferedFilesystemWatcher.java:1</a></div></div>
<div class="ttc" id="classorg_1_1cobbzilla_1_1util_1_1handlebars_1_1HandlebarsUtil_1_1FileLoaderHelper_ab4317625c7a5d8a214c72f4d30c1b1d8_html_ab4317625c7a5d8a214c72f4d30c1b1d8"><div class="ttname"><a href="../../d7/d5c/classorg_1_1cobbzilla_1_1util_1_1handlebars_1_1HandlebarsUtil_1_1FileLoaderHelper_ab4317625c7a5d8a214c72f4d30c1b1d8.html#ab4317625c7a5d8a214c72f4d30c1b1d8">org.cobbzilla.util.handlebars.HandlebarsUtil.FileLoaderHelper.apply</a></div><div class="ttdeci">CharSequence apply(String filename, Options options)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d5c/HandlebarsUtil_8java_source.html#l00748">HandlebarsUtil.java:748</a></div></div>
<div class="ttc" id="classorg_1_1cobbzilla_1_1util_1_1time_1_1TimeUtil_ac72ca2318f74ff25c6fea9f064370cc3_html_ac72ca2318f74ff25c6fea9f064370cc3"><div class="ttname"><a href="../../d2/dea/classorg_1_1cobbzilla_1_1util_1_1time_1_1TimeUtil_ac72ca2318f74ff25c6fea9f064370cc3.html#ac72ca2318f74ff25c6fea9f064370cc3">org.cobbzilla.util.time.TimeUtil.DATE_FORMAT_MMMM_D_YYYY</a></div><div class="ttdeci">static final DateTimeFormatter DATE_FORMAT_MMMM_D_YYYY</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/de6/TimeUtil_8java_source.html#l00026">TimeUtil.java:26</a></div></div>
<div class="ttc" id="classorg_1_1cobbzilla_1_1util_1_1handlebars_1_1HandlebarsUtil_aeef00b3b32a68b992e75bf0d6f9bbd20_html_aeef00b3b32a68b992e75bf0d6f9bbd20"><div class="ttname"><a href="../../d0/d1b/classorg_1_1cobbzilla_1_1util_1_1handlebars_1_1HandlebarsUtil_aeef00b3b32a68b992e75bf0d6f9bbd20.html#aeef00b3b32a68b992e75bf0d6f9bbd20">org.cobbzilla.util.handlebars.HandlebarsUtil.cval</a></div><div class="ttdeci">static Comparable cval(Object v)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d5c/HandlebarsUtil_8java_source.html#l00508">HandlebarsUtil.java:508</a></div></div>
<div class="ttc" id="interfaceorg_1_1cobbzilla_1_1util_1_1io_1_1FileResolver_a1190814e05b31fe137ba3bb42f192e36_html_a1190814e05b31fe137ba3bb42f192e36"><div class="ttname"><a href="../../d0/df1/interfaceorg_1_1cobbzilla_1_1util_1_1io_1_1FileResolver_a1190814e05b31fe137ba3bb42f192e36.html#a1190814e05b31fe137ba3bb42f192e36">org.cobbzilla.util.io.FileResolver.resolve</a></div><div class="ttdeci">File resolve(String path)</div></div>
<div class="ttc" id="classorg_1_1cobbzilla_1_1util_1_1daemon_1_1DaemonThreadFactory_html"><div class="ttname"><a href="../../d2/d3b/classorg_1_1cobbzilla_1_1util_1_1daemon_1_1DaemonThreadFactory.html">org.cobbzilla.util.daemon.DaemonThreadFactory</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d2c/DaemonThreadFactory_8java_source.html#l00010">DaemonThreadFactory.java:10</a></div></div>
<div class="ttc" id="classorg_1_1cobbzilla_1_1util_1_1handlebars_1_1HandlebarsUtil_a3f346d5733bca31ba87db38b328aa2eb_html_a3f346d5733bca31ba87db38b328aa2eb"><div class="ttname"><a href="../../d0/d1b/classorg_1_1cobbzilla_1_1util_1_1handlebars_1_1HandlebarsUtil_a3f346d5733bca31ba87db38b328aa2eb.html#a3f346d5733bca31ba87db38b328aa2eb">org.cobbzilla.util.handlebars.HandlebarsUtil.DUMMY_START3</a></div><div class="ttdeci">static final String DUMMY_START3</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d5c/HandlebarsUtil_8java_source.html#l00111">HandlebarsUtil.java:111</a></div></div>
<div class="ttc" id="classorg_1_1cobbzilla_1_1util_1_1handlebars_1_1HandlebarsUtil_a41e0478c31a1168fb6a8ba75ad22efd0_html_a41e0478c31a1168fb6a8ba75ad22efd0"><div class="ttname"><a href="../../d0/d1b/classorg_1_1cobbzilla_1_1util_1_1handlebars_1_1HandlebarsUtil_a41e0478c31a1168fb6a8ba75ad22efd0.html#a41e0478c31a1168fb6a8ba75ad22efd0">org.cobbzilla.util.handlebars.HandlebarsUtil.applyReflectively</a></div><div class="ttdeci">static&lt; T &gt; T applyReflectively(Handlebars handlebars, T thing, Map&lt; String, Object &gt; ctx)</div><div class="ttdoc">Using reflection, we find all public getters of a thing (and if the getter returns an object...</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d5c/HandlebarsUtil_8java_source.html#l00163">HandlebarsUtil.java:163</a></div></div>
<div class="ttc" id="classorg_1_1cobbzilla_1_1util_1_1handlebars_1_1HandlebarsUtil_a34d4d4ef16b591d7cb5267046c55cec7_html_a34d4d4ef16b591d7cb5267046c55cec7"><div class="ttname"><a href="../../d0/d1b/classorg_1_1cobbzilla_1_1util_1_1handlebars_1_1HandlebarsUtil_a34d4d4ef16b591d7cb5267046c55cec7.html#a34d4d4ef16b591d7cb5267046c55cec7">org.cobbzilla.util.handlebars.HandlebarsUtil.longVal</a></div><div class="ttdeci">static long longVal(Object src, DateTimeZone timeZone, boolean tryAgain)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d5c/HandlebarsUtil_8java_source.html#l00657">HandlebarsUtil.java:657</a></div></div>
<div class="ttc" id="namespaceorg_html"><div class="ttname"><a href="../../db/d96/namespaceorg.html">org</a></div></div>
<div class="ttc" id="classorg_1_1cobbzilla_1_1util_1_1handlebars_1_1HandlebarsUtil_1_1DateHelper_a314a2572f353991e2efe6a1da672630a_html_a314a2572f353991e2efe6a1da672630a"><div class="ttname"><a href="../../db/d54/classorg_1_1cobbzilla_1_1util_1_1handlebars_1_1HandlebarsUtil_1_1DateHelper_a314a2572f353991e2efe6a1da672630a.html#a314a2572f353991e2efe6a1da672630a">org.cobbzilla.util.handlebars.HandlebarsUtil.DateHelper.getTimeZone</a></div><div class="ttdeci">DateTimeZone getTimeZone(Options options)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d5c/HandlebarsUtil_8java_source.html#l00587">HandlebarsUtil.java:587</a></div></div>
<div class="ttc" id="classorg_1_1cobbzilla_1_1util_1_1handlebars_1_1RequiredVariableUndefinedException_html"><div class="ttname"><a href="../../d5/d15/classorg_1_1cobbzilla_1_1util_1_1handlebars_1_1RequiredVariableUndefinedException.html">org.cobbzilla.util.handlebars.RequiredVariableUndefinedException</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d44/RequiredVariableUndefinedException_8java_source.html#l00003">RequiredVariableUndefinedException.java:3</a></div></div>
<div class="ttc" id="namespaceorg_1_1cobbzilla_1_1util_1_1javascript_html"><div class="ttname"><a href="../../da/d1e/namespaceorg_1_1cobbzilla_1_1util_1_1javascript.html">org.cobbzilla.util.javascript</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/ddc/JsEngine_8java_source.html#l00001">JsEngine.java:1</a></div></div>
<div class="ttc" id="namespaceorg_1_1cobbzilla_html"><div class="ttname"><a href="../../d8/d2e/namespaceorg_1_1cobbzilla.html">org.cobbzilla</a></div></div>
<div class="ttc" id="classorg_1_1cobbzilla_1_1util_1_1handlebars_1_1HandlebarsUtil_html"><div class="ttname"><a href="../../d0/d1b/classorg_1_1cobbzilla_1_1util_1_1handlebars_1_1HandlebarsUtil.html">org.cobbzilla.util.handlebars.HandlebarsUtil</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d5c/HandlebarsUtil_8java_source.html#l00060">HandlebarsUtil.java:60</a></div></div>
<div class="ttc" id="classorg_1_1cobbzilla_1_1util_1_1http_1_1HttpContentTypes_a4671f523e4147458e29b75d162f09654_html_a4671f523e4147458e29b75d162f09654"><div class="ttname"><a href="../../de/d2b/classorg_1_1cobbzilla_1_1util_1_1http_1_1HttpContentTypes_a4671f523e4147458e29b75d162f09654.html#a4671f523e4147458e29b75d162f09654">org.cobbzilla.util.http.HttpContentTypes.APPLICATION_JSON</a></div><div class="ttdeci">static final String APPLICATION_JSON</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d10/HttpContentTypes_8java_source.html#l00018">HttpContentTypes.java:18</a></div></div>
<div class="ttc" id="classorg_1_1cobbzilla_1_1util_1_1handlebars_1_1HandlebarsUtil_a94959117dfd5adfb7c9cd82823ae98f9_html_a94959117dfd5adfb7c9cd82823ae98f9"><div class="ttname"><a href="../../d0/d1b/classorg_1_1cobbzilla_1_1util_1_1handlebars_1_1HandlebarsUtil_a94959117dfd5adfb7c9cd82823ae98f9.html#a94959117dfd5adfb7c9cd82823ae98f9">org.cobbzilla.util.handlebars.HandlebarsUtil.defaultTimeZone</a></div><div class="ttdeci">static String defaultTimeZone</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d5c/HandlebarsUtil_8java_source.html#l00583">HandlebarsUtil.java:583</a></div></div>
<div class="ttc" id="classorg_1_1cobbzilla_1_1util_1_1handlebars_1_1HandlebarsUtil_af5626ec1bd2c27aead4d7b297985c888_html_af5626ec1bd2c27aead4d7b297985c888"><div class="ttname"><a href="../../d0/d1b/classorg_1_1cobbzilla_1_1util_1_1handlebars_1_1HandlebarsUtil_af5626ec1bd2c27aead4d7b297985c888.html#af5626ec1bd2c27aead4d7b297985c888">org.cobbzilla.util.handlebars.HandlebarsUtil.registerJurisdictionHelpers</a></div><div class="ttdeci">static void registerJurisdictionHelpers(final Handlebars hb, JurisdictionResolver jurisdictionResolver)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d5c/HandlebarsUtil_8java_source.html#l00705">HandlebarsUtil.java:705</a></div></div>
<div class="ttc" id="classorg_1_1cobbzilla_1_1util_1_1handlebars_1_1HandlebarsUtil_a64523a2941cf0dcd1e6cb989c61a9e71_html_a64523a2941cf0dcd1e6cb989c61a9e71"><div class="ttname"><a href="../../d0/d1b/classorg_1_1cobbzilla_1_1util_1_1handlebars_1_1HandlebarsUtil_a64523a2941cf0dcd1e6cb989c61a9e71.html#a64523a2941cf0dcd1e6cb989c61a9e71">org.cobbzilla.util.handlebars.HandlebarsUtil.contextSender</a></div><div class="ttdeci">static final ExecutorService contextSender</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d5c/HandlebarsUtil_8java_source.html#l00477">HandlebarsUtil.java:477</a></div></div>
<div class="ttc" id="classorg_1_1cobbzilla_1_1util_1_1handlebars_1_1HandlebarsUtil_ad9314f960e003e5d6806c11a18c44f34_html_ad9314f960e003e5d6806c11a18c44f34"><div class="ttname"><a href="../../d0/d1b/classorg_1_1cobbzilla_1_1util_1_1handlebars_1_1HandlebarsUtil_ad9314f960e003e5d6806c11a18c44f34.html#ad9314f960e003e5d6806c11a18c44f34">org.cobbzilla.util.handlebars.HandlebarsUtil.getComparisonArgParam</a></div><div class="ttdeci">static Object getComparisonArgParam(Options options)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d5c/HandlebarsUtil_8java_source.html#l00466">HandlebarsUtil.java:466</a></div></div>
<div class="ttc" id="classorg_1_1cobbzilla_1_1util_1_1string_1_1LocaleUtil_a40753fffe36bbb1d2875e7346a63a959_html_a40753fffe36bbb1d2875e7346a63a959"><div class="ttname"><a href="../../d9/dbd/classorg_1_1cobbzilla_1_1util_1_1string_1_1LocaleUtil_a40753fffe36bbb1d2875e7346a63a959.html#a40753fffe36bbb1d2875e7346a63a959">org.cobbzilla.util.string.LocaleUtil.fromString</a></div><div class="ttdeci">static Locale fromString(String localeString)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/deb/LocaleUtil_8java_source.html#l00053">LocaleUtil.java:53</a></div></div>
<div class="ttc" id="interfaceorg_1_1cobbzilla_1_1util_1_1handlebars_1_1JurisdictionResolver_html"><div class="ttname"><a href="../../d1/dbf/interfaceorg_1_1cobbzilla_1_1util_1_1handlebars_1_1JurisdictionResolver.html">org.cobbzilla.util.handlebars.JurisdictionResolver</a></div><div class="ttdef"><b>Definition:</b> <a href="../../db/ddd/JurisdictionResolver_8java_source.html#l00005">JurisdictionResolver.java:5</a></div></div>
<div class="ttc" id="classorg_1_1cobbzilla_1_1util_1_1javascript_1_1JsEngine_a60bba769760a2df3a1b2c8ab5c4dee8c_html_a60bba769760a2df3a1b2c8ab5c4dee8c"><div class="ttname"><a href="../../db/d96/classorg_1_1cobbzilla_1_1util_1_1javascript_1_1JsEngine_a60bba769760a2df3a1b2c8ab5c4dee8c.html#a60bba769760a2df3a1b2c8ab5c4dee8c">org.cobbzilla.util.javascript.JsEngine.evaluate</a></div><div class="ttdeci">public&lt; T &gt; T evaluate(String code, Map&lt; String, Object &gt; context)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/ddc/JsEngine_8java_source.html#l00051">JsEngine.java:51</a></div></div>
<div class="ttc" id="classorg_1_1cobbzilla_1_1util_1_1io_1_1PathListFileResolver_html"><div class="ttname"><a href="../../d2/d5d/classorg_1_1cobbzilla_1_1util_1_1io_1_1PathListFileResolver.html">org.cobbzilla.util.io.PathListFileResolver</a></div><div class="ttdef"><b>Definition:</b> <a href="../../da/d6b/PathListFileResolver_8java_source.html#l00008">PathListFileResolver.java:8</a></div></div>
<div class="ttc" id="classorg_1_1cobbzilla_1_1util_1_1collection_1_1SingletonList_html"><div class="ttname"><a href="../../dd/dda/classorg_1_1cobbzilla_1_1util_1_1collection_1_1SingletonList.html">org.cobbzilla.util.collection.SingletonList</a></div><div class="ttdef"><b>Definition:</b> <a href="../../de/d0c/SingletonList_8java_source.html#l00006">SingletonList.java:6</a></div></div>
<div class="ttc" id="classorg_1_1cobbzilla_1_1util_1_1handlebars_1_1HandlebarsUtil_1_1DateHelper_a766edfe6a643347b2ef5573f2f3ac459_html_a766edfe6a643347b2ef5573f2f3ac459"><div class="ttname"><a href="../../db/d54/classorg_1_1cobbzilla_1_1util_1_1handlebars_1_1HandlebarsUtil_1_1DateHelper_a766edfe6a643347b2ef5573f2f3ac459.html#a766edfe6a643347b2ef5573f2f3ac459">org.cobbzilla.util.handlebars.HandlebarsUtil.DateHelper.getTimeZone</a></div><div class="ttdeci">DateTimeZone getTimeZone(Options options, int index)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d5c/HandlebarsUtil_8java_source.html#l00589">HandlebarsUtil.java:589</a></div></div>
<div class="ttc" id="classorg_1_1cobbzilla_1_1util_1_1handlebars_1_1HandlebarsUtil_aa560d5318e8ff90c2367b23fc1a16da9_html_aa560d5318e8ff90c2367b23fc1a16da9"><div class="ttname"><a href="../../d0/d1b/classorg_1_1cobbzilla_1_1util_1_1handlebars_1_1HandlebarsUtil_aa560d5318e8ff90c2367b23fc1a16da9.html#aa560d5318e8ff90c2367b23fc1a16da9">org.cobbzilla.util.handlebars.HandlebarsUtil.getEmailRecipient</a></div><div class="ttdeci">static String getEmailRecipient(Handlebars hb, Options options, int index)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d5c/HandlebarsUtil_8java_source.html#l00471">HandlebarsUtil.java:471</a></div></div>
<div class="ttc" id="namespaceorg_1_1cobbzilla_1_1util_html"><div class="ttname"><a href="../../db/d8e/namespaceorg_1_1cobbzilla_1_1util.html">org.cobbzilla.util</a></div></div>
<div class="ttc" id="interfaceorg_1_1cobbzilla_1_1util_1_1handlebars_1_1JurisdictionResolver_a2ab430d6b5d91cafc95616ec8dd6de83_html_a2ab430d6b5d91cafc95616ec8dd6de83"><div class="ttname"><a href="../../d1/dbf/interfaceorg_1_1cobbzilla_1_1util_1_1handlebars_1_1JurisdictionResolver_a2ab430d6b5d91cafc95616ec8dd6de83.html#a2ab430d6b5d91cafc95616ec8dd6de83">org.cobbzilla.util.handlebars.JurisdictionResolver.usState</a></div><div class="ttdeci">String usState(String value)</div></div>
<div class="ttc" id="classorg_1_1cobbzilla_1_1util_1_1daemon_1_1DaemonThreadFactory_a5629ba25f4599a5be90e823ad7ee4ceb_html_a5629ba25f4599a5be90e823ad7ee4ceb"><div class="ttname"><a href="../../d2/d3b/classorg_1_1cobbzilla_1_1util_1_1daemon_1_1DaemonThreadFactory_a5629ba25f4599a5be90e823ad7ee4ceb.html#a5629ba25f4599a5be90e823ad7ee4ceb">org.cobbzilla.util.daemon.DaemonThreadFactory.fixedPool</a></div><div class="ttdeci">static ExecutorService fixedPool(int count)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d2c/DaemonThreadFactory_8java_source.html#l00020">DaemonThreadFactory.java:20</a></div></div>
<div class="ttc" id="classorg_1_1cobbzilla_1_1util_1_1handlebars_1_1HandlebarsUtil_a1042e293692f24c284227fb54a239f79_html_a1042e293692f24c284227fb54a239f79"><div class="ttname"><a href="../../d0/d1b/classorg_1_1cobbzilla_1_1util_1_1handlebars_1_1HandlebarsUtil_a1042e293692f24c284227fb54a239f79.html#a1042e293692f24c284227fb54a239f79">org.cobbzilla.util.handlebars.HandlebarsUtil.setFileIncludePaths</a></div><div class="ttdeci">static void setFileIncludePaths(Collection&lt; String &gt; paths)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d5c/HandlebarsUtil_8java_source.html#l00737">HandlebarsUtil.java:737</a></div></div>
<div class="ttc" id="classorg_1_1cobbzilla_1_1util_1_1string_1_1LocaleUtil_html"><div class="ttname"><a href="../../d9/dbd/classorg_1_1cobbzilla_1_1util_1_1string_1_1LocaleUtil.html">org.cobbzilla.util.string.LocaleUtil</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/deb/LocaleUtil_8java_source.html#l00011">LocaleUtil.java:11</a></div></div>
<div class="ttc" id="classorg_1_1cobbzilla_1_1util_1_1handlebars_1_1HandlebarsUtil_ab8d105743184c951ee6cb5beb368ddda_html_ab8d105743184c951ee6cb5beb368ddda"><div class="ttname"><a href="../../d0/d1b/classorg_1_1cobbzilla_1_1util_1_1handlebars_1_1HandlebarsUtil_ab8d105743184c951ee6cb5beb368ddda.html#ab8d105743184c951ee6cb5beb368ddda">org.cobbzilla.util.handlebars.HandlebarsUtil.HB_LSTART</a></div><div class="ttdeci">static final String HB_LSTART</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d5c/HandlebarsUtil_8java_source.html#l00068">HandlebarsUtil.java:68</a></div></div>
<div class="ttc" id="classorg_1_1cobbzilla_1_1util_1_1time_1_1TimeUtil_afa006f3637a113075c1b5968ed6406c7_html_afa006f3637a113075c1b5968ed6406c7"><div class="ttname"><a href="../../d2/dea/classorg_1_1cobbzilla_1_1util_1_1time_1_1TimeUtil_afa006f3637a113075c1b5968ed6406c7.html#afa006f3637a113075c1b5968ed6406c7">org.cobbzilla.util.time.TimeUtil.DATE_FORMAT_YYYY_MM_DD</a></div><div class="ttdeci">static final DateTimeFormatter DATE_FORMAT_YYYY_MM_DD</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/de6/TimeUtil_8java_source.html#l00027">TimeUtil.java:27</a></div></div>
<div class="ttc" id="classorg_1_1cobbzilla_1_1util_1_1time_1_1TimeUtil_a6f7bb6f402471c9249fcb76dbbdf9b67_html_a6f7bb6f402471c9249fcb76dbbdf9b67"><div class="ttname"><a href="../../d2/dea/classorg_1_1cobbzilla_1_1util_1_1time_1_1TimeUtil_a6f7bb6f402471c9249fcb76dbbdf9b67.html#a6f7bb6f402471c9249fcb76dbbdf9b67">org.cobbzilla.util.time.TimeUtil.DATE_FORMAT_MMM_DD_YYYY</a></div><div class="ttdeci">static final DateTimeFormatter DATE_FORMAT_MMM_DD_YYYY</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/de6/TimeUtil_8java_source.html#l00029">TimeUtil.java:29</a></div></div>
<div class="ttc" id="interfaceorg_1_1cobbzilla_1_1util_1_1handlebars_1_1ContextMessageSender_html"><div class="ttname"><a href="../../df/d45/interfaceorg_1_1cobbzilla_1_1util_1_1handlebars_1_1ContextMessageSender.html">org.cobbzilla.util.handlebars.ContextMessageSender</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d9/ddf/ContextMessageSender_8java_source.html#l00003">ContextMessageSender.java:3</a></div></div>
<div class="ttc" id="classorg_1_1cobbzilla_1_1util_1_1handlebars_1_1HandlebarsUtil_a39d5f6853b3e131817c393968d0b4252_html_a39d5f6853b3e131817c393968d0b4252"><div class="ttname"><a href="../../d0/d1b/classorg_1_1cobbzilla_1_1util_1_1handlebars_1_1HandlebarsUtil_a39d5f6853b3e131817c393968d0b4252.html#a39d5f6853b3e131817c393968d0b4252">org.cobbzilla.util.handlebars.HandlebarsUtil.HB_START</a></div><div class="ttdeci">static final String HB_START</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d5c/HandlebarsUtil_8java_source.html#l00065">HandlebarsUtil.java:65</a></div></div>
<div class="ttc" id="classorg_1_1cobbzilla_1_1util_1_1handlebars_1_1HandlebarsUtil_afc123354fa94c49eb4265ed52d3831c5_html_afc123354fa94c49eb4265ed52d3831c5"><div class="ttname"><a href="../../d0/d1b/classorg_1_1cobbzilla_1_1util_1_1handlebars_1_1HandlebarsUtil_afc123354fa94c49eb4265ed52d3831c5.html#afc123354fa94c49eb4265ed52d3831c5">org.cobbzilla.util.handlebars.HandlebarsUtil.registerFileHelpers</a></div><div class="ttdeci">static void registerFileHelpers(final Handlebars hb)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d5c/HandlebarsUtil_8java_source.html#l00789">HandlebarsUtil.java:789</a></div></div>
<div class="ttc" id="namespacelombok_html"><div class="ttname"><a href="../../d4/d7d/namespacelombok.html">lombok</a></div></div>
<div class="ttc" id="classorg_1_1cobbzilla_1_1util_1_1handlebars_1_1HandlebarsUtil_ab600a88e6f30bda96284ddf6d6345717_html_ab600a88e6f30bda96284ddf6d6345717"><div class="ttname"><a href="../../d0/d1b/classorg_1_1cobbzilla_1_1util_1_1handlebars_1_1HandlebarsUtil_ab600a88e6f30bda96284ddf6d6345717.html#ab600a88e6f30bda96284ddf6d6345717">org.cobbzilla.util.handlebars.HandlebarsUtil.HB_END</a></div><div class="ttdeci">static final String HB_END</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d5c/HandlebarsUtil_8java_source.html#l00066">HandlebarsUtil.java:66</a></div></div>
<div class="ttc" id="classorg_1_1cobbzilla_1_1util_1_1handlebars_1_1HandlebarsUtil_aaf13c6b099114031805b4a0cf1f8542e_html_aaf13c6b099114031805b4a0cf1f8542e"><div class="ttname"><a href="../../d0/d1b/classorg_1_1cobbzilla_1_1util_1_1handlebars_1_1HandlebarsUtil_aaf13c6b099114031805b4a0cf1f8542e.html#aaf13c6b099114031805b4a0cf1f8542e">org.cobbzilla.util.handlebars.HandlebarsUtil.DEFAULT_FLOAT_FORMAT</a></div><div class="ttdeci">static final String DEFAULT_FLOAT_FORMAT</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d5c/HandlebarsUtil_8java_source.html#l00071">HandlebarsUtil.java:71</a></div></div>
<div class="ttc" id="classorg_1_1cobbzilla_1_1util_1_1handlebars_1_1HandlebarsUtil_a2393863473800a4ed3e7541ee95c8869_html_a2393863473800a4ed3e7541ee95c8869"><div class="ttname"><a href="../../d0/d1b/classorg_1_1cobbzilla_1_1util_1_1handlebars_1_1HandlebarsUtil_a2393863473800a4ed3e7541ee95c8869.html#a2393863473800a4ed3e7541ee95c8869">org.cobbzilla.util.handlebars.HandlebarsUtil.applyReflectively</a></div><div class="ttdeci">static&lt; T &gt; T applyReflectively(Handlebars handlebars, T thing, Map&lt; String, Object &gt; ctx, char altStart, char altEnd)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d5c/HandlebarsUtil_8java_source.html#l00167">HandlebarsUtil.java:167</a></div></div>
<div class="ttc" id="classorg_1_1cobbzilla_1_1util_1_1string_1_1Base64_abb94a9b460b25c09a5c1d2f593d6c173_html_abb94a9b460b25c09a5c1d2f593d6c173"><div class="ttname"><a href="../../df/da0/classorg_1_1cobbzilla_1_1util_1_1string_1_1Base64_abb94a9b460b25c09a5c1d2f593d6c173.html#abb94a9b460b25c09a5c1d2f593d6c173">org.cobbzilla.util.string.Base64.encodeBytes</a></div><div class="ttdeci">static String encodeBytes(byte[] source)</div><div class="ttdoc">Encodes a byte array into Base64 notation. </div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d1d/Base64_8java_source.html#l00714">Base64.java:714</a></div></div>
<div class="ttc" id="classorg_1_1cobbzilla_1_1util_1_1handlebars_1_1HandlebarsUtil_ac7bccb06debdf8bb5577e792dc3d25ec_html_ac7bccb06debdf8bb5577e792dc3d25ec"><div class="ttname"><a href="../../d0/d1b/classorg_1_1cobbzilla_1_1util_1_1handlebars_1_1HandlebarsUtil_ac7bccb06debdf8bb5577e792dc3d25ec.html#ac7bccb06debdf8bb5577e792dc3d25ec">org.cobbzilla.util.handlebars.HandlebarsUtil.apply</a></div><div class="ttdeci">static String apply(Handlebars handlebars, String value, Map&lt; String, Object &gt; ctx, char altStart, char altEnd)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d5c/HandlebarsUtil_8java_source.html#l00115">HandlebarsUtil.java:115</a></div></div>
<div class="ttc" id="classorg_1_1cobbzilla_1_1util_1_1handlebars_1_1HandlebarsUtil_a9eca2afc1daf767952c4a54605f9a701_html_a9eca2afc1daf767952c4a54605f9a701"><div class="ttname"><a href="../../d0/d1b/classorg_1_1cobbzilla_1_1util_1_1handlebars_1_1HandlebarsUtil_a9eca2afc1daf767952c4a54605f9a701.html#a9eca2afc1daf767952c4a54605f9a701">org.cobbzilla.util.handlebars.HandlebarsUtil.apply</a></div><div class="ttdeci">static String apply(Handlebars handlebars, String value, Map&lt; String, Object &gt; ctx)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d5c/HandlebarsUtil_8java_source.html#l00107">HandlebarsUtil.java:107</a></div></div>
<div class="ttc" id="namespaceorg_1_1cobbzilla_1_1util_1_1security_html"><div class="ttname"><a href="../../da/db0/namespaceorg_1_1cobbzilla_1_1util_1_1security.html">org.cobbzilla.util.security</a></div></div>
<div class="ttc" id="interfaceorg_1_1cobbzilla_1_1util_1_1javascript_1_1JsEngineFactory_html"><div class="ttname"><a href="../../d4/d50/interfaceorg_1_1cobbzilla_1_1util_1_1javascript_1_1JsEngineFactory.html">org.cobbzilla.util.javascript.JsEngineFactory</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d2/dd5/JsEngineFactory_8java_source.html#l00003">JsEngineFactory.java:3</a></div></div>
<div class="ttc" id="classorg_1_1cobbzilla_1_1util_1_1handlebars_1_1HandlebarsUtil_a4eadff15b21a8fd540a8b14e9c45e200_html_a4eadff15b21a8fd540a8b14e9c45e200"><div class="ttname"><a href="../../d0/d1b/classorg_1_1cobbzilla_1_1util_1_1handlebars_1_1HandlebarsUtil_a4eadff15b21a8fd540a8b14e9c45e200.html#a4eadff15b21a8fd540a8b14e9c45e200">org.cobbzilla.util.handlebars.HandlebarsUtil.registerDateHelpers</a></div><div class="ttdeci">static void registerDateHelpers(Handlebars hb)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d5c/HandlebarsUtil_8java_source.html#l00612">HandlebarsUtil.java:612</a></div></div>
<div class="ttc" id="classorg_1_1cobbzilla_1_1util_1_1handlebars_1_1HandlebarsUtil_a43596af92e9936443daa525dd45036b4_html_a43596af92e9936443daa525dd45036b4"><div class="ttname"><a href="../../d0/d1b/classorg_1_1cobbzilla_1_1util_1_1handlebars_1_1HandlebarsUtil_a43596af92e9936443daa525dd45036b4.html#a43596af92e9936443daa525dd45036b4">org.cobbzilla.util.handlebars.HandlebarsUtil.registerCurrencyHelpers</a></div><div class="ttdeci">static void registerCurrencyHelpers(Handlebars hb)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d5c/HandlebarsUtil_8java_source.html#l00556">HandlebarsUtil.java:556</a></div></div>
<div class="ttc" id="namespaceorg_1_1cobbzilla_1_1util_1_1http_html"><div class="ttname"><a href="../../d1/da3/namespaceorg_1_1cobbzilla_1_1util_1_1http.html">org.cobbzilla.util.http</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d02/ApiConnectionInfo_8java_source.html#l00001">ApiConnectionInfo.java:1</a></div></div>
<div class="ttc" id="classorg_1_1cobbzilla_1_1util_1_1handlebars_1_1HandlebarsUtil_a7a460cd2b25866fd011c18197dc3cc32_html_a7a460cd2b25866fd011c18197dc3cc32"><div class="ttname"><a href="../../d0/d1b/classorg_1_1cobbzilla_1_1util_1_1handlebars_1_1HandlebarsUtil_a7a460cd2b25866fd011c18197dc3cc32.html#a7a460cd2b25866fd011c18197dc3cc32">org.cobbzilla.util.handlebars.HandlebarsUtil.sourceName</a></div><div class="ttdeci">String sourceName</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d5c/HandlebarsUtil_8java_source.html#l00074">HandlebarsUtil.java:74</a></div></div>
<div class="ttc" id="classorg_1_1cobbzilla_1_1util_1_1http_1_1HttpContentTypes_html"><div class="ttname"><a href="../../de/d2b/classorg_1_1cobbzilla_1_1util_1_1http_1_1HttpContentTypes.html">org.cobbzilla.util.http.HttpContentTypes</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d10/HttpContentTypes_8java_source.html#l00013">HttpContentTypes.java:13</a></div></div>
<div class="ttc" id="classorg_1_1cobbzilla_1_1util_1_1json_1_1JsonUtil_html"><div class="ttname"><a href="../../dc/d2c/classorg_1_1cobbzilla_1_1util_1_1json_1_1JsonUtil.html">org.cobbzilla.util.json.JsonUtil</a></div><div class="ttdef"><b>Definition:</b> <a href="../../da/dec/JsonUtil_8java_source.html#l00023">JsonUtil.java:23</a></div></div>
<div class="ttc" id="classorg_1_1cobbzilla_1_1util_1_1json_1_1JsonUtil_a4181f7525f80c694d58881fca5fe097f_html_a4181f7525f80c694d58881fca5fe097f"><div class="ttname"><a href="../../dc/d2c/classorg_1_1cobbzilla_1_1util_1_1json_1_1JsonUtil_a4181f7525f80c694d58881fca5fe097f.html#a4181f7525f80c694d58881fca5fe097f">org.cobbzilla.util.json.JsonUtil.json</a></div><div class="ttdeci">static String json(Object o)</div><div class="ttdef"><b>Definition:</b> <a href="../../da/dec/JsonUtil_8java_source.html#l00115">JsonUtil.java:115</a></div></div>
<div class="ttc" id="classorg_1_1cobbzilla_1_1util_1_1handlebars_1_1HandlebarsUtil_a3187b25f7582153e9354a2ecb3b6eebf_html_a3187b25f7582153e9354a2ecb3b6eebf"><div class="ttname"><a href="../../d0/d1b/classorg_1_1cobbzilla_1_1util_1_1handlebars_1_1HandlebarsUtil_a3187b25f7582153e9354a2ecb3b6eebf.html#a3187b25f7582153e9354a2ecb3b6eebf">org.cobbzilla.util.handlebars.HandlebarsUtil.messageSender</a></div><div class="ttdeci">static final AtomicReference&lt; ContextMessageSender &gt; messageSender</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d5c/HandlebarsUtil_8java_source.html#l00238">HandlebarsUtil.java:238</a></div></div>
<div class="ttc" id="classorg_1_1cobbzilla_1_1util_1_1io_1_1StreamUtil_affb0a215e484683e608965f1f54c675e_html_affb0a215e484683e608965f1f54c675e"><div class="ttname"><a href="../../dc/d81/classorg_1_1cobbzilla_1_1util_1_1io_1_1StreamUtil_affb0a215e484683e608965f1f54c675e.html#affb0a215e484683e608965f1f54c675e">org.cobbzilla.util.io.StreamUtil.stream2string</a></div><div class="ttdeci">static String stream2string(String path)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/db9/StreamUtil_8java_source.html#l00100">StreamUtil.java:100</a></div></div>
<div class="ttc" id="classorg_1_1cobbzilla_1_1util_1_1string_1_1Base64_html"><div class="ttname"><a href="../../df/da0/classorg_1_1cobbzilla_1_1util_1_1string_1_1Base64.html">org.cobbzilla.util.string.Base64</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d1d/Base64_8java_source.html#l00150">Base64.java:150</a></div></div>
<div class="ttc" id="classorg_1_1cobbzilla_1_1util_1_1time_1_1TimeUtil_html"><div class="ttname"><a href="../../d2/dea/classorg_1_1cobbzilla_1_1util_1_1time_1_1TimeUtil.html">org.cobbzilla.util.time.TimeUtil</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/de6/TimeUtil_8java_source.html#l00018">TimeUtil.java:18</a></div></div>
<div class="ttc" id="interfaceorg_1_1cobbzilla_1_1util_1_1handlebars_1_1JurisdictionResolver_aa333bb7512d7882c4f075a17d0c85a48_html_aa333bb7512d7882c4f075a17d0c85a48"><div class="ttname"><a href="../../d1/dbf/interfaceorg_1_1cobbzilla_1_1util_1_1handlebars_1_1JurisdictionResolver_aa333bb7512d7882c4f075a17d0c85a48.html#aa333bb7512d7882c4f075a17d0c85a48">org.cobbzilla.util.handlebars.JurisdictionResolver.usZip</a></div><div class="ttdeci">String usZip(String value)</div></div>
<div class="ttc" id="namespaceorg_1_1cobbzilla_1_1util_1_1time_html"><div class="ttname"><a href="../../d9/d2b/namespaceorg_1_1cobbzilla_1_1util_1_1time.html">org.cobbzilla.util.time</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d67/ClockProvider_8java_source.html#l00001">ClockProvider.java:1</a></div></div>
<div class="ttc" id="namespaceorg_1_1cobbzilla_1_1util_1_1daemon_html"><div class="ttname"><a href="../../d0/de3/namespaceorg_1_1cobbzilla_1_1util_1_1daemon.html">org.cobbzilla.util.daemon</a></div><div class="ttdef"><b>Definition:</b> <a href="../../df/d98/Await_8java_source.html#l00001">Await.java:1</a></div></div>
<div class="ttc" id="interfaceorg_1_1cobbzilla_1_1util_1_1io_1_1FileResolver_html"><div class="ttname"><a href="../../d0/df1/interfaceorg_1_1cobbzilla_1_1util_1_1io_1_1FileResolver.html">org.cobbzilla.util.io.FileResolver</a></div><div class="ttdef"><b>Definition:</b> <a href="../../da/d27/FileResolver_8java_source.html#l00005">FileResolver.java:5</a></div></div>
<div class="ttc" id="classorg_1_1cobbzilla_1_1util_1_1io_1_1FileUtil_a68ba3562aff4d6bb1e737600420c3a0a_html_a68ba3562aff4d6bb1e737600420c3a0a"><div class="ttname"><a href="../../df/dac/classorg_1_1cobbzilla_1_1util_1_1io_1_1FileUtil_a68ba3562aff4d6bb1e737600420c3a0a.html#a68ba3562aff4d6bb1e737600420c3a0a">org.cobbzilla.util.io.FileUtil.toString</a></div><div class="ttdeci">static String toString(String f)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d27/FileUtil_8java_source.html#l00200">FileUtil.java:200</a></div></div>
<div class="ttc" id="interfaceorg_1_1cobbzilla_1_1util_1_1javascript_1_1JsEngineFactory_a8299d43585cf96c352b4b3f396167b99_html_a8299d43585cf96c352b4b3f396167b99"><div class="ttname"><a href="../../d4/d50/interfaceorg_1_1cobbzilla_1_1util_1_1javascript_1_1JsEngineFactory_a8299d43585cf96c352b4b3f396167b99.html#a8299d43585cf96c352b4b3f396167b99">org.cobbzilla.util.javascript.JsEngineFactory.getJs</a></div><div class="ttdeci">JsEngine getJs()</div></div>
<div class="ttc" id="classorg_1_1cobbzilla_1_1util_1_1io_1_1StreamUtil_html"><div class="ttname"><a href="../../dc/d81/classorg_1_1cobbzilla_1_1util_1_1io_1_1StreamUtil.html">org.cobbzilla.util.io.StreamUtil</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/db9/StreamUtil_8java_source.html#l00018">StreamUtil.java:18</a></div></div>
<div class="ttc" id="classorg_1_1cobbzilla_1_1util_1_1handlebars_1_1HandlebarsUtil_a1c3eadbdefed5e1e1a02589af8224eec_html_a1c3eadbdefed5e1e1a02589af8224eec"><div class="ttname"><a href="../../d0/d1b/classorg_1_1cobbzilla_1_1util_1_1handlebars_1_1HandlebarsUtil_a1c3eadbdefed5e1e1a02589af8224eec.html#a1c3eadbdefed5e1e1a02589af8224eec">org.cobbzilla.util.handlebars.HandlebarsUtil.DUMMY_END2</a></div><div class="ttdeci">static final String DUMMY_END2</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d5c/HandlebarsUtil_8java_source.html#l00114">HandlebarsUtil.java:114</a></div></div>
<div class="ttc" id="classorg_1_1cobbzilla_1_1util_1_1handlebars_1_1HandlebarsUtil_abf26ec5904b17a7790165c53e8124d04_html_abf26ec5904b17a7790165c53e8124d04"><div class="ttname"><a href="../../d0/d1b/classorg_1_1cobbzilla_1_1util_1_1handlebars_1_1HandlebarsUtil_abf26ec5904b17a7790165c53e8124d04.html#abf26ec5904b17a7790165c53e8124d04">org.cobbzilla.util.handlebars.HandlebarsUtil.setFileIncludePath</a></div><div class="ttdeci">static void setFileIncludePath(String path)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d5c/HandlebarsUtil_8java_source.html#l00735">HandlebarsUtil.java:735</a></div></div>
<div class="ttc" id="classorg_1_1cobbzilla_1_1util_1_1handlebars_1_1HandlebarsUtil_a3798bc5bdea2ec45b6d6fe4e84e2caab_html_a3798bc5bdea2ec45b6d6fe4e84e2caab"><div class="ttname"><a href="../../d0/d1b/classorg_1_1cobbzilla_1_1util_1_1handlebars_1_1HandlebarsUtil_a3798bc5bdea2ec45b6d6fe4e84e2caab.html#a3798bc5bdea2ec45b6d6fe4e84e2caab">org.cobbzilla.util.handlebars.HandlebarsUtil.apply</a></div><div class="ttdeci">static Map&lt; String, Object &gt; apply(Handlebars handlebars, Map&lt; String, Object &gt; map, Map&lt; String, Object &gt; ctx)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d5c/HandlebarsUtil_8java_source.html#l00076">HandlebarsUtil.java:76</a></div></div>
<div class="ttc" id="classorg_1_1cobbzilla_1_1util_1_1handlebars_1_1HandlebarsUtil_af8f3012d152b38e5472c15975a8921e2_html_af8f3012d152b38e5472c15975a8921e2"><div class="ttname"><a href="../../d0/d1b/classorg_1_1cobbzilla_1_1util_1_1handlebars_1_1HandlebarsUtil_af8f3012d152b38e5472c15975a8921e2.html#af8f3012d152b38e5472c15975a8921e2">org.cobbzilla.util.handlebars.HandlebarsUtil.registerUtilityHelpers</a></div><div class="ttdeci">static void registerUtilityHelpers(final Handlebars hb)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d5c/HandlebarsUtil_8java_source.html#l00248">HandlebarsUtil.java:248</a></div></div>
<div class="ttc" id="classorg_1_1cobbzilla_1_1util_1_1reflect_1_1ReflectionUtil_ad5ff44a6b0324da64e130f6f8c4cce10_html_ad5ff44a6b0324da64e130f6f8c4cce10"><div class="ttname"><a href="../../de/d45/classorg_1_1cobbzilla_1_1util_1_1reflect_1_1ReflectionUtil_ad5ff44a6b0324da64e130f6f8c4cce10.html#ad5ff44a6b0324da64e130f6f8c4cce10">org.cobbzilla.util.reflect.ReflectionUtil.toLong</a></div><div class="ttdeci">static Long toLong(Object object)</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d2f/ReflectionUtil_8java_source.html#l00045">ReflectionUtil.java:45</a></div></div>
<div class="ttc" id="classorg_1_1cobbzilla_1_1util_1_1handlebars_1_1HandlebarsUtil_af46ac52c350d17d472d2679cee374325_html_af46ac52c350d17d472d2679cee374325"><div class="ttname"><a href="../../d0/d1b/classorg_1_1cobbzilla_1_1util_1_1handlebars_1_1HandlebarsUtil_af46ac52c350d17d472d2679cee374325.html#af46ac52c350d17d472d2679cee374325">org.cobbzilla.util.handlebars.HandlebarsUtil.setMessageSender</a></div><div class="ttdeci">static void setMessageSender(ContextMessageSender sender)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d5c/HandlebarsUtil_8java_source.html#l00240">HandlebarsUtil.java:240</a></div></div>
<div class="ttc" id="classorg_1_1cobbzilla_1_1util_1_1handlebars_1_1HandlebarsUtil_a3ce0c8388c4503dd6b12c65dbafd6567_html_a3ce0c8388c4503dd6b12c65dbafd6567"><div class="ttname"><a href="../../d0/d1b/classorg_1_1cobbzilla_1_1util_1_1handlebars_1_1HandlebarsUtil_a3ce0c8388c4503dd6b12c65dbafd6567.html#a3ce0c8388c4503dd6b12c65dbafd6567">org.cobbzilla.util.handlebars.HandlebarsUtil.EMPTY_SAFE_STRING</a></div><div class="ttdeci">static final CharSequence EMPTY_SAFE_STRING</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d5c/HandlebarsUtil_8java_source.html#l00236">HandlebarsUtil.java:236</a></div></div>
<div class="ttc" id="classorg_1_1cobbzilla_1_1util_1_1handlebars_1_1HandlebarsUtil_a9bd557f77e10749d366972656c700eac_html_a9bd557f77e10749d366972656c700eac"><div class="ttname"><a href="../../d0/d1b/classorg_1_1cobbzilla_1_1util_1_1handlebars_1_1HandlebarsUtil_a9bd557f77e10749d366972656c700eac.html#a9bd557f77e10749d366972656c700eac">org.cobbzilla.util.handlebars.HandlebarsUtil.HB_START_CHAR</a></div><div class="ttdeci">static final char HB_START_CHAR</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d5c/HandlebarsUtil_8java_source.html#l00062">HandlebarsUtil.java:62</a></div></div>
<div class="ttc" id="classorg_1_1cobbzilla_1_1util_1_1handlebars_1_1HandlebarsUtil_1_1DateHelper_af88617030039c50f7c5806cdb84e604f_html_af88617030039c50f7c5806cdb84e604f"><div class="ttname"><a href="../../db/d54/classorg_1_1cobbzilla_1_1util_1_1handlebars_1_1HandlebarsUtil_1_1DateHelper_af88617030039c50f7c5806cdb84e604f.html#af88617030039c50f7c5806cdb84e604f">org.cobbzilla.util.handlebars.HandlebarsUtil.DateHelper.print</a></div><div class="ttdeci">CharSequence print(DateTimeFormatter formatter, Object src, Options options)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d5c/HandlebarsUtil_8java_source.html#l00606">HandlebarsUtil.java:606</a></div></div>
<div class="ttc" id="classorg_1_1cobbzilla_1_1util_1_1time_1_1TimeUtil_aa719cef14f8f815be188911e7a4efe3e_html_aa719cef14f8f815be188911e7a4efe3e"><div class="ttname"><a href="../../d2/dea/classorg_1_1cobbzilla_1_1util_1_1time_1_1TimeUtil_aa719cef14f8f815be188911e7a4efe3e.html#aa719cef14f8f815be188911e7a4efe3e">org.cobbzilla.util.time.TimeUtil.DATE_FORMAT_MMDDYYYY</a></div><div class="ttdeci">static final DateTimeFormatter DATE_FORMAT_MMDDYYYY</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/de6/TimeUtil_8java_source.html#l00025">TimeUtil.java:25</a></div></div>
<div class="ttc" id="classorg_1_1cobbzilla_1_1util_1_1handlebars_1_1HandlebarsUtil_1_1DateHelper_html"><div class="ttname"><a href="../../db/d54/classorg_1_1cobbzilla_1_1util_1_1handlebars_1_1HandlebarsUtil_1_1DateHelper.html">org.cobbzilla.util.handlebars.HandlebarsUtil.DateHelper</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d5c/HandlebarsUtil_8java_source.html#l00585">HandlebarsUtil.java:585</a></div></div>
<div class="ttc" id="classorg_1_1cobbzilla_1_1util_1_1handlebars_1_1HandlebarsUtil_1_1DateHelper_a8edbb76ae9f62bf7ab56e1107eeea00d_html_a8edbb76ae9f62bf7ab56e1107eeea00d"><div class="ttname"><a href="../../db/d54/classorg_1_1cobbzilla_1_1util_1_1handlebars_1_1HandlebarsUtil_1_1DateHelper_a8edbb76ae9f62bf7ab56e1107eeea00d.html#a8edbb76ae9f62bf7ab56e1107eeea00d">org.cobbzilla.util.handlebars.HandlebarsUtil.DateHelper.zonedTimestamp</a></div><div class="ttdeci">long zonedTimestamp(Object src, Options options, int index)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d5c/HandlebarsUtil_8java_source.html#l00600">HandlebarsUtil.java:600</a></div></div>
<div class="ttc" id="classorg_1_1cobbzilla_1_1util_1_1string_1_1Base64_a50e405f442016eb3f0488cc820bf78ec_html_a50e405f442016eb3f0488cc820bf78ec"><div class="ttname"><a href="../../df/da0/classorg_1_1cobbzilla_1_1util_1_1string_1_1Base64_a50e405f442016eb3f0488cc820bf78ec.html#a50e405f442016eb3f0488cc820bf78ec">org.cobbzilla.util.string.Base64.encodeFromFile</a></div><div class="ttdeci">static String encodeFromFile(String filename)</div><div class="ttdoc">See encodeFromFile(java.io.File). </div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d1d/Base64_8java_source.html#l01529">Base64.java:1529</a></div></div>
<div class="ttc" id="classorg_1_1cobbzilla_1_1util_1_1handlebars_1_1HandlebarsUtil_a67f12802636c6a50c3b48c949a3029d8_html_a67f12802636c6a50c3b48c949a3029d8"><div class="ttname"><a href="../../d0/d1b/classorg_1_1cobbzilla_1_1util_1_1handlebars_1_1HandlebarsUtil_a67f12802636c6a50c3b48c949a3029d8.html#a67f12802636c6a50c3b48c949a3029d8">org.cobbzilla.util.handlebars.HandlebarsUtil.JSON_STRING_ENCODER</a></div><div class="ttdeci">static final JsonStringEncoder JSON_STRING_ENCODER</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d5c/HandlebarsUtil_8java_source.html#l00072">HandlebarsUtil.java:72</a></div></div>
<div class="ttc" id="classorg_1_1cobbzilla_1_1util_1_1handlebars_1_1HandlebarsUtil_af2302957780a3260d87a6a9f5e5cb82c_html_af2302957780a3260d87a6a9f5e5cb82c"><div class="ttname"><a href="../../d0/d1b/classorg_1_1cobbzilla_1_1util_1_1handlebars_1_1HandlebarsUtil_af2302957780a3260d87a6a9f5e5cb82c.html#af2302957780a3260d87a6a9f5e5cb82c">org.cobbzilla.util.handlebars.HandlebarsUtil.longDollarVal</a></div><div class="ttdeci">static long longDollarVal(Object src)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d5c/HandlebarsUtil_8java_source.html#l00684">HandlebarsUtil.java:684</a></div></div>
<div class="ttc" id="namespaceorg_1_1cobbzilla_1_1util_1_1string_html"><div class="ttname"><a href="../../d7/dda/namespaceorg_1_1cobbzilla_1_1util_1_1string.html">org.cobbzilla.util.string</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d1d/Base64_8java_source.html#l00001">Base64.java:1</a></div></div>
<div class="ttc" id="classorg_1_1cobbzilla_1_1util_1_1handlebars_1_1HandlebarsUtil_a6a356277e4c72467b4ea71f7a9af3311_html_a6a356277e4c72467b4ea71f7a9af3311"><div class="ttname"><a href="../../d0/d1b/classorg_1_1cobbzilla_1_1util_1_1handlebars_1_1HandlebarsUtil_a6a356277e4c72467b4ea71f7a9af3311.html#a6a356277e4c72467b4ea71f7a9af3311">org.cobbzilla.util.handlebars.HandlebarsUtil.compare</a></div><div class="ttdeci">static&lt; T &gt; boolean compare(String operator, Comparable&lt; T &gt; v1, T v2)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d5c/HandlebarsUtil_8java_source.html#l00527">HandlebarsUtil.java:527</a></div></div>
<div class="ttc" id="classorg_1_1cobbzilla_1_1util_1_1handlebars_1_1HandlebarsUtil_a56b765cef6340afc9e70805f2d0bcec3_html_a56b765cef6340afc9e70805f2d0bcec3"><div class="ttname"><a href="../../d0/d1b/classorg_1_1cobbzilla_1_1util_1_1handlebars_1_1HandlebarsUtil_a56b765cef6340afc9e70805f2d0bcec3.html#a56b765cef6340afc9e70805f2d0bcec3">org.cobbzilla.util.handlebars.HandlebarsUtil.setFileIncludePaths</a></div><div class="ttdeci">static void setFileIncludePaths(String name, Collection&lt; String &gt; paths)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d5c/HandlebarsUtil_8java_source.html#l00739">HandlebarsUtil.java:739</a></div></div>
<div class="ttc" id="classorg_1_1cobbzilla_1_1util_1_1io_1_1StreamUtil_aa82a9bc20749f971c1ec04a4025ef34d_html_aa82a9bc20749f971c1ec04a4025ef34d"><div class="ttname"><a href="../../dc/d81/classorg_1_1cobbzilla_1_1util_1_1io_1_1StreamUtil_aa82a9bc20749f971c1ec04a4025ef34d.html#aa82a9bc20749f971c1ec04a4025ef34d">org.cobbzilla.util.io.StreamUtil.loadResourceAsStream</a></div><div class="ttdeci">static InputStream loadResourceAsStream(String path)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/db9/StreamUtil_8java_source.html#l00069">StreamUtil.java:69</a></div></div>
<div class="ttc" id="classorg_1_1cobbzilla_1_1util_1_1security_1_1ShaUtil_a36156b8bd14a480cac3fc2b98c2dad46_html_a36156b8bd14a480cac3fc2b98c2dad46"><div class="ttname"><a href="../../d6/dbf/classorg_1_1cobbzilla_1_1util_1_1security_1_1ShaUtil_a36156b8bd14a480cac3fc2b98c2dad46.html#a36156b8bd14a480cac3fc2b98c2dad46">org.cobbzilla.util.security.ShaUtil.sha256_hex</a></div><div class="ttdeci">static String sha256_hex(String data)</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/df7/ShaUtil_8java_source.html#l00047">ShaUtil.java:47</a></div></div>
<div class="ttc" id="namespaceorg_1_1cobbzilla_1_1util_1_1collection_html"><div class="ttname"><a href="../../dd/dd4/namespaceorg_1_1cobbzilla_1_1util_1_1collection.html">org.cobbzilla.util.collection</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d9/ddf/AllowNullComparator_8java_source.html#l00001">AllowNullComparator.java:1</a></div></div>
<div class="ttc" id="interfaceorg_1_1cobbzilla_1_1util_1_1handlebars_1_1ContextMessageSender_af815765cad9125c3ef17f3f5f0d6fa42_html_af815765cad9125c3ef17f3f5f0d6fa42"><div class="ttname"><a href="../../df/d45/interfaceorg_1_1cobbzilla_1_1util_1_1handlebars_1_1ContextMessageSender_af815765cad9125c3ef17f3f5f0d6fa42.html#af815765cad9125c3ef17f3f5f0d6fa42">org.cobbzilla.util.handlebars.ContextMessageSender.send</a></div><div class="ttdeci">void send(String recipient, String subject, String message, String contentType)</div></div>
<div class="ttc" id="classorg_1_1cobbzilla_1_1util_1_1handlebars_1_1HandlebarsUtil_1_1FileLoaderHelper_a5506213d5404c967ea53358a20e68f5a_html_a5506213d5404c967ea53358a20e68f5a"><div class="ttname"><a href="../../d7/d5c/classorg_1_1cobbzilla_1_1util_1_1handlebars_1_1HandlebarsUtil_1_1FileLoaderHelper_a5506213d5404c967ea53358a20e68f5a.html#a5506213d5404c967ea53358a20e68f5a">org.cobbzilla.util.handlebars.HandlebarsUtil.FileLoaderHelper.isBase64EncoderOn</a></div><div class="ttdeci">boolean isBase64EncoderOn</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d5c/HandlebarsUtil_8java_source.html#l00746">HandlebarsUtil.java:746</a></div></div>
</div><!-- fragment --></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="../../dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li><li class="navelem"><a class="el" href="../../dir_5eb159725f84c66aafd839904a4acdd0.html">main</a></li><li class="navelem"><a class="el" href="../../dir_fd3f6763802dee1ad875f6c80eac0bda.html">java</a></li><li class="navelem"><a class="el" href="../../dir_daf7592b8ade76cad5a1e82d805df54b.html">org</a></li><li class="navelem"><a class="el" href="../../dir_dde41f506a03ba5a7dea86547b1baa45.html">cobbzilla</a></li><li class="navelem"><a class="el" href="../../dir_3aac5afbbb15ec2907c8632a659acf1c.html">util</a></li><li class="navelem"><a class="el" href="../../dir_2b155dfdb84ae6e097c275a2c4aa440a.html">handlebars</a></li><li class="navelem"><a class="el" href="../../dd/d5c/HandlebarsUtil_8java.html">HandlebarsUtil.java</a></li>
    <li class="footer">Generated on Fri Apr 19 2019 13:04:07 for kkkkkkkobzillla-utils by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="../../doxygen.png" alt="doxygen"/></a> 1.8.13 </li>
  </ul>
</div>
</body>
</html>
